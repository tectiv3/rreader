import{u as ee,a as te}from"./useAddFeedModal-CQE-PUmH.js";import{w as re,r as ue,a as h,n as J,o as le,b as ne,c as r,d as U,e as j,f as N,g as n,h as e,T as D,i as Y,j as i,k as s,l as E,t as x,m as de,F as _,p as T,v as ce,q as ve,s as W,u as V,x as ae,y as xe,z as ke,A as fe,B as be,K as pe,C as ge,D as me,E as O,G as he}from"./app-DQQxaQue.js";import{_ as K,a as H,b as X}from"./TextInput-BL_Ylwsb.js";import{u as G}from"./useSidebarStore-0NBIamx_.js";import{u as ye}from"./useToast-B0hvXMW-.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as we}from"./useArticleStore-BffKVLAw.js";const se="rreader-offline-queue",I=h(Ce());let P=!1;function Ce(){try{const l=localStorage.getItem(se);return l?JSON.parse(l):[]}catch{return[]}}function ie(){try{localStorage.setItem(se,JSON.stringify(I.value))}catch{}}function Me(l,m,k={}){I.value.push({method:l,url:m,data:k,queuedAt:new Date().toISOString()}),ie()}function q(){if(P||I.value.length===0)return;P=!0;const l=[...I.value];I.value=[],ie();let m=Promise.resolve();for(const k of l)m=m.then(()=>new Promise($=>{ue[k.method](k.url,k.data,{preserveScroll:!0,preserveState:!0,onFinish:()=>$(),onError:()=>$()})}));m.finally(()=>{P=!1,I.value.length>0&&q()})}function $e(){const{isOnline:l}=ee();return re(l,m=>{m&&q()}),l.value&&I.value.length>0&&setTimeout(q,100),{queue:I,enqueue:Me,flushQueue:q}}const je={key:0,class:"fixed inset-0 z-50 flex items-start justify-center pt-[12vh] lg:items-center lg:pt-0"},Se={key:0,class:"relative z-10 w-full max-h-[80vh] overflow-y-auto rounded-2xl bg-neutral-50 dark:bg-neutral-900 shadow-2xl max-w-md mx-4"},Fe={class:"p-5"},ze={key:0},Be=["disabled"],Le={key:0,class:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},Ae={key:1},_e={class:"flex items-start gap-3 mb-5 rounded-lg bg-neutral-100 dark:bg-neutral-800 p-3"},Ve=["src"],Re={key:1,class:"mt-0.5 h-6 w-6 rounded bg-neutral-300 dark:bg-neutral-700 shrink-0"},Te={class:"min-w-0 flex-1"},Ie={class:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate"},Ue={key:0,class:"mt-0.5 text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2"},Ee={class:"mt-0.5 text-xs text-neutral-600 dark:text-neutral-500"},Ne={class:"mb-4"},Oe={class:"mb-4"},He={key:0},qe=["value"],De={key:1},Qe=["disabled"],Ke={key:0,class:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},Pe={__name:"AddFeedModal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:m}){const k=l,$=m,d=h(""),u=h(""),F=h(!1),y=h(null),B=h([]),c=h(""),w=h(""),A=h(""),z=h(""),L=h(!1),g=h(!1),S=h({}),p=h(null);re(()=>k.show,C=>{C?(document.body.style.overflow="hidden",J(()=>{p.value?.focus()})):(document.body.style.overflow="",a())});function t(C){C.key==="Escape"&&k.show&&(C.preventDefault(),o())}le(()=>document.addEventListener("keydown",t)),ne(()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""});function a(){d.value="",u.value="",F.value=!1,y.value=null,B.value=[],c.value="",w.value="",A.value="",z.value="",L.value=!1,g.value=!1,S.value={}}function o(){$("close")}async function b(){if(d.value.trim()){u.value="",F.value=!0;try{const C=await W.post("/api/feeds/preview",{url:d.value});y.value=C.data.preview,B.value=C.data.categories,c.value=C.data.preview.feed_url,w.value=""}catch(C){C.response?.status===422&&C.response.data?.errors?.url?u.value=C.response.data.errors.url[0]:u.value="Something went wrong. Please try again."}finally{F.value=!1}}}function f(){L.value=!L.value,L.value?A.value="":z.value=""}async function Q(){g.value=!0,S.value={};try{await W.post("/api/feeds",{feed_url:c.value,title:w.value||y.value?.title||"",category_id:A.value||"",new_category:z.value||""}),G().fetchSidebar(),o()}catch(C){C.response?.status===422&&C.response.data?.errors&&(S.value=Object.fromEntries(Object.entries(C.response.data.errors).map(([v,M])=>[v,Array.isArray(M)?M[0]:M])))}finally{g.value=!1}}function R(){y.value=null,S.value={},J(()=>{p.value?.focus()})}return(C,v)=>(r(),U(ve,{to:"body"},[j(D,{"enter-active-class":"duration-200 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:N(()=>[l.show?(r(),n("div",je,[e("div",{class:"absolute inset-0 bg-black/60",onClick:o}),j(D,{"enter-active-class":"duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95",appear:""},{default:N(()=>[l.show?(r(),n("div",Se,[e("div",{class:"sticky top-0 z-10 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 px-5 py-4 rounded-t-2xl"},[v[6]||(v[6]=e("h2",{class:"text-base font-semibold text-neutral-900 dark:text-neutral-100"}," Add Feed ",-1)),e("button",{onClick:o,class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Close"},[...v[5]||(v[5]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Fe,[y.value?(r(),n("div",Ae,[e("button",{onClick:R,class:"mb-4 flex items-center gap-1 text-sm text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors"},[...v[9]||(v[9]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),E(" Search again ",-1)])]),e("div",_e,[y.value.favicon_url?(r(),n("img",{key:0,src:y.value.favicon_url,class:"mt-0.5 h-6 w-6 rounded",onError:v[1]||(v[1]=M=>M.target.style.display="none")},null,40,Ve)):(r(),n("div",Re)),e("div",Te,[e("h3",Ie,x(y.value.title||"Untitled Feed"),1),y.value.description?(r(),n("p",Ue,x(y.value.description),1)):s("",!0),e("p",Ee,x(y.value.article_count)+" articles found ",1)])]),e("form",{onSubmit:Y(Q,["prevent"])},[e("div",Ne,[j(X,{for:"add-feed-title",value:"Title (optional)"}),j(K,{id:"add-feed-title",type:"text",class:"mt-1 block w-full text-base",modelValue:w.value,"onUpdate:modelValue":v[2]||(v[2]=M=>w.value=M),placeholder:y.value.title||"Feed title"},null,8,["modelValue","placeholder"])]),e("div",Oe,[j(X,{for:"add-feed-category",value:"Category (optional)"}),L.value?(r(),n("div",De,[j(K,{id:"add-feed-new-category",type:"text",class:"mt-1 block w-full text-base",modelValue:z.value,"onUpdate:modelValue":v[4]||(v[4]=M=>z.value=M),placeholder:"New category name"},null,8,["modelValue"])])):(r(),n("div",He,[de(e("select",{id:"add-feed-category","onUpdate:modelValue":v[3]||(v[3]=M=>A.value=M),class:"mt-1 block w-full rounded-lg border-neutral-300 bg-white text-base text-neutral-800 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},[v[10]||(v[10]=e("option",{value:""},"No category",-1)),(r(!0),n(_,null,T(B.value,M=>(r(),n("option",{key:M.id,value:M.id},x(M.name),9,qe))),128))],512),[[ce,A.value]])])),e("button",{type:"button",onClick:f,class:"mt-2 text-sm text-blue-400 hover:text-blue-300"},x(L.value?"Choose existing category":"+ Create new category"),1),j(H,{class:"mt-2",message:S.value.category_id},null,8,["message"]),j(H,{class:"mt-2",message:S.value.new_category},null,8,["message"])]),j(H,{class:"mb-3",message:S.value.feed_url},null,8,["message"]),e("button",{type:"submit",class:i(["w-full inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-blue-500 focus:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-neutral-900 active:bg-blue-700",{"opacity-25":g.value}]),disabled:g.value},[g.value?(r(),n("svg",Ke,[...v[11]||(v[11]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):s("",!0),E(" "+x(g.value?"Subscribing...":"Subscribe"),1)],10,Qe)],32)])):(r(),n("div",ze,[e("form",{onSubmit:Y(b,["prevent"])},[e("div",null,[j(K,{ref_key:"urlInput",ref:p,id:"add-feed-url",type:"url",class:"block w-full text-base",modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=M=>d.value=M),placeholder:"https://example.com or feed URL",required:""},null,8,["modelValue"]),v[7]||(v[7]=e("p",{class:"mt-1.5 text-xs text-neutral-600 dark:text-neutral-500"}," Enter a website URL or direct RSS/Atom feed URL ",-1)),j(H,{class:"mt-2",message:u.value},null,8,["message"])]),e("button",{type:"submit",class:i(["mt-4 w-full inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-blue-500 focus:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-neutral-900 active:bg-blue-700",{"opacity-25":F.value}]),disabled:F.value},[F.value?(r(),n("svg",Le,[...v[8]||(v[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):s("",!0),E(" "+x(F.value?"Searching...":"Find Feed"),1)],10,Be)],32)]))])])):s("",!0)]),_:1})])):s("",!0)]),_:1})]))}},Ge={class:"fixed bottom-20 lg:bottom-6 inset-x-0 z-50 flex flex-col items-center gap-2 pointer-events-none px-4"},Je={key:0,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},Ye={key:1,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},We={key:2,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},Xe=["onClick"],Ze={__name:"ToastContainer",setup(l){const{toasts:m,dismiss:k}=ye();return($,d)=>(r(),n("div",Ge,[(r(!0),n(_,null,T(V(m),u=>(r(),n("div",{key:u.id,class:i(["pointer-events-auto flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium shadow-lg transition-all duration-300",[u.type==="success"?"bg-green-600 text-white":u.type==="error"?"bg-red-600 text-white":"bg-neutral-300 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100",u.leaving?"opacity-0 translate-y-2":"opacity-100 translate-y-0"]]),role:"status","aria-live":"polite"},[u.type==="success"?(r(),n("svg",Je,[...d[0]||(d[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)])])):u.type==="error"?(r(),n("svg",Ye,[...d[1]||(d[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"},null,-1)])])):(r(),n("svg",We,[...d[2]||(d[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"},null,-1)])])),e("span",null,x(u.message),1),e("button",{onClick:F=>V(k)(u.id),class:"ml-1 shrink-0 rounded p-0.5 opacity-70 hover:opacity-100 transition-opacity","aria-label":"Dismiss"},[...d[3]||(d[3]=[e("svg",{class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Xe)],2))),128))]))}},et={key:0,class:"fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-neutral-50 dark:bg-neutral-900 shadow-xl",role:"dialog","aria-label":"Navigation sidebar"},tt={class:"flex min-h-14 items-center justify-between border-b border-neutral-200 dark:border-neutral-800 px-4 pt-safe"},rt={class:"flex items-center gap-1"},lt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},nt={class:"px-3 pb-2"},at={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},ot={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},st={class:"px-3 pt-3"},it={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},ut=["onClick","aria-expanded","title","aria-label"],dt=["onClick"],ct={class:"flex-1 truncate"},vt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},xt={key:0,class:"ml-4"},kt=["onClick"],ft=["src"],bt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},pt={class:"flex-1 truncate text-left"},gt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},mt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},ht={key:0,class:"mt-0.5"},yt=["onClick"],wt=["src"],Ct={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Mt={class:"flex-1 truncate text-left"},$t={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},jt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},St={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},Ft={key:0,class:"text-base font-semibold text-neutral-900 dark:text-neutral-100 truncate"},zt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},Bt={class:"px-2 pb-2"},Lt=["title"],At={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},_t=["title"],Vt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Rt=["title"],Tt={key:0,class:"flex-1 text-left"},It={key:0,class:"px-3 pt-3"},Ut={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Et=["onClick","aria-expanded","title","aria-label"],Nt=["onClick"],Ot={class:"flex-1 truncate"},Ht={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},qt={key:0,class:"ml-4"},Dt=["onClick"],Qt=["src"],Kt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Pt={class:"flex-1 truncate text-left"},Gt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Jt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Yt={key:0,class:"mt-0.5"},Wt=["onClick"],Xt=["src"],Zt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},er={class:"flex-1 truncate text-left"},tr={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},rr={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},lr={key:1,class:"px-2 pt-3"},nr=["title"],ar={key:0},or=["title"],sr={key:0},ir={__name:"SidebarDrawer",props:{open:Boolean,persistent:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},sidebar:Object,activeFeedId:Number,activeCategoryId:Number,activeFilter:String},emits:["close","collapse-toggle","navigate"],setup(l,{emit:m}){const{openAddFeedModal:k}=te(),$=ae(),d=l,u=m,F=h({});function y(p){F.value[p]=!F.value[p]}function B(p){return F.value[p]||!1}function c(p){d.persistent||u("close"),u("navigate",p)}function w(){return!d.activeFeedId&&!d.activeCategoryId&&!d.activeFilter}function A(){u("close"),k()}function z(){u("close"),$.push({name:"feeds.manage"})}function L(){u("close"),$.push({name:"settings"})}function g(p){for(const a of d.sidebar?.categories||[]){const o=a.feeds.find(b=>b.id===p);if(o)return o.unread_count||0}return(d.sidebar?.uncategorizedFeeds||[]).find(a=>a.id===p)?.unread_count||0}function S(p){return p.unread_count||0}return(p,t)=>l.persistent?(r(),n("aside",{key:1,class:i(["flex flex-col border-r border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 transition-all duration-200 shrink-0",l.collapsed?"w-16":"w-72"]),"aria-label":"Navigation sidebar"},[e("div",{class:i(["flex h-11 items-center border-b border-neutral-200 dark:border-neutral-800 px-3",l.collapsed?"justify-center":"justify-between"])},[l.collapsed?s("",!0):(r(),n("h2",Ft," RReader ")),l.collapsed?s("",!0):(r(),n("button",{key:1,onClick:t[9]||(t[9]=a=>z()),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors cursor-pointer"}," Edit "))],2),e("nav",zt,[e("div",Bt,[e("button",{onClick:t[10]||(t[10]=a=>c({filter:"today"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Today":void 0},[t[34]||(t[34]=e("svg",{class:"h-5 w-5 shrink-0 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),l.collapsed?s("",!0):(r(),n(_,{key:0},[t[33]||(t[33]=e("span",{class:"flex-1 text-left"},"Today",-1)),l.sidebar.todayCount>0?(r(),n("span",At,x(l.sidebar.todayCount),1)):s("",!0)],64))],10,Lt),e("button",{onClick:t[11]||(t[11]=a=>c({filter:"read_later"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Read Later":void 0},[t[36]||(t[36]=e("svg",{class:"h-5 w-5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),l.collapsed?s("",!0):(r(),n(_,{key:0},[t[35]||(t[35]=e("span",{class:"flex-1 text-left"},"Read Later",-1)),l.sidebar.readLaterCount>0?(r(),n("span",Vt,x(l.sidebar.readLaterCount),1)):s("",!0)],64))],10,_t),e("button",{onClick:t[12]||(t[12]=a=>c({filter:"recently_read"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="recently_read"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Recently Read":void 0},[t[37]||(t[37]=e("svg",{class:"h-5 w-5 shrink-0 text-green-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l.collapsed?s("",!0):(r(),n("span",Tt,"Recently Read"))],10,Rt)]),e("div",{class:i(["border-t border-neutral-200 dark:border-neutral-800",l.collapsed?"mx-2":"mx-3"])},null,2),l.collapsed?s("",!0):(r(),n("div",It,[t[43]||(t[43]=e("div",{class:"flex items-center justify-between px-3 pb-2"},[e("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ")],-1)),e("button",{onClick:t[13]||(t[13]=a=>c({})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",w()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[38]||(t[38]=e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),t[39]||(t[39]=e("span",{class:"flex-1 text-left"},"All",-1)),l.sidebar.totalUnread>0?(r(),n("span",Ut,x(l.sidebar.totalUnread),1)):s("",!0)],2),(r(!0),n(_,null,T(l.sidebar.categories,a=>(r(),n("div",{key:a.id,class:"mt-0.5"},[e("div",{class:i(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",l.activeCategoryId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[e("button",{onClick:o=>y(a.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":B(a.id),title:`Toggle ${a.name} feeds`,"aria-label":`Toggle ${a.name} feeds`},[(r(),n("svg",{class:i(["h-4 w-4 transition-transform duration-200",{"rotate-90":B(a.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,Et),e("button",{onClick:o=>c({category_id:a.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[e("span",Ot,x(a.name),1),S(a)>0?(r(),n("span",Ht,x(S(a)),1)):s("",!0)],8,Nt)],2),B(a.id)?(r(),n("div",qt,[(r(!0),n(_,null,T(a.feeds,o=>(r(),n("button",{key:o.id,onClick:b=>c({feed_id:o.id}),class:i(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",l.activeFeedId===o.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[o.favicon_url?(r(),n("img",{key:0,src:o.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Qt)):(r(),n("div",Kt)),e("span",Pt,x(o.title),1),o.disabled_at?(r(),n("svg",Gt,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):g(o.id)>0?(r(),n("span",Jt,x(g(o.id)),1)):s("",!0)],10,Dt))),128))])):s("",!0)]))),128)),l.sidebar.uncategorizedFeeds.length>0?(r(),n("div",Yt,[(r(!0),n(_,null,T(l.sidebar.uncategorizedFeeds,a=>(r(),n("button",{key:a.id,onClick:o=>c({feed_id:a.id}),class:i(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFeedId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[a.favicon_url?(r(),n("img",{key:0,src:a.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Xt)):(r(),n("div",Zt)),e("span",er,x(a.title),1),a.disabled_at?(r(),n("svg",tr,[...t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):g(a.id)>0?(r(),n("span",rr,x(g(a.id)),1)):s("",!0)],10,Wt))),128))])):s("",!0)])),l.collapsed?(r(),n("div",lr,[e("button",{onClick:t[14]||(t[14]=a=>c({})),class:i(["flex w-full items-center justify-center rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",w()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:"All Feeds"},[...t[44]||(t[44]=[e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)])],2)])):s("",!0)]),e("div",{class:i(["border-t border-neutral-200 dark:border-neutral-800 p-2",l.collapsed?"space-y-1":"space-y-2 p-3"])},[e("button",{onClick:t[15]||(t[15]=a=>A()),class:i(["flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer",l.collapsed?"p-2.5":"px-4 py-2.5"]),title:l.collapsed?"Add Feed":void 0},[t[45]||(t[45]=e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),l.collapsed?s("",!0):(r(),n("span",ar,"Add Feed"))],10,nr),e("button",{onClick:t[16]||(t[16]=a=>L()),class:i(["flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors cursor-pointer",l.collapsed?"p-2.5":"px-4 py-2.5"]),title:l.collapsed?"Settings":void 0},[t[46]||(t[46]=e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),l.collapsed?s("",!0):(r(),n("span",sr,"Settings"))],10,or)],2)],2)):(r(),n(_,{key:0},[j(D,{name:"overlay"},{default:N(()=>[l.open?(r(),n("div",{key:0,class:"fixed inset-0 z-40 bg-black/60",onClick:t[0]||(t[0]=a=>u("close"))})):s("",!0)]),_:1}),j(D,{name:"drawer"},{default:N(()=>[l.open?(r(),n("div",et,[e("div",tt,[t[18]||(t[18]=e("h2",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"}," RReader ",-1)),e("div",rt,[e("button",{onClick:t[1]||(t[1]=a=>z()),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors cursor-pointer"}," Edit "),e("button",{onClick:t[2]||(t[2]=a=>u("close")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Close sidebar","aria-label":"Close sidebar"},[...t[17]||(t[17]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("nav",lt,[e("div",nt,[e("button",{onClick:t[3]||(t[3]=a=>c({filter:"today"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[19]||(t[19]=e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),t[20]||(t[20]=e("span",{class:"flex-1 text-left"},"Today",-1)),l.sidebar.todayCount>0?(r(),n("span",at,x(l.sidebar.todayCount),1)):s("",!0)],2),e("button",{onClick:t[4]||(t[4]=a=>c({filter:"read_later"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[21]||(t[21]=e("svg",{class:"h-5 w-5 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t[22]||(t[22]=e("span",{class:"flex-1 text-left"},"Read Later",-1)),l.sidebar.readLaterCount>0?(r(),n("span",ot,x(l.sidebar.readLaterCount),1)):s("",!0)],2),e("button",{onClick:t[5]||(t[5]=a=>c({filter:"recently_read"})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="recently_read"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[...t[23]||(t[23]=[e("svg",{class:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",{class:"flex-1 text-left"},"Recently Read",-1)])],2)]),t[30]||(t[30]=e("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),e("div",st,[t[29]||(t[29]=e("div",{class:"flex items-center justify-between px-3 pb-2"},[e("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ")],-1)),e("button",{onClick:t[6]||(t[6]=a=>c({})),class:i(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",w()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[24]||(t[24]=e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),t[25]||(t[25]=e("span",{class:"flex-1 text-left"},"All",-1)),l.sidebar.totalUnread>0?(r(),n("span",it,x(l.sidebar.totalUnread),1)):s("",!0)],2),(r(!0),n(_,null,T(l.sidebar.categories,a=>(r(),n("div",{key:a.id,class:"mt-0.5"},[e("div",{class:i(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",l.activeCategoryId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[e("button",{onClick:o=>y(a.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":B(a.id),title:`Toggle ${a.name} feeds`,"aria-label":`Toggle ${a.name} feeds`},[(r(),n("svg",{class:i(["h-4 w-4 transition-transform duration-200",{"rotate-90":B(a.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,ut),e("button",{onClick:o=>c({category_id:a.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[e("span",ct,x(a.name),1),S(a)>0?(r(),n("span",vt,x(S(a)),1)):s("",!0)],8,dt)],2),B(a.id)?(r(),n("div",xt,[(r(!0),n(_,null,T(a.feeds,o=>(r(),n("button",{key:o.id,onClick:b=>c({feed_id:o.id}),class:i(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",l.activeFeedId===o.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[o.favicon_url?(r(),n("img",{key:0,src:o.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,ft)):(r(),n("div",bt)),e("span",pt,x(o.title),1),o.disabled_at?(r(),n("svg",gt,[...t[27]||(t[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):g(o.id)>0?(r(),n("span",mt,x(g(o.id)),1)):s("",!0)],10,kt))),128))])):s("",!0)]))),128)),l.sidebar.uncategorizedFeeds.length>0?(r(),n("div",ht,[(r(!0),n(_,null,T(l.sidebar.uncategorizedFeeds,a=>(r(),n("button",{key:a.id,onClick:o=>c({feed_id:a.id}),class:i(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFeedId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[a.favicon_url?(r(),n("img",{key:0,src:a.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,wt)):(r(),n("div",Ct)),e("span",Mt,x(a.title),1),a.disabled_at?(r(),n("svg",$t,[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):g(a.id)>0?(r(),n("span",jt,x(g(a.id)),1)):s("",!0)],10,yt))),128))])):s("",!0)])]),e("div",St,[e("button",{onClick:t[7]||(t[7]=a=>A()),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),E(" Add Feed ",-1)])]),e("button",{onClick:t[8]||(t[8]=a=>L()),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-2.5 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors cursor-pointer"},[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),E(" Settings ",-1)])])])])):s("",!0)]),_:1})],64))}},Z=oe(ir,[["__scopeId","data-v-67df5f9a"]]),ur=xe("ui",()=>{const l=h(!1);function m(){l.value=!l.value}function k(){l.value=!1}return{sidebarOpen:l,toggleSidebar:m,closeSidebar:k}}),dr={class:"min-h-screen bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"},cr={key:0,class:"flex items-center justify-center gap-2 bg-amber-600 px-4 py-1.5 text-xs font-medium text-white"},vr={key:2,class:"fixed bottom-0 inset-x-0 z-40 border-t border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pb-safe","aria-label":"Bottom navigation"},xr={class:"flex h-14 items-center justify-around px-2"},kr={__name:"AppLayout",setup(l){const{isOnline:m}=ee();$e(),we();const k=G(),$=ur(),d=ae(),u=ke(),{isAddFeedModalOpen:F,openAddFeedModal:y,closeAddFeedModal:B}=te(),c=typeof window<"u"?window.matchMedia("(min-width: 1024px)"):null,w=h(c?c.matches:!1);function A(b){w.value=b.matches}const z=h(typeof window<"u"?localStorage.getItem("rreader-sidebar-collapsed")==="true":!1);function L(){z.value=!z.value,localStorage.setItem("rreader-sidebar-collapsed",String(z.value))}function g(){w.value?L():$.toggleSidebar()}fe("toggleSidebar",g);const S=O(()=>({totalUnread:k.totalUnread,readLaterCount:k.readLaterCount,todayCount:k.todayCount,categories:k.categories,uncategorizedFeeds:k.uncategorizedFeeds})),p=O(()=>{const b=u.query.feed_id;return b?Number(b):null}),t=O(()=>{const b=u.query.category_id;return b?Number(b):null}),a=O(()=>u.query.filter||null);function o(b){$.closeSidebar(),b.filter?d.push({name:"articles.index",query:{filter:b.filter}}):b.feed_id?d.push({name:"articles.index",query:{feed_id:b.feed_id}}):b.category_id?d.push({name:"articles.index",query:{category_id:b.category_id}}):d.push({name:"articles.index"})}return le(()=>{c&&c.addEventListener("change",A)}),ne(()=>{c&&c.removeEventListener("change",A)}),(b,f)=>{const Q=be("router-view");return r(),n("div",dr,[V(m)?s("",!0):(r(),n("div",cr,[...f[5]||(f[5]=[e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})],-1),E(" You're offline â€” viewing cached content ",-1)])])),e("div",{class:"flex",style:me(w.value?"height: 100vh":void 0)},[w.value?(r(),U(Z,{key:0,open:!0,persistent:!0,collapsed:z.value,sidebar:S.value,"active-feed-id":p.value,"active-category-id":t.value,"active-filter":a.value,onCollapseToggle:L,onNavigate:o},null,8,["collapsed","sidebar","active-feed-id","active-category-id","active-filter"])):s("",!0),e("main",{class:i(["flex-1 overflow-y-auto",w.value?"":"pb-16"])},[j(Q,null,{default:N(({Component:R})=>[(r(),U(pe,{include:"ArticleListView"},[(r(),U(ge(R)))],1024))]),_:1})],2)],4),j(Ze),j(Pe,{show:V(F),onClose:V(B)},null,8,["show","onClose"]),w.value?s("",!0):(r(),U(Z,{key:1,open:V($).sidebarOpen,sidebar:S.value,"active-feed-id":p.value,"active-category-id":t.value,"active-filter":a.value,onClose:f[0]||(f[0]=R=>V($).closeSidebar()),onNavigate:o},null,8,["open","sidebar","active-feed-id","active-category-id","active-filter"])),w.value?s("",!0):(r(),n("nav",vr,[e("div",xr,[e("button",{onClick:f[1]||(f[1]=R=>g()),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Open sidebar","aria-label":"Open sidebar"},[...f[6]||(f[6]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1),e("span",{class:"text-[10px]"},"Menu",-1)])]),e("button",{onClick:f[2]||(f[2]=R=>o({filter:"read_later"})),class:i(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",a.value==="read_later"?"text-amber-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"Read Later","aria-label":"Read Later"},[...f[7]||(f[7]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),e("span",{class:"text-[10px]"},"Read Later",-1)])],2),e("button",{onClick:f[3]||(f[3]=R=>o({})),class:i(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",!a.value&&!p.value&&!t.value&&V(u).name==="articles.index"?"text-blue-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"All feeds","aria-label":"All feeds"},[...f[8]||(f[8]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})],-1),e("span",{class:"text-[10px]"},"Feeds",-1)])],2),e("button",{onClick:f[4]||(f[4]=R=>V(y)()),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200",title:"Add feed","aria-label":"Add feed"},[...f[9]||(f[9]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3"})],-1),e("span",{class:"text-[10px]"},"Add",-1)])])])]))])}}},fr=oe(kr,[["__scopeId","data-v-ef185859"]]),Cr={__name:"AppShell",props:{initialSidebar:{type:Object,default:()=>({})},user:{type:Object,required:!0}},setup(l){he().appContext.config.globalProperties.$router||window.location.reload();const k=l,$=G();return $.loaded||$.initialize(k.initialSidebar),(d,u)=>(r(),U(fr))}};export{Cr as default};
