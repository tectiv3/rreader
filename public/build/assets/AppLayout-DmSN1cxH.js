import{m as z,p as O,h,j as q,f as g,o as i,c as u,F as _,r as B,n as x,d as e,t as Q,u as o,L as E,i as H,G as b,b as C,e as J,g as P,a as G,J as W}from"./app-uP_WK3wd.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=h(typeof navigator<"u"?navigator.onLine:!0),I=h(A.value?new Date:null);let y=0;function F(){A.value=!0,I.value=new Date}function T(){A.value=!1}function D(){return z(()=>{y===0&&(window.addEventListener("online",F),window.addEventListener("offline",T)),y++}),O(()=>{y--,y===0&&(window.removeEventListener("online",F),window.removeEventListener("offline",T))}),{isOnline:A,lastOnlineAt:I}}const R="rreader-offline-queue",f=h(K());let $=!1;function K(){try{const l=localStorage.getItem(R);return l?JSON.parse(l):[]}catch{return[]}}function Y(){try{localStorage.setItem(R,JSON.stringify(f.value))}catch{}}function U(l,t,r={}){f.value.push({method:l,url:t,data:r,queuedAt:new Date().toISOString()}),Y()}function L(){if($||f.value.length===0)return;$=!0;const l=[...f.value];f.value=[],Y();let t=Promise.resolve();for(const r of l)t=t.then(()=>new Promise(v=>{g[r.method](r.url,r.data,{preserveScroll:!0,preserveState:!0,onFinish:()=>v(),onError:()=>v()})}));t.finally(()=>{$=!1,f.value.length>0&&L()})}function X(){const{isOnline:l}=D();return q(l,t=>{t&&L()}),l.value&&f.value.length>0&&setTimeout(L,100),{queue:f,enqueue:U,flushQueue:L}}const m=h([]);let Z=0;function ee(){function l(n,d="info",p=3e3){const k=Z++;return m.value.push({id:k,message:n,type:d,leaving:!1}),p>0&&setTimeout(()=>t(k),p),k}function t(n){const d=m.value.find(p=>p.id===n);d&&(d.leaving=!0,setTimeout(()=>{m.value=m.value.filter(p=>p.id!==n)},300))}function r(n,d=3e3){return l(n,"success",d)}function v(n,d=4e3){return l(n,"error",d)}function c(n,d=3e3){return l(n,"info",d)}return{toasts:m,show:l,dismiss:t,success:r,error:v,info:c}}const te={class:"fixed bottom-20 lg:bottom-6 inset-x-0 z-50 flex flex-col items-center gap-2 pointer-events-none px-4"},ne={key:0,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},re={key:1,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},se={key:2,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},le=["onClick"],ae={__name:"ToastContainer",setup(l){const{toasts:t,dismiss:r}=ee();return(v,c)=>(i(),u("div",te,[(i(!0),u(_,null,B(o(t),n=>(i(),u("div",{key:n.id,class:x(["pointer-events-auto flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium shadow-lg transition-all duration-300",[n.type==="success"?"bg-green-600 text-white":n.type==="error"?"bg-red-600 text-white":"bg-neutral-300 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100",n.leaving?"opacity-0 translate-y-2":"opacity-100 translate-y-0"]]),role:"status","aria-live":"polite"},[n.type==="success"?(i(),u("svg",ne,[...c[0]||(c[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)])])):n.type==="error"?(i(),u("svg",re,[...c[1]||(c[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"},null,-1)])])):(i(),u("svg",se,[...c[2]||(c[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"},null,-1)])])),e("span",null,Q(n.message),1),e("button",{onClick:d=>o(r)(n.id),class:"ml-1 shrink-0 rounded p-0.5 opacity-70 hover:opacity-100 transition-opacity","aria-label":"Dismiss"},[...c[3]||(c[3]=[e("svg",{class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,le)],2))),128))]))}},oe={},ie={class:"lg:hidden"},de={class:"hidden lg:block"};function ue(l,t){return i(),u(_,null,[e("div",ie,[t[1]||(t[1]=e("div",{class:"border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2"},[e("div",{class:"h-3 w-16 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"})],-1)),(i(),u(_,null,B(6,r=>e("div",{key:r,class:"flex gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-3"},[t[0]||(t[0]=E('<div class="min-w-0 flex-1"><div class="flex items-center gap-2"><div class="h-3.5 w-3.5 animate-pulse rounded-sm bg-neutral-200 dark:bg-neutral-800"></div><div class="h-3 w-20 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div><div class="h-3 w-8 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div></div><div class="mt-2 h-4 w-full animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div><div class="mt-1.5 h-4 w-3/4 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div><div class="mt-1.5 h-3 w-full animate-pulse rounded bg-neutral-200/60 dark:bg-neutral-800/60"></div></div>',1)),e("div",{class:x(["h-16 w-16 shrink-0 animate-pulse rounded-lg bg-neutral-200 dark:bg-neutral-800",{hidden:r%3===0}])},null,2)])),64))]),e("div",de,[t[3]||(t[3]=e("div",{class:"border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2"},[e("div",{class:"h-3 w-16 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"})],-1)),(i(),u(_,null,B(10,r=>e("div",{key:"d"+r,class:"flex items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5"},[...t[2]||(t[2]=[E('<div class="h-4 w-4 shrink-0 animate-pulse rounded-sm bg-neutral-200 dark:bg-neutral-800"></div><div class="h-3 w-28 shrink-0 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div><div class="h-3.5 flex-1 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div><div class="hidden xl:block h-3 w-48 shrink-0 animate-pulse rounded bg-neutral-200/60 dark:bg-neutral-800/60"></div><div class="h-3 w-10 shrink-0 animate-pulse rounded bg-neutral-200 dark:bg-neutral-800"></div>',5)])])),64))])],64)}const ce=N(oe,[["render",ue]]),pe={class:"min-h-screen bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"},ve={class:"sticky top-0 z-40 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pt-safe"},fe={class:"flex h-11 items-center justify-between px-4"},ke={class:"flex items-center gap-2 min-w-0"},ge={key:0,class:"hidden lg:block text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},he={class:"flex items-center gap-2 shrink-0"},be={key:0,class:"px-4 pb-2 lg:hidden"},me={class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},xe={key:0,class:"flex items-center justify-center gap-2 bg-amber-600 px-4 py-1.5 text-xs font-medium text-white"},we={class:"pb-16 lg:pb-0"},ye={key:1,class:"page-enter"},_e={class:"flex h-14 items-center justify-around px-2"},j=10,Le={__name:"AppLayout",setup(l){const{isOnline:t}=D();X();const r=W(),v=H("toggleSidebar",null),c=H("openAddFeedModal",null),n=h(!1);let d=null,p=null;z(()=>{d=g.on("start",()=>{n.value=!0}),p=g.on("finish",()=>{n.value=!1})}),O(()=>{d?.(),p?.()});function k(a){g.get(route("articles.index",a),{},{preserveState:!1})}const w=h(!1);let M=0;function V(){const a=window.scrollY;a<j?w.value=!1:a>M+j?w.value=!0:a<M-j&&(w.value=!1),M=a}return z(()=>{window.addEventListener("scroll",V,{passive:!0})}),O(()=>{window.removeEventListener("scroll",V)}),(a,s)=>(i(),u("div",pe,[e("header",ve,[e("div",fe,[e("div",ke,[b(a.$slots,"header-left",{},void 0,!0),a.$slots.title?(i(),u("h1",ge,[b(a.$slots,"title",{},void 0,!0)])):C("",!0)]),e("div",he,[b(a.$slots,"header-right",{},void 0,!0)])]),a.$slots.title?(i(),u("div",be,[e("h1",me,[b(a.$slots,"title",{},void 0,!0)])])):C("",!0)]),o(t)?C("",!0):(i(),u("div",xe,[...s[4]||(s[4]=[e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})],-1),J(" You're offline â€” viewing cached content ",-1)])])),e("main",we,[n.value?(i(),P(ce,{key:0})):(i(),u("div",ye,[b(a.$slots,"default",{},void 0,!0)]))]),G(ae),e("nav",{class:x(["fixed bottom-0 inset-x-0 z-40 border-t border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 lg:hidden pb-safe transition-transform duration-300",w.value?"translate-y-full":"translate-y-0"]),"aria-label":"Bottom navigation"},[e("div",_e,[e("button",{onClick:s[0]||(s[0]=S=>o(v)?o(v)():o(g).visit(a.route("articles.index"))),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Open sidebar","aria-label":"Open sidebar"},[...s[5]||(s[5]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1),e("span",{class:"text-[10px]"},"Menu",-1)])]),e("button",{onClick:s[1]||(s[1]=S=>k({filter:"read_later"})),class:x(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",o(r).props.activeFilter==="read_later"?"text-amber-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"Read Later","aria-label":"Read Later"},[...s[6]||(s[6]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),e("span",{class:"text-[10px]"},"Read Later",-1)])],2),e("button",{onClick:s[2]||(s[2]=S=>k({})),class:x(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",!o(r).props.activeFilter&&!o(r).props.activeFeedId&&!o(r).props.activeCategoryId&&o(r).url.startsWith("/articles")&&!o(r).url.startsWith("/articles/search")?"text-blue-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"All feeds","aria-label":"All feeds"},[...s[7]||(s[7]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})],-1),e("span",{class:"text-[10px]"},"Feeds",-1)])],2),e("button",{onClick:s[3]||(s[3]=S=>o(c)?o(c)():o(g).visit(a.route("feeds.create"))),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200",title:"Add feed","aria-label":"Add feed"},[...s[8]||(s[8]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3"})],-1),e("span",{class:"text-[10px]"},"Add",-1)])])])],2)]))}},Se=N(Le,[["__scopeId","data-v-d58b6449"]]);export{Se as A,X as a,ee as b,D as u};
