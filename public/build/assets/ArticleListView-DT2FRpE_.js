import{x as _e,z as Ae,S as Me,w as se,U as Ce,o as Se,b as Le,n as U,g as a,h as t,u as k,l as oe,t as d,k as c,j as A,F as f,p as B,D as Y,a as p,E as x,c as l,i as S,V as je}from"./app-B0x8HYwv.js";import{u as Te}from"./useArticleStore-8IeDH-fB.js";import{u as De}from"./useSidebarStore-Du-CkZen.js";import{u as Re,a as Ee}from"./useAddFeedModal-DJxZp6Nf.js";import{u as Be}from"./useToast-DnJSOwue.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ve={class:"sticky top-0 z-30 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pt-safe"},$e={class:"flex h-11 items-center justify-between px-4"},Ne={class:"flex items-center gap-2 min-w-0"},Fe={class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},Ie={key:0,class:"ml-1 inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Ue={class:"flex items-center gap-1 shrink-0"},Ye=["disabled"],qe=["disabled"],Xe={key:0,class:"flex items-center justify-center py-20"},Pe={key:1,class:"flex",style:{height:"calc(100vh - 2.75rem - env(safe-area-inset-top, 0px))"}},He={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Oe={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},We=["id","onClick"],Ke=["src"],Ze=["onClick"],Ge={key:1,class:"hidden xl:block w-64 shrink-0 truncate text-xs text-neutral-500 dark:text-neutral-600"},Je={class:"w-12 shrink-0 text-right text-xs text-neutral-500 dark:text-neutral-600"},Qe=["id"],et={key:0,class:"flex items-center justify-center py-12"},tt={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/95 dark:bg-neutral-900/80 backdrop-blur px-4 py-2"},rt={class:"flex items-center justify-between gap-3"},nt={class:"min-w-0 flex-1 truncate text-sm font-semibold text-neutral-900 dark:text-neutral-100"},at=["href"],lt={class:"flex shrink-0 items-center gap-0.5"},st=["title"],ot=["fill"],ut={class:"mt-1 flex flex-wrap items-center gap-x-2 text-xs text-neutral-500 dark:text-neutral-500"},it=["src"],dt={key:1},ct={class:"mx-auto max-w-3xl px-6 pt-6 pb-6"},vt=["src","alt"],ft=["innerHTML"],kt={key:1,class:"py-12 text-center"},pt=["href"],xt={key:1,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},mt={class:"flex flex-col items-center gap-1"},bt={key:0,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},ht={key:1,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},gt={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},wt={key:1},yt={class:"sticky top-11 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},_t={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},At={key:0,class:"absolute inset-0 flex items-center bg-neutral-800 px-6"},Mt={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Ct={key:1,class:"absolute inset-0 flex items-center justify-end bg-neutral-800 px-6"},St={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Lt=["onClick","onTouchstart","onTouchmove","onTouchend"],jt={class:"min-w-0 flex-1"},Tt={class:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-500"},Dt=["src"],Rt=["onClick"],Et={class:"shrink-0"},Bt={key:0,class:"mt-0.5 line-clamp-2 text-xs text-neutral-600 dark:text-neutral-500"},zt=["src","alt"],q=80,ue=80,X=10,Vt=Object.assign({name:"ArticleListView"},{__name:"ArticleListView",setup($t){const u=Te(),m=De(),z=_e(),b=Ae();Re();const{success:V}=Be(),{openAddFeedModal:j}=Ee(),ie=Me("toggleSidebar");function P(){const r=b.query;return r.filter?{type:r.filter}:r.feed_id?{type:"feed",feedId:Number(r.feed_id)}:r.category_id?{type:"category",categoryId:Number(r.category_id)}:{type:"all"}}u.fetchArticles(P()),se(()=>u.filterTitle,r=>Ce(r),{immediate:!0}),se(()=>b.query,()=>{b.name==="articles.index"&&(M(),u.fetchArticles(P()))},{deep:!0});const T=x(()=>b.query.feed_id?Number(b.query.feed_id):null),H=x(()=>b.query.category_id?Number(b.query.category_id):null),L=x(()=>b.query.filter||null),O=x(()=>{if(L.value==="read_later")return m.readLaterCount;if(L.value==="today")return m.todayCount;if(L.value==="recently_read")return 0;if(T.value){for(const e of m.categories){const o=e.feeds.find(v=>v.id===T.value);if(o)return o.unread_count||0}return m.uncategorizedFeeds.find(e=>e.id===T.value)?.unread_count||0}return H.value?m.categories.find(e=>e.id===H.value)?.unread_count||0:m.totalUnread}),W=x(()=>{let r=m.uncategorizedFeeds.length;for(const e of m.categories)r+=e.feeds?.length||0;return r}),K=x(()=>{const r={},e=new Date;e.setHours(0,0,0,0);const o=new Date(e);o.setDate(o.getDate()-1);for(const v of u.articles){const n=new Date(v.published_at);n.setHours(0,0,0,0);let i;n.getTime()===e.getTime()?i="Today":n.getTime()===o.getTime()?i="Yesterday":i=n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r[i]||(r[i]=[]),r[i].push(v)}return r});function Z(r){const e=new Date,o=new Date(r),v=Math.floor((e-o)/1e3);if(v<60)return"just now";const n=Math.floor(v/60);if(n<60)return`${n}m`;const i=Math.floor(n/60);if(i<24)return`${i}h`;const le=Math.floor(i/24);return le<7?`${le}d`:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const D=p(typeof window<"u"&&window.innerWidth>=1024),h=p(null),s=p(null),R=p(!1),y=p(!1),de=p(null);function G(){D.value=window.innerWidth>=1024}Se(()=>{window.addEventListener("resize",G),window.addEventListener("keydown",te)}),Le(()=>{window.removeEventListener("resize",G),window.removeEventListener("keydown",te)});function E(r){if(r.is_read||u.markRead(r.id),D.value){if(h.value===r.id){M();return}h.value=r.id,ce(r.id)}else z.push({name:"articles.show",params:{id:r.id}})}async function ce(r){const e=u.getContent(r);if(e){s.value=e,y.value=e.is_read_later??!1,R.value=!1,await U(),J(r),u.prefetchAdjacent(r);return}R.value=!0;try{const o=await u.fetchContent(r);s.value=o,y.value=o.is_read_later??!1,await U(),J(r),u.prefetchAdjacent(r)}catch{z.push({name:"articles.show",params:{id:r}})}finally{R.value=!1}}function J(r){const e=document.getElementById(`article-expanded-${r}`);e&&e.scrollIntoView({block:"start",behavior:"smooth"})}function M(){s.value=null,h.value=null}function $(r){M(),z.push({name:"articles.index",query:{feed_id:r}})}function Q(){s.value&&(u.toggleReadLater(s.value.id),y.value=!y.value,V(y.value?"Article saved":"Removed from Read Later"))}function ee(){s.value&&(u.markUnread(s.value.id),V("Marked as unread"))}const ve=x(()=>s.value?.image_url?!(s.value.content||s.value.summary||"").includes(s.value.image_url):!1),fe=x(()=>s.value?new Date(s.value.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),ke=x(()=>s.value?new Date(s.value.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""),N=x(()=>h.value?u.articles.findIndex(r=>r.id===h.value):-1);function te(r){if(D.value&&!(r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||r.target.isContentEditable)&&b.name==="articles.index")switch(r.key){case"ArrowRight":case"j":{r.preventDefault();const e=N.value+1;e<u.articles.length&&E(u.articles[e]);break}case"ArrowLeft":case"k":{r.preventDefault();const e=N.value-1;e>=0&&E(u.articles[e]);break}case"s":{r.preventDefault(),s.value&&Q();break}case"m":{if(r.preventDefault(),s.value){const e=N.value;ee(),M();const o=u.articles[e+1];o&&(h.value=o.id,U(()=>{document.getElementById(`article-row-${o.id}`)?.scrollIntoView({block:"nearest",behavior:"smooth"})}))}break}case"Escape":{r.preventDefault(),M();break}}}const F=p(!1);function pe(){F.value=!0,u.markAllRead(T.value),F.value=!1,V("All marked as read")}async function re(){await Promise.all([u.forceRefresh(),m.fetchSidebar()])}const g=p(0),C=p(!1),w=p(!1);let ne=0;function xe(r){window.scrollY>0||w.value||(ne=r.touches[0].clientY,C.value=!0)}function me(r){if(!C.value||w.value)return;if(window.scrollY>0){C.value=!1,g.value=0;return}const e=r.touches[0].clientY-ne;e>0&&(g.value=Math.min(e*.5,120))}async function be(){C.value&&(C.value=!1,g.value>=q&&!w.value&&(w.value=!0,g.value=60,await re(),w.value=!1),g.value=0)}const _=p({});function he(r,e){_.value[r]={startX:e.touches[0].clientX,startY:e.touches[0].clientY,currentX:0,swiping:!1,directionLocked:!1}}function ge(r,e){const o=_.value[r];if(!o)return;const v=e.touches[0].clientX-o.startX,n=e.touches[0].clientY-o.startY;if(!o.directionLocked&&(Math.abs(v)>X||Math.abs(n)>X)&&(o.directionLocked=!0,Math.abs(n)>Math.abs(v))){delete _.value[r];return}o.directionLocked&&Math.abs(v)>X&&(o.swiping=!0,o.currentX=Math.max(Math.min(v,200),-200))}function we(r,e){const o=_.value[r];o&&(o.currentX<-ue?e.is_read?u.markUnread(e.id):u.markRead(e.id):o.currentX>ue&&u.toggleReadLater(e.id),delete _.value[r])}function ye(r){const e=_.value[r];return!e||!e.swiping?{}:{transform:`translateX(${e.currentX}px)`,transition:"none"}}function I(r){return _.value[r]?.swiping??!1}function ae(r){const e=_.value[r];return!e||!e.swiping?null:e.currentX>0?"right":"left"}return(r,e)=>(l(),a(f,null,[t("header",Ve,[t("div",$e,[t("div",Ne,[t("button",{onClick:e[0]||(e[0]=o=>k(ie)()),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2",title:"Open sidebar","aria-label":"Open sidebar"},[...e[6]||(e[6]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])]),t("h1",Fe,[oe(d(k(u).filterTitle)+" ",1),O.value>0?(l(),a("span",Ie,d(O.value),1)):c("",!0)])]),t("div",Ue,[t("button",{onClick:re,disabled:k(u).loading,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Refresh feeds","aria-label":"Refresh feeds"},[(l(),a("svg",{class:A(["h-5 w-5 transition-transform",{"animate-spin":k(u).loading}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],2))],8,Ye),k(u).unreadCount>0?(l(),a("button",{key:0,onClick:pe,disabled:F.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Mark all as read","aria-label":"Mark all as read"},[...e[8]||(e[8]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,qe)):c("",!0)])])]),k(u).loading&&k(u).articles.length===0?(l(),a("div",Xe,[...e[9]||(e[9]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):D.value?(l(),a("div",Pe,[t("div",{ref_key:"articleListEl",ref:de,class:"flex-1 flex flex-col overflow-y-auto"},[k(u).articles.length>0?(l(),a(f,{key:0},[(l(!0),a(f,null,B(K.value,(o,v)=>(l(),a(f,{key:v},[t("div",He,[t("h2",Oe,d(v),1)]),t("div",null,[(l(!0),a(f,null,B(o,n=>(l(),a(f,{key:n.id},[t("button",{id:`article-row-${n.id}`,onClick:i=>E(n),class:A(["flex w-full items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5 text-left transition-colors cursor-pointer",[h.value===n.id?"bg-blue-50 dark:bg-neutral-900 border-l-2 border-l-blue-500":"hover:bg-neutral-50 dark:hover:bg-neutral-900/50"]])},[n.feed_favicon_url?(l(),a("img",{key:0,src:n.feed_favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Ke)):c("",!0),t("span",{class:"w-32 shrink-0 truncate text-xs text-neutral-600 dark:text-neutral-500 hover:underline cursor-pointer",onClick:S(i=>$(n.feed_id),["stop"])},d(n.feed_title),9,Ze),t("h3",{class:A(["min-w-0 flex-1 truncate text-sm",n.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-medium"])},d(n.title),3),n.summary&&h.value!==n.id?(l(),a("span",Ge,d(n.summary),1)):c("",!0),t("span",Je,d(Z(n.published_at)),1)],10,We),h.value===n.id?(l(),a("div",{key:0,id:`article-expanded-${n.id}`,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50"},[R.value&&!s.value?(l(),a("div",et,[...e[10]||(e[10]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):c("",!0),s.value?(l(),a(f,{key:1},[t("div",tt,[t("div",rt,[t("h2",nt,[s.value.url?(l(),a("a",{key:0,href:s.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},d(s.value.title),9,at)):(l(),a(f,{key:1},[oe(d(s.value.title),1)],64))]),t("div",lt,[t("button",{onClick:S(Q,["stop"]),class:A(["rounded-lg p-1.5 transition-colors cursor-pointer",y.value?"text-blue-500 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300"]),title:y.value?"Remove from Read Later":"Save to Read Later"},[(l(),a("svg",{class:"h-4 w-4",fill:y.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,ot))],10,st),t("button",{onClick:S(ee,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Mark as unread"},[...e[12]||(e[12]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])]),t("button",{onClick:S(M,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Close article"},[...e[13]||(e[13]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",ut,[s.value.feed?.id||s.value.feed_id?(l(),a("a",{key:0,href:"#",class:"flex items-center gap-1.5 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",onClick:e[1]||(e[1]=S(i=>$(s.value.feed?.id||s.value.feed_id),["prevent"]))},[s.value.feed?.favicon_url||s.value.feed_favicon_url?(l(),a("img",{key:0,src:s.value.feed?.favicon_url||s.value.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,it)):c("",!0),t("span",null,d(s.value.feed?.title||s.value.feed_title),1)])):c("",!0),s.value.author?(l(),a("span",dt,"· "+d(s.value.author),1)):c("",!0),t("span",null,"· "+d(fe.value)+" at "+d(ke.value),1)])]),t("article",ct,[ve.value?(l(),a("img",{key:0,src:s.value.image_url,alt:s.value.title,class:"mb-6 w-full max-h-80 object-cover rounded-lg",loading:"lazy"},null,8,vt)):c("",!0),t("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-600 dark:prose-code:text-blue-300 prose-pre:bg-white dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:s.value.content||s.value.summary},null,8,ft),!s.value.content&&!s.value.summary?(l(),a("div",kt,[e[14]||(e[14]=t("p",{class:"text-neutral-500 dark:text-neutral-400"}," No article content available. ",-1)),s.value.url?(l(),a("a",{key:0,href:s.value.url,target:"_blank",rel:"noopener noreferrer",class:"mt-4 inline-block rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ",8,pt)):c("",!0)])):c("",!0),e[15]||(e[15]=je('<div class="mt-8 border-t border-neutral-200 dark:border-neutral-800 pt-4 text-xs text-neutral-400 dark:text-neutral-600" data-v-f4656997><span class="font-medium text-neutral-500" data-v-f4656997>Shortcuts:</span><span class="ml-2" data-v-f4656997><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>j</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>k</kbd> or <kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>←</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>→</kbd> navigate</span><span class="ml-2" data-v-f4656997><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>s</kbd> save</span><span class="ml-2" data-v-f4656997><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>m</kbd> mark unread</span><span class="ml-2" data-v-f4656997><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-f4656997>Esc</kbd> close</span></div>',1))])],64)):c("",!0)],8,Qe)):c("",!0)],64))),128))])],64))),128)),e[16]||(e[16]=t("div",{class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"}," You're all caught up ",-1))],64)):(l(),a("div",xt,[L.value==="read_later"?(l(),a(f,{key:0},[e[17]||(e[17]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[18]||(e[18]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[19]||(e[19]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):W.value===0?(l(),a(f,{key:1},[e[20]||(e[20]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[21]||(e[21]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[22]||(e[22]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[2]||(e[2]=o=>k(j)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(l(),a(f,{key:2},[e[23]||(e[23]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[24]||(e[24]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[25]||(e[25]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=o=>k(j)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))]))],512)])):(l(),a(f,{key:2},[t("div",{class:A(["flex items-center justify-center overflow-hidden transition-all duration-200",{"transition-none":C.value}]),style:Y({height:g.value+"px"})},[t("div",mt,[(l(),a("svg",{class:A(["h-5 w-5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200",{"animate-spin":w.value}]),style:Y(w.value?{}:{transform:`rotate(${Math.min(g.value/q,1)*360}deg)`}),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],6)),!w.value&&g.value>=q?(l(),a("span",bt,"Release to refresh")):w.value?(l(),a("span",ht,"Refreshing...")):c("",!0)])],6),t("div",{onTouchstartPassive:xe,onTouchmovePassive:me,onTouchend:be},[k(u).articles.length===0&&!k(u).loading?(l(),a("div",gt,[L.value==="read_later"?(l(),a(f,{key:0},[e[27]||(e[27]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[28]||(e[28]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[29]||(e[29]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):W.value===0?(l(),a(f,{key:1},[e[30]||(e[30]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[31]||(e[31]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[32]||(e[32]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=o=>k(j)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(l(),a(f,{key:2},[e[33]||(e[33]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[34]||(e[34]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[35]||(e[35]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[5]||(e[5]=o=>k(j)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):k(u).articles.length>0?(l(),a("div",wt,[(l(!0),a(f,null,B(K.value,(o,v)=>(l(),a(f,{key:v},[t("div",yt,[t("h2",_t,d(v),1)]),t("div",null,[(l(!0),a(f,null,B(o,n=>(l(),a("div",{key:n.id,class:"relative overflow-hidden border-b border-neutral-200/50 dark:border-neutral-800/50 bg-neutral-200 dark:bg-neutral-800"},[I(n.id)&&ae(n.id)==="right"?(l(),a("div",At,[e[36]||(e[36]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t("span",Mt,d(n.is_read_later?"Saved":"Read Later"),1)])):c("",!0),I(n.id)&&ae(n.id)==="left"?(l(),a("div",Ct,[e[37]||(e[37]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),t("span",St,d(n.is_read?"Mark as Unread":"Mark as Read"),1)])):c("",!0),t("button",{onClick:i=>!I(n.id)&&E(n),onTouchstart:i=>he(n.id,i),onTouchmove:i=>ge(n.id,i),onTouchend:i=>we(n.id,n),class:"relative flex w-full gap-3 bg-white dark:bg-neutral-950 px-4 py-3 text-left transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 active:bg-neutral-100 dark:active:bg-neutral-800/50",style:Y(ye(n.id))},[t("div",jt,[t("div",Tt,[n.feed_favicon_url?(l(),a("img",{key:0,src:n.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,Dt)):c("",!0),t("span",{class:"truncate hover:underline",onClick:S(i=>$(n.feed_id),["stop"])},d(n.feed_title),9,Rt),e[38]||(e[38]=t("span",null,"·",-1)),t("span",Et,d(Z(n.published_at)),1)]),t("h3",{class:A(["mt-1 text-sm leading-snug",n.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-semibold"])},d(n.title),3),n.summary?(l(),a("p",Bt,d(n.summary),1)):c("",!0)]),n.image_url?(l(),a("img",{key:0,src:n.image_url,class:"h-16 w-16 shrink-0 rounded-lg object-cover",alt:n.title,loading:"lazy"},null,8,zt)):c("",!0)],44,Lt)]))),128))])],64))),128)),e[39]||(e[39]=t("div",{class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"}," You're all caught up ",-1))])):c("",!0)],32)],64))],64))}}),Xt=ze(Vt,[["__scopeId","data-v-f4656997"]]);export{Xt as default};
