import{c as a,a as E,w as T,o as l,b as c,T as Ce,d as t,u as S,l as ue,e as w,n as m,t as x,F as f,r as B,f as Me,g as $,h,i as he,p as vt,j as He,k as ce,m as Ve,q as xt,s as kt,v as O,x as pe,y as P}from"./app-CzwVVSgd.js";import{u as Pe,a as ft,b as bt,A as gt,c as mt}from"./AppLayout-D6rX47da.js";import{_ as ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as pt,a as wt}from"./useArticleReadState-CNvfs41A.js";import"./TextInput-d4uNe565.js";const yt={key:0,class:"fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-neutral-50 dark:bg-neutral-900 shadow-xl",role:"dialog","aria-label":"Navigation sidebar"},Ct={class:"flex min-h-14 items-center justify-between border-b border-neutral-200 dark:border-neutral-800 px-4 pt-safe"},Mt={class:"flex items-center gap-1"},At={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},$t={class:"px-3 pb-2"},St={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Ft={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Lt={class:"px-3 pt-3"},jt={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Rt=["onClick","aria-expanded","title","aria-label"],Tt=["onClick"],It={class:"flex-1 truncate"},Bt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},zt={key:0,class:"ml-4"},Ut=["onClick"],Dt=["src"],Et={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Nt={class:"flex-1 truncate text-left"},_t={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Ht={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Vt={key:0,class:"mt-0.5"},Xt=["onClick"],Ot=["src"],Pt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Yt={class:"flex-1 truncate text-left"},qt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Wt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Kt={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},Jt={key:0,class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},Qt={class:"flex items-center gap-1"},Zt=["title","aria-label"],Gt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},er={class:"px-3 pb-2"},tr=["title"],rr={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},lr=["title"],ar={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},nr={class:"px-3 pt-3"},sr={key:0,class:"flex items-center justify-between px-3 pb-2"},or=["title"],ir={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},dr=["onClick","aria-expanded","title","aria-label"],ur=["onClick"],cr={class:"flex-1 truncate"},vr={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},xr={key:0,class:"ml-4"},kr=["onClick"],fr=["src"],br={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},gr={class:"flex-1 truncate text-left"},mr={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},hr={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},pr={key:0,class:"mt-0.5"},wr=["onClick"],yr=["src"],Cr={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Mr={class:"flex-1 truncate text-left"},Ar={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},$r={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Sr={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},Fr=["title"],Lr={key:0},jr={key:0},Rr={__name:"SidebarDrawer",props:{open:Boolean,persistent:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},sidebar:Object,activeFeedId:Number,activeCategoryId:Number,activeFilter:String},emits:["close","collapse-toggle"],setup(s,{emit:k}){const{openAddFeedModal:ae}=Pe(),y=s,F=k,R=h({});function Y(L){R.value[L]=!R.value[L]}function I(L){return R.value[L]??!1}function C(L){y.persistent||F("close"),$.get(route("articles.index",L),{},{preserveState:!1,cacheFor:3e5})}function Z(){return!y.activeFeedId&&!y.activeCategoryId&&!y.activeFilter}function ne(){F("close"),ae()}return(L,n)=>s.persistent?(l(),a("aside",{key:1,class:m(["flex flex-col border-r border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 transition-all duration-200",s.collapsed?"w-16":"w-72"]),"aria-label":"Navigation sidebar"},[t("div",{class:m(["flex h-14 items-center border-b border-neutral-200 dark:border-neutral-800 px-3",s.collapsed?"justify-center":"justify-between"])},[s.collapsed?c("",!0):(l(),a("h2",Jt," RReader ")),t("div",Qt,[s.collapsed?c("",!0):(l(),Me(S(ue),{key:0,href:L.route("feeds.manage"),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors"},{default:T(()=>[...n[27]||(n[27]=[w(" Edit ",-1)])]),_:1},8,["href"])),t("button",{onClick:n[6]||(n[6]=i=>F("collapse-toggle")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:s.collapsed?"Expand sidebar":"Collapse sidebar","aria-label":s.collapsed?"Expand sidebar":"Collapse sidebar"},[(l(),a("svg",{class:m(["h-5 w-5 transition-transform duration-200",s.collapsed?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...n[28]||(n[28]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"},null,-1)])],2))],8,Zt)])],2),t("nav",Gt,[t("div",er,[t("button",{onClick:n[7]||(n[7]=i=>C({filter:"today"})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",s.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"Today":void 0},[n[30]||(n[30]=t("svg",{class:"h-5 w-5 shrink-0 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),s.collapsed?c("",!0):(l(),a(f,{key:0},[n[29]||(n[29]=t("span",{class:"flex-1 text-left"},"Today",-1)),s.sidebar.todayCount>0?(l(),a("span",rr,x(s.sidebar.todayCount),1)):c("",!0)],64))],10,tr),t("button",{onClick:n[8]||(n[8]=i=>C({filter:"read_later"})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",s.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"Read Later":void 0},[n[32]||(n[32]=t("svg",{class:"h-5 w-5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),s.collapsed?c("",!0):(l(),a(f,{key:0},[n[31]||(n[31]=t("span",{class:"flex-1 text-left"},"Read Later",-1)),s.sidebar.readLaterCount>0?(l(),a("span",ar,x(s.sidebar.readLaterCount),1)):c("",!0)],64))],10,lr)]),n[39]||(n[39]=t("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),t("div",nr,[s.collapsed?c("",!0):(l(),a("div",sr,[...n[33]||(n[33]=[t("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ",-1)])])),t("button",{onClick:n[9]||(n[9]=i=>C({})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",Z()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"All Feeds":void 0},[n[35]||(n[35]=t("svg",{class:"h-5 w-5 shrink-0 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),s.collapsed?c("",!0):(l(),a(f,{key:0},[n[34]||(n[34]=t("span",{class:"flex-1 text-left"},"All",-1)),s.sidebar.totalUnread>0?(l(),a("span",ir,x(s.sidebar.totalUnread),1)):c("",!0)],64))],10,or),s.collapsed?c("",!0):(l(),a(f,{key:1},[(l(!0),a(f,null,B(s.sidebar.categories,i=>(l(),a("div",{key:i.id,class:"mt-0.5"},[t("div",{class:m(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",s.activeCategoryId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t("button",{onClick:b=>Y(i.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":I(i.id),title:`Toggle ${i.name} feeds`,"aria-label":`Toggle ${i.name} feeds`},[(l(),a("svg",{class:m(["h-4 w-4 transition-transform duration-200",{"rotate-90":I(i.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...n[36]||(n[36]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,dr),t("button",{onClick:b=>C({category_id:i.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[t("span",cr,x(i.name),1),i.unread_count>0?(l(),a("span",vr,x(i.unread_count),1)):c("",!0)],8,ur)],2),I(i.id)?(l(),a("div",xr,[(l(!0),a(f,null,B(i.feeds,b=>(l(),a("button",{key:b.id,onClick:z=>C({feed_id:b.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",s.activeFeedId===b.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[b.favicon_url?(l(),a("img",{key:0,src:b.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,fr)):(l(),a("div",br)),t("span",gr,x(b.title),1),b.disabled_at?(l(),a("svg",mr,[...n[37]||(n[37]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):b.unread_count>0?(l(),a("span",hr,x(b.unread_count),1)):c("",!0)],10,kr))),128))])):c("",!0)]))),128)),s.sidebar.uncategorizedFeeds.length>0?(l(),a("div",pr,[(l(!0),a(f,null,B(s.sidebar.uncategorizedFeeds,i=>(l(),a("button",{key:i.id,onClick:b=>C({feed_id:i.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFeedId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[i.favicon_url?(l(),a("img",{key:0,src:i.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,yr)):(l(),a("div",Cr)),t("span",Mr,x(i.title),1),i.disabled_at?(l(),a("svg",Ar,[...n[38]||(n[38]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):i.unread_count>0?(l(),a("span",$r,x(i.unread_count),1)):c("",!0)],10,wr))),128))])):c("",!0)],64))])]),t("div",Sr,[t("button",{onClick:n[10]||(n[10]=i=>S(ae)()),class:m(["flex w-full items-center rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer",s.collapsed?"justify-center p-2.5":"justify-center gap-2 px-4 py-2.5"]),title:s.collapsed?"Add Feed":void 0},[n[40]||(n[40]=t("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),s.collapsed?c("",!0):(l(),a("span",Lr,"Add Feed"))],10,Fr),E(S(ue),{href:L.route("settings.index"),class:m(["flex w-full items-center rounded-lg bg-neutral-200 dark:bg-neutral-800 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",s.collapsed?"justify-center p-2.5":"justify-center gap-2 px-4 py-2.5"]),title:s.collapsed?"Settings":void 0},{default:T(()=>[n[41]||(n[41]=t("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),s.collapsed?c("",!0):(l(),a("span",jr,"Settings"))]),_:1},8,["href","class","title"])])],2)):(l(),a(f,{key:0},[E(Ce,{name:"overlay"},{default:T(()=>[s.open?(l(),a("div",{key:0,class:"fixed inset-0 z-40 bg-black/60",onClick:n[0]||(n[0]=i=>F("close"))})):c("",!0)]),_:1}),E(Ce,{name:"drawer"},{default:T(()=>[s.open?(l(),a("div",yt,[t("div",Ct,[n[13]||(n[13]=t("h2",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"}," RReader ",-1)),t("div",Mt,[E(S(ue),{href:L.route("feeds.manage"),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors"},{default:T(()=>[...n[11]||(n[11]=[w(" Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:n[1]||(n[1]=i=>F("close")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Close sidebar","aria-label":"Close sidebar"},[...n[12]||(n[12]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("nav",At,[t("div",$t,[t("button",{onClick:n[2]||(n[2]=i=>C({filter:"today"})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[14]||(n[14]=t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),n[15]||(n[15]=t("span",{class:"flex-1 text-left"},"Today",-1)),s.sidebar.todayCount>0?(l(),a("span",St,x(s.sidebar.todayCount),1)):c("",!0)],2),t("button",{onClick:n[3]||(n[3]=i=>C({filter:"read_later"})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[16]||(n[16]=t("svg",{class:"h-5 w-5 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),n[17]||(n[17]=t("span",{class:"flex-1 text-left"},"Read Later",-1)),s.sidebar.readLaterCount>0?(l(),a("span",Ft,x(s.sidebar.readLaterCount),1)):c("",!0)],2)]),n[24]||(n[24]=t("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),t("div",Lt,[n[23]||(n[23]=t("div",{class:"flex items-center justify-between px-3 pb-2"},[t("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ")],-1)),t("button",{onClick:n[4]||(n[4]=i=>C({})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",Z()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[18]||(n[18]=t("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),n[19]||(n[19]=t("span",{class:"flex-1 text-left"},"All",-1)),s.sidebar.totalUnread>0?(l(),a("span",jt,x(s.sidebar.totalUnread),1)):c("",!0)],2),(l(!0),a(f,null,B(s.sidebar.categories,i=>(l(),a("div",{key:i.id,class:"mt-0.5"},[t("div",{class:m(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",s.activeCategoryId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t("button",{onClick:b=>Y(i.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":I(i.id),title:`Toggle ${i.name} feeds`,"aria-label":`Toggle ${i.name} feeds`},[(l(),a("svg",{class:m(["h-4 w-4 transition-transform duration-200",{"rotate-90":I(i.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...n[20]||(n[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,Rt),t("button",{onClick:b=>C({category_id:i.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[t("span",It,x(i.name),1),i.unread_count>0?(l(),a("span",Bt,x(i.unread_count),1)):c("",!0)],8,Tt)],2),I(i.id)?(l(),a("div",zt,[(l(!0),a(f,null,B(i.feeds,b=>(l(),a("button",{key:b.id,onClick:z=>C({feed_id:b.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",s.activeFeedId===b.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[b.favicon_url?(l(),a("img",{key:0,src:b.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Dt)):(l(),a("div",Et)),t("span",Nt,x(b.title),1),b.disabled_at?(l(),a("svg",_t,[...n[21]||(n[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):b.unread_count>0?(l(),a("span",Ht,x(b.unread_count),1)):c("",!0)],10,Ut))),128))])):c("",!0)]))),128)),s.sidebar.uncategorizedFeeds.length>0?(l(),a("div",Vt,[(l(!0),a(f,null,B(s.sidebar.uncategorizedFeeds,i=>(l(),a("button",{key:i.id,onClick:b=>C({feed_id:i.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFeedId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[i.favicon_url?(l(),a("img",{key:0,src:i.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Ot)):(l(),a("div",Pt)),t("span",Yt,x(i.title),1),i.disabled_at?(l(),a("svg",qt,[...n[22]||(n[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):i.unread_count>0?(l(),a("span",Wt,x(i.unread_count),1)):c("",!0)],10,Xt))),128))])):c("",!0)])]),t("div",Kt,[t("button",{onClick:n[5]||(n[5]=i=>ne()),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"},[...n[25]||(n[25]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),w(" Add Feed ",-1)])]),E(S(ue),{href:L.route("settings.index"),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-2.5 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors"},{default:T(()=>[...n[26]||(n[26]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),w(" Settings ",-1)])]),_:1},8,["href"])])])):c("",!0)]),_:1})],64))}},Xe=ht(Rr,[["__scopeId","data-v-120d48aa"]]),Tr={key:0,class:"ml-2 inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Ir=["disabled","title","aria-label"],Br={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},zr={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ur=["disabled"],Dr=["disabled"],Er=["disabled"],Nr={class:"w-full max-w-sm rounded-xl bg-white dark:bg-neutral-900 p-6 shadow-xl"},_r={class:"mt-2 text-sm text-neutral-600 dark:text-neutral-400"},Hr={class:"text-neutral-800 dark:text-neutral-200"},Vr={class:"mt-6 flex justify-end gap-3"},Xr=["disabled"],Or={key:1,class:"flex",style:{height:"calc(100vh - 2.75rem)"}},Pr={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Yr={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},qr=["id","onClick"],Wr=["src"],Kr=["onClick"],Jr={key:1,class:"hidden xl:block w-64 shrink-0 truncate text-xs text-neutral-500 dark:text-neutral-600"},Qr={class:"w-12 shrink-0 text-right text-xs text-neutral-500 dark:text-neutral-600"},Zr=["id"],Gr={key:0,class:"flex items-center justify-center py-12"},el={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/95 dark:bg-neutral-900/80 backdrop-blur px-4 py-2"},tl={class:"flex items-center justify-between gap-3"},rl={class:"min-w-0 flex-1 truncate text-sm font-semibold text-neutral-900 dark:text-neutral-100"},ll=["href"],al={class:"flex shrink-0 items-center gap-0.5"},nl=["disabled","title","aria-label"],sl=["fill"],ol=["disabled"],il={class:"mt-1 flex flex-wrap items-center gap-x-2 text-xs text-neutral-500 dark:text-neutral-500"},dl=["href"],ul=["src"],cl={key:1},vl={class:"mx-auto max-w-3xl px-6 pt-6 pb-6"},xl=["src","alt"],kl=["innerHTML"],fl={key:1,class:"py-12 text-center"},bl=["href"],gl={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},ml={key:1,class:"flex justify-center py-6"},hl=["disabled"],pl={key:2,class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"},wl={key:3,class:"pb-4 text-center text-xs text-neutral-500 dark:text-neutral-600"},yl={class:"flex flex-col items-center gap-1"},Cl={key:0,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},Ml={key:1,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},Al={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},$l={key:1},Sl={class:"sticky top-14 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Fl={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},Ll={key:0,class:"absolute inset-0 flex items-center bg-neutral-800 px-6"},jl={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Rl={key:1,class:"absolute inset-0 flex items-center justify-end bg-neutral-800 px-6"},Tl={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Il=["onClick","onTouchstart","onTouchmove","onTouchend"],Bl={class:"min-w-0 flex-1"},zl={class:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-500"},Ul=["src"],Dl=["onClick"],El={class:"shrink-0"},Nl={key:0,class:"mt-0.5 line-clamp-2 text-xs text-neutral-600 dark:text-neutral-500"},_l=["src","alt"],Hl={key:0,class:"flex justify-center py-6"},Vl=["disabled"],Xl={key:1,class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"},Ol={key:2,class:"pb-4 text-center text-xs text-neutral-500 dark:text-neutral-600"},Pl=50,we=80,Oe=80,ye=10,Ql={__name:"Index",props:{articles:Object,unreadCount:Number,filterTitle:String,activeFeedId:Number,activeCategoryId:Number,activeFilter:String,sidebar:Object,feedCount:Number,hasPendingFeeds:Boolean,hideReadArticles:Boolean,allArticlesRead:Boolean,showAll:Boolean},setup(s){const k=s,ae=P(()=>k.activeFilter==="read_later"),{isOnline:y}=ft(),{enqueue:F}=bt(),{success:R}=mt(),{saveReadingState:Y,clearReadingState:I,loadReadingState:C}=pt(),{markRead:Z,markUnread:ne,applyReadStates:L}=wt(),{openAddFeedModal:n}=Pe(),i=h(new Date);he(()=>k.articles,()=>{i.value=new Date,I()}),vt("toggleSidebar",()=>{oe.value=!0});const b=h(!1),z=h(!1),se=h(!1),oe=h(!1),_=h(k.hideReadArticles),ve=h(!1),H=h(typeof window<"u"&&window.innerWidth>=1024),G=h(!1),v=h(null),M=h(null),ee=h(!1),V=new Map,j=h(!1),te=h(!1),re=h(!1),q=h(!1),ie=h(!1),W=h(null);He(async()=>{const r=localStorage.getItem("rreader-sidebar-collapsed");r!==null&&(G.value=r==="true"),xe(),window.addEventListener("resize",xe),W.value?.addEventListener("scroll",je,{passive:!0});const e=await C(),o=window.location.pathname+window.location.search;if(e&&e.selectedArticleId&&!M.value&&e.url===o)try{const u=await fe(e.selectedArticleId);g.value.some(d=>d.id===e.selectedArticleId)||g.value.unshift({id:u.id,title:u.title,summary:u.summary,url:u.url,author:u.author,published_at:u.published_at,is_read:!0,is_read_later:u.is_read_later??!1,feed:u.feed}),M.value=e.selectedArticleId,v.value=u,j.value=u.is_read_later??!1,ee.value=!1,await ce(),W.value&&e.listScrollTop&&(W.value.scrollTop=e.listScrollTop)}catch{I()}}),Ve(()=>{window.removeEventListener("resize",xe),W.value?.removeEventListener("scroll",je),clearTimeout(ge)});function xe(){H.value=window.innerWidth>=1024}function Ye(){G.value=!G.value,localStorage.setItem("rreader-sidebar-collapsed",String(G.value))}const U=h(0),K=h(!1),D=h(!1);let Ae=0;function qe(r){window.scrollY>0||D.value||(Ae=r.touches[0].clientY,K.value=!0)}function We(r){if(!K.value||D.value)return;if(window.scrollY>0){K.value=!1,U.value=0;return}const e=r.touches[0].clientY-Ae;e>0&&(U.value=Math.min(e*.5,120))}function Ke(){K.value&&(K.value=!1,U.value>=we&&!D.value?(D.value=!0,U.value=60,ze()):U.value=0)}const g=h([...k.articles.data]),J=h(k.articles.next_page_url),A=h(k.unreadCount);function $e(){const r=L(g.value);let e=0;for(const[o,u]of Object.entries(r))Q(Number(o),u),e+=u;e!==0&&(A.value=Math.max(0,A.value+e))}$e(),he(()=>k.articles,r=>{g.value=[...r.data],J.value=r.next_page_url,A.value=k.unreadCount,$e(),v.value=null,M.value=null,V.clear()}),he(()=>k.hideReadArticles,r=>{_.value=r});const X=P(()=>g.value),ke=P(()=>M.value?X.value.findIndex(r=>r.id===M.value):-1),Se=P(()=>{const r={},e=new Date;e.setHours(0,0,0,0);const o=new Date(e);o.setDate(o.getDate()-1);for(const u of g.value){const d=new Date(u.published_at);d.setHours(0,0,0,0);let p;d.getTime()===e.getTime()?p="Today":d.getTime()===o.getTime()?p="Yesterday":p=d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r[p]||(r[p]=[]),r[p].push(u)}return r});function Fe(r){const e=new Date,o=new Date(r),u=Math.floor((e-o)/1e3);if(u<60)return"just now";const d=Math.floor(u/60);if(d<60)return`${d}m`;const p=Math.floor(d/60);if(p<24)return`${p}h`;const _e=Math.floor(p/24);return _e<7?`${_e}d`:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function de(r){if(!r.is_read){Z(r.id,r.feed?.id);const e=g.value.findIndex(o=>o.id===r.id);e!==-1&&(g.value[e]={...g.value[e],is_read:!0}),A.value=Math.max(0,A.value-1),H.value&&Q(r.feed?.id,-1)}if(H.value){if(M.value===r.id){le();return}M.value=r.id,Je(r.id)}else{const e={};k.activeFeedId&&(e.feed_id=k.activeFeedId),k.activeCategoryId&&(e.category_id=k.activeCategoryId),k.activeFilter&&(e.filter=k.activeFilter);const o=new URLSearchParams(e).toString();$.visit(route("articles.show",r.id)+(o?"?"+o:""))}}async function fe(r){const e=await fetch(route("articles.show",r),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw new Error("Failed to load article");const o=await e.json();if(V.size>=Pl){const u=V.keys().next().value;V.delete(u)}return V.set(r,o.article),o.article}function Le(r){const e=X.value.findIndex(o=>o.id===r);if(e!==-1)for(let o=1;o<=2;o++){const u=X.value[e+o];u&&!V.has(u.id)&&fe(u.id).catch(()=>{})}}async function Je(r,{restoring:e=!1}={}){const o=V.get(r);if(o){if(v.value=o,j.value=o.is_read_later??!1,ee.value=!1,await ce(),!e){const u=document.getElementById(`article-expanded-${r}`);u&&u.scrollIntoView({block:"start",behavior:"smooth"})}Y(be()),Le(r);return}ee.value=!0;try{const u=await fe(r);if(v.value=u,j.value=u.is_read_later??!1,await ce(),!e){const d=document.getElementById(`article-expanded-${r}`);d&&d.scrollIntoView({block:"start",behavior:"smooth"})}Y(be()),Le(r)}catch(u){console.error("Failed to load article:",u),$.visit(route("articles.show",r))}finally{ee.value=!1}}function le(){v.value=null,M.value=null,I()}function Qe(r){le(),$.get(route("articles.index",{feed_id:r}))}function be(){return{url:window.location.pathname+window.location.search,selectedArticleId:M.value,listScrollTop:W.value?.scrollTop??0}}let ge=null;function je(){M.value&&(clearTimeout(ge),ge=setTimeout(()=>{Y(be())},500))}function Re(){if(!(!v.value||te.value)){if(te.value=!0,!y.value){j.value=!j.value,F("post",route("articles.toggleReadLater",v.value.id),{}),te.value=!1,R(j.value?"Article saved":"Removed from Read Later");return}$.post(route("articles.toggleReadLater",v.value.id),{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{j.value=!j.value,R(j.value?"Article saved":"Removed from Read Later")},onFinish:()=>{te.value=!1}})}}function Te(){if(!v.value||re.value)return;re.value=!0,ne(v.value.id);const r=g.value.findIndex(e=>e.id===v.value.id);if(r!==-1&&(g.value[r]={...g.value[r],is_read:!1}),A.value+=1,Q(v.value.feed?.id,1),!y.value){F("post",route("articles.markAsUnread",v.value.id),{}),re.value=!1,R("Marked as unread");return}axios.post(route("articles.markAsUnread",v.value.id)).finally(()=>{re.value=!1,R("Marked as unread")})}const Ze=P(()=>v.value?.image_url?!(v.value.content||v.value.summary||"").includes(v.value.image_url):!1),Ge=P(()=>v.value?new Date(v.value.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),et=P(()=>v.value?new Date(v.value.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"");function Ie(r){if(H.value&&!(r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||r.target.isContentEditable))switch(r.key){case"ArrowRight":case"j":{r.preventDefault();const e=ke.value+1;e<X.value.length&&de(X.value[e]);break}case"ArrowLeft":case"k":{r.preventDefault();const e=ke.value-1;e>=0&&de(X.value[e]);break}case"s":{r.preventDefault(),v.value&&Re();break}case"m":{if(r.preventDefault(),v.value){const e=ke.value;Te(),le();const o=X.value[e+1];o&&(M.value=o.id,tt(o.id))}break}case"Escape":{r.preventDefault(),le();break}}}function tt(r){ce(()=>{const e=document.getElementById(`article-row-${r}`);e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})})}He(()=>{window.addEventListener("keydown",Ie)}),Ve(()=>{window.removeEventListener("keydown",Ie)});function rt(){se.value=!0;const r={};k.activeFeedId&&(r.feed_id=k.activeFeedId),k.activeCategoryId&&(r.category_id=k.activeCategoryId),k.activeFilter&&(r.filter=k.activeFilter);const e={};let o=0;for(const u of g.value)!u.is_read&&u.feed?.id&&(e[u.feed.id]=(e[u.feed.id]||0)+1,o++);for(const[u,d]of Object.entries(e))Q(Number(u),-d);if(A.value=Math.max(0,A.value-o),!y.value){g.value=g.value.map(u=>({...u,is_read:!0})),F("post",route("articles.markAllAsRead"),r),se.value=!1,R("All marked as read");return}$.post(route("articles.markAllAsRead"),r,{preserveScroll:!0,onFinish:()=>{se.value=!1,R("All marked as read")}})}function Be(){!J.value||z.value||(z.value=!0,$.get(J.value,{},{preserveState:!0,preserveScroll:!0,only:["articles"],onSuccess:r=>{const e=r.props.articles;g.value.push(...e.data),J.value=e.next_page_url},onFinish:()=>{z.value=!1}}))}function ze(){b.value=!0,$.reload({preserveScroll:!0,onFinish:()=>{b.value=!1,D.value=!1,U.value=0}})}async function lt(){ve.value=!0;const r=!_.value;try{await fetch(route("settings.update"),{method:"PATCH",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1]||"")},body:JSON.stringify({hide_read_articles:r})}),_.value=r,R(r?"Hiding read articles on next refresh":"Showing all articles on next refresh")}finally{ve.value=!1}}function at(){ie.value=!0}function Ue(){ie.value=!1}function nt(){!k.activeFeedId||q.value||(q.value=!0,ie.value=!1,$.delete(route("feeds.destroy",k.activeFeedId),{onFinish:()=>{q.value=!1}}))}function Q(r,e){if(!(!r||!k.sidebar||e===0)){k.sidebar.totalUnread=Math.max(0,(k.sidebar.totalUnread||0)+e);for(const o of k.sidebar.categories||[])for(const u of o.feeds||[])if(u.id===r){u.unread_count=Math.max(0,(u.unread_count||0)+e),o.unread_count=Math.max(0,(o.unread_count||0)+e);return}for(const o of k.sidebar.uncategorizedFeeds||[])if(o.id===r){o.unread_count=Math.max(0,(o.unread_count||0)+e);return}}}function De(){const r={};k.activeFeedId&&(r.feed_id=k.activeFeedId),k.activeCategoryId&&(r.category_id=k.activeCategoryId),k.activeFilter&&(r.filter=k.activeFilter),r.show_all=1,$.get(route("articles.index"),r)}const N=h({});function st(r,e){N.value[r]={startX:e.touches[0].clientX,startY:e.touches[0].clientY,currentX:0,swiping:!1,directionLocked:!1}}function ot(r,e){const o=N.value[r];if(!o)return;const u=e.touches[0].clientX-o.startX,d=e.touches[0].clientY-o.startY;if(!o.directionLocked&&(Math.abs(u)>ye||Math.abs(d)>ye)&&(o.directionLocked=!0,Math.abs(d)>Math.abs(u))){delete N.value[r];return}o.directionLocked&&Math.abs(u)>ye&&(o.swiping=!0,o.currentX=Math.max(Math.min(u,200),-200))}function it(r,e){const o=N.value[r];o&&(o.currentX<-Oe?dt(e):o.currentX>Oe&&ut(e),delete N.value[r])}function dt(r){const e=g.value.findIndex(o=>o.id===r.id);if(e!==-1)if(r.is_read){if(ne(r.id),g.value[e]={...g.value[e],is_read:!1},A.value+=1,Q(r.feed?.id,1),!y.value){F("post",route("articles.markAsUnread",r.id),{});return}axios.post(route("articles.markAsUnread",r.id))}else{if(Z(r.id,r.feed?.id),g.value[e]={...g.value[e],is_read:!0},A.value=Math.max(0,A.value-1),Q(r.feed?.id,-1),!y.value){F("post",route("articles.markAsRead"),{article_ids:[r.id]});return}axios.post(route("articles.markAsRead"),{article_ids:[r.id]})}}function ut(r){if(ae.value){if(g.value=g.value.filter(e=>e.id!==r.id),!y.value){F("post",route("articles.toggleReadLater",r.id),{});return}$.post(route("articles.toggleReadLater",r.id),{},{preserveScroll:!0,preserveState:!0})}else{const e=g.value.findIndex(o=>o.id===r.id);if(e!==-1){const o=g.value[e].is_read_later;g.value[e]={...g.value[e],is_read_later:!o}}if(!y.value){F("post",route("articles.toggleReadLater",r.id),{});return}$.post(route("articles.toggleReadLater",r.id),{},{preserveScroll:!0,preserveState:!0})}}function ct(r){const e=N.value[r];return!e||!e.swiping?{}:{transform:`translateX(${e.currentX}px)`,transition:"none"}}function me(r){return N.value[r]?.swiping??!1}function Ee(r){const e=N.value[r];return!e||!e.swiping?null:e.currentX>0?"right":"left"}function Ne(r){return r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}return(r,e)=>(l(),a(f,null,[E(S(xt),{title:"Articles"}),E(gt,null,{"header-left":T(()=>[t("button",{onClick:e[0]||(e[0]=o=>oe.value=!0),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2 lg:hidden",title:"Open sidebar","aria-label":"Open sidebar"},[...e[7]||(e[7]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])]),title:T(()=>[w(x(s.filterTitle)+" ",1),A.value>0?(l(),a("span",Tr,x(A.value),1)):c("",!0)]),"header-right":T(()=>[t("button",{onClick:lt,disabled:ve.value,class:m(["rounded-lg p-2 transition-colors cursor-pointer",_.value?"text-blue-500 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:_.value?"Showing unread only":"Showing all articles","aria-label":_.value?"Show all articles":"Hide read articles"},[_.value?(l(),a("svg",Br,[...e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)])])):(l(),a("svg",zr,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],10,Ir),t("button",{onClick:ze,disabled:b.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Refresh feeds","aria-label":"Refresh feeds"},[(l(),a("svg",{class:m(["h-5 w-5 transition-transform",{"animate-spin":b.value}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],2))],8,Ur),A.value>0?(l(),a("button",{key:0,onClick:rt,disabled:se.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Mark all as read","aria-label":"Mark all as read"},[...e[11]||(e[11]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Dr)):c("",!0),s.activeFeedId?(l(),a("button",{key:1,onClick:at,disabled:q.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-400 transition-colors cursor-pointer",title:"Unsubscribe from feed","aria-label":"Unsubscribe from feed"},[...e[12]||(e[12]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Er)):c("",!0)]),default:T(()=>[(l(),Me(kt,{to:"body"},[E(Ce,{name:"overlay"},{default:T(()=>[ie.value?(l(),a("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 px-4",onClick:O(Ue,["self"])},[t("div",Nr,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"}," Unsubscribe from feed? ",-1)),t("p",_r,[e[13]||(e[13]=w(" This will remove ",-1)),t("strong",Hr,x(s.filterTitle),1),e[14]||(e[14]=w(" and all its articles. This cannot be undone. ",-1))]),t("div",Vr,[t("button",{onClick:Ue,class:"rounded-lg px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors cursor-pointer"}," Cancel "),t("button",{onClick:nt,disabled:q.value,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors disabled:opacity-50 cursor-pointer"},x(q.value?"Removing...":"Unsubscribe"),9,Xr)])])])):c("",!0)]),_:1})])),H.value?c("",!0):(l(),Me(Xe,{key:0,open:oe.value,persistent:!1,sidebar:s.sidebar,"active-feed-id":s.activeFeedId,"active-category-id":s.activeCategoryId,"active-filter":s.activeFilter,onClose:e[1]||(e[1]=o=>oe.value=!1)},null,8,["open","sidebar","active-feed-id","active-category-id","active-filter"])),H.value?(l(),a("div",Or,[E(Xe,{open:!0,persistent:!0,collapsed:G.value,sidebar:s.sidebar,"active-feed-id":s.activeFeedId,"active-category-id":s.activeCategoryId,"active-filter":s.activeFilter,onCollapseToggle:Ye},null,8,["collapsed","sidebar","active-feed-id","active-category-id","active-filter"]),t("div",{ref_key:"articleListEl",ref:W,class:"flex-1 flex flex-col overflow-y-auto"},[(l(!0),a(f,null,B(Se.value,(o,u)=>(l(),a(f,{key:u},[t("div",Pr,[t("h2",Yr,x(u),1)]),t("div",null,[(l(!0),a(f,null,B(o,d=>(l(),a(f,{key:d.id},[t("button",{id:`article-row-${d.id}`,onClick:p=>de(d),class:m(["flex w-full items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5 text-left transition-colors cursor-pointer",[M.value===d.id?"bg-blue-50 dark:bg-neutral-900 border-l-2 border-l-blue-500":"hover:bg-neutral-50 dark:hover:bg-neutral-900/50"]])},[d.feed?.favicon_url?(l(),a("img",{key:0,src:d.feed.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Wr)):c("",!0),t("span",{class:"w-32 shrink-0 truncate text-xs text-neutral-600 dark:text-neutral-500 hover:underline cursor-pointer",onClick:O(p=>S($).get(r.route("articles.index",{feed_id:d.feed?.id})),["stop"])},x(d.feed?.title),9,Kr),t("h3",{class:m(["min-w-0 flex-1 truncate text-sm",d.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-medium"])},x(d.title),3),d.summary&&M.value!==d.id?(l(),a("span",Jr,x(d.summary),1)):c("",!0),t("span",Qr,x(Fe(d.published_at)),1)],10,qr),M.value===d.id?(l(),a("div",{key:0,id:`article-expanded-${d.id}`,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50"},[ee.value&&!v.value?(l(),a("div",Gr,[...e[16]||(e[16]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):c("",!0),v.value?(l(),a(f,{key:1},[t("div",el,[t("div",tl,[t("h2",rl,[v.value.url?(l(),a("a",{key:0,href:v.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},x(v.value.title),9,ll)):(l(),a(f,{key:1},[w(x(v.value.title),1)],64))]),t("div",al,[t("button",{onClick:O(Re,["stop"]),disabled:te.value,class:m(["rounded-lg p-1.5 transition-colors cursor-pointer",j.value?"text-blue-500 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300"]),title:j.value?"Remove from Read Later":"Save to Read Later","aria-label":j.value?"Remove from Read Later":"Save to Read Later"},[(l(),a("svg",{class:"h-4 w-4",fill:j.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,sl))],10,nl),t("button",{onClick:O(Te,["stop"]),disabled:re.value,class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Mark as unread","aria-label":"Mark as unread"},[...e[18]||(e[18]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])],8,ol),t("button",{onClick:O(le,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Close article","aria-label":"Close article"},[...e[19]||(e[19]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",il,[v.value.feed?.id?(l(),a("a",{key:0,href:r.route("articles.index",{feed_id:v.value.feed.id}),class:"flex items-center gap-1.5 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",onClick:e[2]||(e[2]=O(p=>Qe(v.value.feed.id),["prevent"]))},[v.value.feed?.favicon_url?(l(),a("img",{key:0,src:v.value.feed.favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,ul)):c("",!0),t("span",null,x(v.value.feed?.title),1)],8,dl)):c("",!0),v.value.author?(l(),a("span",cl,"· "+x(v.value.author),1)):c("",!0),t("span",null,"· "+x(Ge.value)+" at "+x(et.value),1)])]),t("article",vl,[Ze.value?(l(),a("img",{key:0,src:v.value.image_url,alt:v.value.title,class:"mb-6 w-full max-h-80 object-cover rounded-lg",loading:"lazy"},null,8,xl)):c("",!0),t("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-600 dark:prose-code:text-blue-300 prose-pre:bg-white dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:v.value.content||v.value.summary},null,8,kl),!v.value.content&&!v.value.summary?(l(),a("div",fl,[e[20]||(e[20]=t("p",{class:"text-neutral-500 dark:text-neutral-400"}," No article content available. ",-1)),v.value.url?(l(),a("a",{key:0,href:v.value.url,target:"_blank",rel:"noopener noreferrer",class:"mt-4 inline-block rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ",8,bl)):c("",!0)])):c("",!0),e[21]||(e[21]=t("div",{class:"mt-8 border-t border-neutral-200 dark:border-neutral-800 pt-4 text-xs text-neutral-400 dark:text-neutral-600"},[t("span",{class:"font-medium text-neutral-500"},"Shortcuts:"),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"j"),w("/"),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"k"),w(" or "),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"←"),w("/"),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"→"),w(" navigate")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"s"),w(" save")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"m"),w(" mark unread")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"Esc"),w(" close")])],-1))])],64)):c("",!0)],8,Zr)):c("",!0)],64))),128))])],64))),128)),g.value.length===0?(l(),a("div",gl,[s.activeFilter==="read_later"?(l(),a(f,{key:0},[e[22]||(e[22]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[23]||(e[23]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[24]||(e[24]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):s.feedCount===0?(l(),a(f,{key:1},[e[25]||(e[25]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[26]||(e[26]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[27]||(e[27]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=o=>S(n)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):s.hideReadArticles&&s.allArticlesRead&&!s.showAll?(l(),a(f,{key:2},[e[28]||(e[28]=t("svg",{class:"h-16 w-16 text-green-400 dark:text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[29]||(e[29]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," All caught up! ",-1)),e[30]||(e[30]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," You've read everything in this view. ",-1)),t("button",{onClick:De,class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Show all articles ")],64)):s.hasPendingFeeds?(l(),a(f,{key:3},[e[31]||(e[31]=t("svg",{class:"h-10 w-10 animate-spin text-neutral-400 dark:text-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[32]||(e[32]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," Fetching your feeds... ",-1)),e[33]||(e[33]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Articles will appear here shortly as your feeds are being updated. ",-1))],64)):s.activeFeedId?(l(),a(f,{key:4},[e[34]||(e[34]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[35]||(e[35]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles in this feed ",-1)),e[36]||(e[36]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," This feed doesn't have any articles yet. ",-1))],64)):(l(),a(f,{key:5},[e[37]||(e[37]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[38]||(e[38]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[39]||(e[39]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=o=>S(n)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):c("",!0),J.value?(l(),a("div",ml,[t("button",{onClick:Be,disabled:z.value,class:"rounded-lg bg-neutral-100 dark:bg-neutral-800 px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50"},x(z.value?"Loading...":"Load more articles"),9,hl)])):g.value.length>0?(l(),a("div",pl," You're all caught up ")):c("",!0),S(y)?c("",!0):(l(),a("div",wl," Last updated at "+x(Ne(i.value)),1))],512)])):c("",!0),H.value?c("",!0):(l(),a(f,{key:2},[t("div",{class:m(["flex items-center justify-center overflow-hidden transition-all duration-200",{"transition-none":K.value}]),style:pe({height:U.value+"px"})},[t("div",yl,[(l(),a("svg",{class:m(["h-5 w-5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200",{"animate-spin":D.value}]),style:pe(D.value?{}:{transform:`rotate(${Math.min(U.value/we,1)*360}deg)`}),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[40]||(e[40]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],6)),!D.value&&U.value>=we?(l(),a("span",Cl,"Release to refresh")):D.value?(l(),a("span",Ml,"Refreshing...")):c("",!0)])],6),t("div",{onTouchstartPassive:qe,onTouchmovePassive:We,onTouchend:Ke},[g.value.length===0?(l(),a("div",Al,[s.activeFilter==="read_later"?(l(),a(f,{key:0},[e[41]||(e[41]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[42]||(e[42]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[43]||(e[43]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):s.feedCount===0?(l(),a(f,{key:1},[e[44]||(e[44]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[45]||(e[45]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[46]||(e[46]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[5]||(e[5]=o=>S(n)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):s.hideReadArticles&&s.allArticlesRead&&!s.showAll?(l(),a(f,{key:2},[e[47]||(e[47]=t("svg",{class:"h-16 w-16 text-green-400 dark:text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[48]||(e[48]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," All caught up! ",-1)),e[49]||(e[49]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," You've read everything in this view. ",-1)),t("button",{onClick:De,class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Show all articles ")],64)):s.hasPendingFeeds?(l(),a(f,{key:3},[e[50]||(e[50]=t("svg",{class:"h-10 w-10 animate-spin text-neutral-400 dark:text-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[51]||(e[51]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," Fetching your feeds... ",-1)),e[52]||(e[52]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Articles will appear here shortly as your feeds are being updated. ",-1))],64)):s.activeFeedId?(l(),a(f,{key:4},[e[53]||(e[53]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[54]||(e[54]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles in this feed ",-1)),e[55]||(e[55]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," This feed doesn't have any articles yet. ",-1))],64)):(l(),a(f,{key:5},[e[56]||(e[56]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[57]||(e[57]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[58]||(e[58]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[6]||(e[6]=o=>S(n)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):(l(),a("div",$l,[t("div",null,[(l(!0),a(f,null,B(Se.value,(o,u)=>(l(),a(f,{key:u},[t("div",Sl,[t("h2",Fl,x(u),1)]),t("div",null,[(l(!0),a(f,null,B(o,d=>(l(),a("div",{key:d.id,class:"relative overflow-hidden border-b border-neutral-200/50 dark:border-neutral-800/50"},[me(d.id)&&Ee(d.id)==="right"?(l(),a("div",Ll,[e[59]||(e[59]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t("span",jl,x(d.is_read_later?"Saved":"Read Later"),1)])):c("",!0),me(d.id)&&Ee(d.id)==="left"?(l(),a("div",Rl,[e[60]||(e[60]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),t("span",Tl,x(d.is_read?"Mark as Unread":"Mark as Read"),1)])):c("",!0),t("button",{onClick:p=>!me(d.id)&&de(d),onTouchstart:p=>st(d.id,p),onTouchmove:p=>ot(d.id,p),onTouchend:p=>it(d.id,d),class:"relative flex w-full gap-3 bg-white dark:bg-neutral-950 px-4 py-3 text-left transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 active:bg-neutral-100 dark:active:bg-neutral-800/50",style:pe(ct(d.id))},[t("div",Bl,[t("div",zl,[d.feed?.favicon_url?(l(),a("img",{key:0,src:d.feed.favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,Ul)):c("",!0),t("span",{class:"truncate hover:underline",onClick:O(p=>S($).get(r.route("articles.index",{feed_id:d.feed?.id})),["stop"])},x(d.feed?.title),9,Dl),e[61]||(e[61]=t("span",null,"·",-1)),t("span",El,x(Fe(d.published_at)),1)]),t("h3",{class:m(["mt-1 text-sm leading-snug",d.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-semibold"])},x(d.title),3),d.summary?(l(),a("p",Nl,x(d.summary),1)):c("",!0)]),d.image_url?(l(),a("img",{key:0,src:d.image_url,class:"h-16 w-16 shrink-0 rounded-lg object-cover",alt:d.title,loading:"lazy"},null,8,_l)):c("",!0)],44,Il)]))),128))])],64))),128))]),J.value?(l(),a("div",Hl,[t("button",{onClick:Be,disabled:z.value,class:"rounded-lg bg-neutral-100 dark:bg-neutral-800 px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50"},x(z.value?"Loading...":"Load more articles"),9,Vl)])):(l(),a("div",Xl," You're all caught up ")),S(y)?c("",!0):(l(),a("div",Ol," Last updated at "+x(Ne(i.value)),1))]))],32)],64))]),_:1})],64))}};export{Ql as default};
