import{x as Ce,z as Ae,S as Se,w as P,U as je,o as Le,b as Te,n as Y,g as a,h as t,u as d,l as ue,t as v,k as u,j as M,F as f,p as N,D as H,a as p,E as x,c as o,i as C,V as De}from"./app-CdfCjDI5.js";import{u as Re}from"./useArticleStore-DemoOvTO.js";import{u as Be}from"./useSidebarStore-DZn26qIK.js";import{u as Ee,a as ze}from"./useAddFeedModal-DEuSzQPV.js";import{u as Ve}from"./useToast--dt7feMp.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $e={class:"sticky top-0 z-30 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pt-safe"},Fe={class:"flex h-11 items-center justify-between px-4"},Ie={class:"flex items-center gap-2 min-w-0"},Ue={class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},qe={key:0,class:"ml-1 inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Xe={class:"flex items-center gap-1 shrink-0"},Pe=["disabled"],Ye=["disabled"],He={key:0,class:"flex items-center justify-center py-20"},Oe={key:1,class:"flex",style:{height:"calc(100vh - 2.75rem - env(safe-area-inset-top, 0px))"}},We={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Ke={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},Ze=["id","onClick"],Ge=["src"],Je=["onClick"],Qe={key:1,class:"hidden xl:block w-64 shrink-0 truncate text-xs text-neutral-500 dark:text-neutral-600"},et={class:"w-12 shrink-0 text-right text-xs text-neutral-500 dark:text-neutral-600"},tt=["onClick"],rt=["id"],nt={key:0,class:"flex items-center justify-center py-12"},at={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/95 dark:bg-neutral-900/80 backdrop-blur px-4 py-2"},ot={class:"flex items-center justify-between gap-3"},st={class:"min-w-0 flex-1 truncate text-sm font-semibold text-neutral-900 dark:text-neutral-100"},lt=["href"],it={class:"flex shrink-0 items-center gap-0.5"},ut=["title"],dt=["fill"],ct={class:"mt-1 flex flex-wrap items-center gap-x-2 text-xs text-neutral-500 dark:text-neutral-500"},vt=["src"],kt={key:1},ft={class:"mx-auto max-w-3xl px-6 pt-6 pb-6"},pt=["src","alt"],xt=["innerHTML"],mt={key:1,class:"py-12 text-center"},ht=["href"],bt={key:0,class:"flex justify-center py-6"},gt={key:1,class:"py-6 text-center text-sm text-neutral-500 dark:text-neutral-600"},yt={key:1,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},wt={class:"flex flex-col items-center gap-1"},_t={key:0,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},Mt={key:1,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},Ct={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},At={key:1},St={class:"sticky top-11 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},jt={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},Lt={key:0,class:"absolute inset-0 flex items-center bg-neutral-800 px-6"},Tt={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Dt={key:1,class:"absolute inset-0 flex items-center justify-end bg-neutral-800 px-6"},Rt={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Bt=["onClick","onTouchstart","onTouchmove","onTouchend"],Et={class:"min-w-0 flex-1"},zt={class:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-500"},Vt=["src"],Nt=["onClick"],$t={class:"shrink-0"},Ft={key:0,class:"mt-0.5 line-clamp-2 text-xs text-neutral-600 dark:text-neutral-500"},It=["src","alt"],Ut={key:0,class:"flex justify-center py-6"},qt={key:1,class:"py-6 text-center text-sm text-neutral-500 dark:text-neutral-600"},O=80,de=80,W=10,Xt=Object.assign({name:"ArticleListView"},{__name:"ArticleListView",setup(Pt){const l=Re(),m=Be(),$=Ce(),h=Ae();Ee();const{success:F}=Ve(),{openAddFeedModal:R}=ze(),ce=Se("toggleSidebar");function K(){const r=h.query;return r.filter?{type:r.filter}:r.feed_id?{type:"feed",feedId:Number(r.feed_id)}:r.category_id?{type:"category",categoryId:Number(r.category_id)}:{type:"all"}}l.fetchArticles(K()),P(()=>l.filterTitle,r=>je(r),{immediate:!0}),P(()=>h.query,()=>{h.name==="articles.index"&&(S(),l.fetchArticles(K()))},{deep:!0});const B=x(()=>h.query.feed_id?Number(h.query.feed_id):null),Z=x(()=>h.query.category_id?Number(h.query.category_id):null),L=x(()=>h.query.filter||null),G=x(()=>{if(L.value==="read_later")return m.readLaterCount;if(L.value==="today")return m.todayCount;if(L.value==="recently_read")return 0;if(B.value){for(const e of m.categories){const i=e.feeds.find(k=>k.id===B.value);if(i)return i.unread_count||0}return m.uncategorizedFeeds.find(e=>e.id===B.value)?.unread_count||0}return Z.value?m.categories.find(e=>e.id===Z.value)?.unread_count||0:m.totalUnread}),J=x(()=>{let r=m.uncategorizedFeeds.length;for(const e of m.categories)r+=e.feeds?.length||0;return r}),A=x(()=>{const r={},e=new Date;e.setHours(0,0,0,0);const i=new Date(e);i.setDate(i.getDate()-1);for(const k of l.articles){const n=new Date(k.published_at);n.setHours(0,0,0,0);let c;n.getTime()===e.getTime()?c="Today":n.getTime()===i.getTime()?c="Yesterday":c=n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r[c]||(r[c]=[]),r[c].push(k)}return r});function Q(r){const e=new Date,i=new Date(r),k=Math.floor((e-i)/1e3);if(k<60)return"just now";const n=Math.floor(k/60);if(n<60)return`${n}m`;const c=Math.floor(n/60);if(c<24)return`${c}h`;const ie=Math.floor(c/24);return ie<7?`${ie}d`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const E=p(typeof window<"u"&&window.innerWidth>=1024),b=p(null),s=p(null),z=p(!1),w=p(!1),ve=p(null),T=p(null);function ee(){E.value=window.innerWidth>=1024}let D=null;Le(()=>{window.addEventListener("resize",ee),window.addEventListener("keydown",ae),D=new IntersectionObserver(r=>{r[0].isIntersecting&&l.hasMore&&!l.loadingMore&&l.loadMore()},{rootMargin:"200px"}),T.value&&D.observe(T.value)}),Te(()=>{window.removeEventListener("resize",ee),window.removeEventListener("keydown",ae),D?.disconnect()}),P(T,r=>{D?.disconnect(),r&&D?.observe(r)});function V(r){if(r.is_read||l.markRead(r.id),E.value){if(b.value===r.id){S();return}b.value=r.id,ke(r.id)}else $.push({name:"articles.show",params:{id:r.id}})}async function ke(r){const e=l.getContent(r);if(e){s.value=e,w.value=e.is_read_later??!1,z.value=!1,await Y(),te(r),l.prefetchAdjacent(r);return}z.value=!0;try{const i=await l.fetchContent(r);s.value=i,w.value=i.is_read_later??!1,await Y(),te(r),l.prefetchAdjacent(r)}catch{$.push({name:"articles.show",params:{id:r}})}finally{z.value=!1}}function te(r){const e=document.getElementById(`article-expanded-${r}`);e&&e.scrollIntoView({block:"start",behavior:"smooth"})}function S(){s.value=null,b.value=null}function I(r){S(),$.push({name:"articles.index",query:{feed_id:r}})}function re(){s.value&&(l.toggleReadLater(s.value.id),w.value=!w.value,F(w.value?"Article saved":"Removed from Read Later"))}function ne(){s.value&&(l.markUnread(s.value.id),F("Marked as unread"))}const fe=x(()=>s.value?.image_url?!(s.value.content||s.value.summary||"").includes(s.value.image_url):!1),pe=x(()=>s.value?new Date(s.value.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),xe=x(()=>s.value?new Date(s.value.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""),U=x(()=>b.value?l.articles.findIndex(r=>r.id===b.value):-1);function ae(r){if(E.value&&!(r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||r.target.isContentEditable)&&h.name==="articles.index")switch(r.key){case"ArrowRight":case"j":{r.preventDefault();const e=U.value+1;e<l.articles.length&&V(l.articles[e]);break}case"ArrowLeft":case"k":{r.preventDefault();const e=U.value-1;e>=0&&V(l.articles[e]);break}case"s":{r.preventDefault(),s.value&&re();break}case"m":{if(r.preventDefault(),s.value){const e=U.value;ne(),S();const i=l.articles[e+1];i&&(b.value=i.id,Y(()=>{document.getElementById(`article-row-${i.id}`)?.scrollIntoView({block:"nearest",behavior:"smooth"})}))}break}case"Escape":{r.preventDefault(),S();break}}}const q=p(!1);function me(){q.value=!0,l.markAllRead(B.value),q.value=!1,F("All marked as read")}async function oe(){await Promise.all([l.forceRefresh(),m.fetchSidebar()])}const g=p(0),j=p(!1),y=p(!1);let se=0;function he(r){window.scrollY>0||y.value||(se=r.touches[0].clientY,j.value=!0)}function be(r){if(!j.value||y.value)return;if(window.scrollY>0){j.value=!1,g.value=0;return}const e=r.touches[0].clientY-se;e>0&&(g.value=Math.min(e*.5,120))}async function ge(){j.value&&(j.value=!1,g.value>=O&&!y.value&&(y.value=!0,g.value=60,await oe(),y.value=!1),g.value=0)}const _=p({});function ye(r,e){_.value[r]={startX:e.touches[0].clientX,startY:e.touches[0].clientY,currentX:0,swiping:!1,directionLocked:!1}}function we(r,e){const i=_.value[r];if(!i)return;const k=e.touches[0].clientX-i.startX,n=e.touches[0].clientY-i.startY;if(!i.directionLocked&&(Math.abs(k)>W||Math.abs(n)>W)&&(i.directionLocked=!0,Math.abs(n)>Math.abs(k))){delete _.value[r];return}i.directionLocked&&Math.abs(k)>W&&(i.swiping=!0,i.currentX=Math.max(Math.min(k,200),-200))}function _e(r,e){const i=_.value[r];i&&(i.currentX<-de?e.is_read?l.markUnread(e.id):l.markRead(e.id):i.currentX>de&&l.toggleReadLater(e.id),delete _.value[r])}function Me(r){const e=_.value[r];return!e||!e.swiping?{}:{transform:`translateX(${e.currentX}px)`,transition:"none"}}function X(r){return _.value[r]?.swiping??!1}function le(r){const e=_.value[r];return!e||!e.swiping?null:e.currentX>0?"right":"left"}return(r,e)=>(o(),a(f,null,[t("header",$e,[t("div",Fe,[t("div",Ie,[t("button",{onClick:e[0]||(e[0]=i=>d(ce)()),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2",title:"Open sidebar","aria-label":"Open sidebar"},[...e[6]||(e[6]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])]),t("h1",Ue,[ue(v(d(l).filterTitle)+" ",1),G.value>0?(o(),a("span",qe,v(G.value),1)):u("",!0)])]),t("div",Xe,[t("button",{onClick:oe,disabled:d(l).loading,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Refresh feeds","aria-label":"Refresh feeds"},[(o(),a("svg",{class:M(["h-5 w-5 transition-transform",{"animate-spin":d(l).loading}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],2))],8,Pe),d(l).unreadCount>0?(o(),a("button",{key:0,onClick:me,disabled:q.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Mark all as read","aria-label":"Mark all as read"},[...e[8]||(e[8]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Ye)):u("",!0)])])]),d(l).loading&&d(l).articles.length===0?(o(),a("div",He,[...e[9]||(e[9]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):E.value?(o(),a("div",Oe,[t("div",{ref_key:"articleListEl",ref:ve,class:"flex-1 flex flex-col overflow-y-auto pr-2"},[d(l).articles.length>0?(o(),a(f,{key:0},[(o(!0),a(f,null,N(A.value,(i,k)=>(o(),a(f,{key:k},[t("div",We,[t("h2",Ke,v(k),1)]),t("div",null,[(o(!0),a(f,null,N(i,n=>(o(),a(f,{key:n.id},[t("button",{id:`article-row-${n.id}`,onClick:c=>V(n),class:M(["group/row flex w-full items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5 text-left transition-colors cursor-pointer",[b.value===n.id?"bg-blue-50 dark:bg-neutral-900 border-l-2 border-l-blue-500":"hover:bg-neutral-50 dark:hover:bg-neutral-900/50"]])},[n.feed_favicon_url?(o(),a("img",{key:0,src:n.feed_favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Ge)):u("",!0),t("span",{class:"w-32 shrink-0 truncate text-xs text-neutral-600 dark:text-neutral-500 hover:underline cursor-pointer",onClick:C(c=>I(n.feed_id),["stop"])},v(n.feed_title),9,Je),t("h3",{class:M(["min-w-0 flex-1 truncate text-sm",n.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-medium"])},v(n.title),3),n.summary&&b.value!==n.id?(o(),a("span",Qe,v(n.summary),1)):u("",!0),t("span",et,v(Q(n.published_at)),1),t("span",{onClick:C(c=>d(l).dismissArticle(n.id),["stop"]),class:"w-6 shrink-0 flex items-center justify-center opacity-0 group-hover/row:opacity-100 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-opacity cursor-pointer",title:"Dismiss — mark read & hide"},[...e[10]||(e[10]=[t("svg",{class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,tt)],10,Ze),b.value===n.id?(o(),a("div",{key:0,id:`article-expanded-${n.id}`,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50"},[z.value&&!s.value?(o(),a("div",nt,[...e[11]||(e[11]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):u("",!0),s.value?(o(),a(f,{key:1},[t("div",at,[t("div",ot,[t("h2",st,[s.value.url?(o(),a("a",{key:0,href:s.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},v(s.value.title),9,lt)):(o(),a(f,{key:1},[ue(v(s.value.title),1)],64))]),t("div",it,[t("button",{onClick:C(re,["stop"]),class:M(["rounded-lg p-1.5 transition-colors cursor-pointer",w.value?"text-blue-500 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300"]),title:w.value?"Remove from Read Later":"Save to Read Later"},[(o(),a("svg",{class:"h-4 w-4",fill:w.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,dt))],10,ut),t("button",{onClick:C(ne,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Mark as unread"},[...e[13]||(e[13]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])]),t("button",{onClick:C(S,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Close article"},[...e[14]||(e[14]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",ct,[s.value.feed?.id||s.value.feed_id?(o(),a("a",{key:0,href:"#",class:"flex items-center gap-1.5 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",onClick:e[1]||(e[1]=C(c=>I(s.value.feed?.id||s.value.feed_id),["prevent"]))},[s.value.feed?.favicon_url||s.value.feed_favicon_url?(o(),a("img",{key:0,src:s.value.feed?.favicon_url||s.value.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,vt)):u("",!0),t("span",null,v(s.value.feed?.title||s.value.feed_title),1)])):u("",!0),s.value.author?(o(),a("span",kt,"· "+v(s.value.author),1)):u("",!0),t("span",null,"· "+v(pe.value)+" at "+v(xe.value),1)])]),t("article",ft,[fe.value?(o(),a("img",{key:0,src:s.value.image_url,alt:s.value.title,class:"mb-6 w-full max-h-80 object-cover rounded-lg",loading:"lazy"},null,8,pt)):u("",!0),t("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-600 dark:prose-code:text-blue-300 prose-pre:bg-white dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:s.value.content||s.value.summary},null,8,xt),!s.value.content&&!s.value.summary?(o(),a("div",mt,[e[15]||(e[15]=t("p",{class:"text-neutral-500 dark:text-neutral-400"}," No article content available. ",-1)),s.value.url?(o(),a("a",{key:0,href:s.value.url,target:"_blank",rel:"noopener noreferrer",class:"mt-4 inline-block rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ",8,ht)):u("",!0)])):u("",!0),e[16]||(e[16]=De('<div class="mt-8 border-t border-neutral-200 dark:border-neutral-800 pt-4 text-xs text-neutral-400 dark:text-neutral-600" data-v-97a033bd><span class="font-medium text-neutral-500" data-v-97a033bd>Shortcuts:</span><span class="ml-2" data-v-97a033bd><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>j</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>k</kbd> or <kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>←</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>→</kbd> navigate</span><span class="ml-2" data-v-97a033bd><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>s</kbd> save</span><span class="ml-2" data-v-97a033bd><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>m</kbd> mark unread</span><span class="ml-2" data-v-97a033bd><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-97a033bd>Esc</kbd> close</span></div>',1))])],64)):u("",!0)],8,rt)):u("",!0)],64))),128))])],64))),128)),t("div",{ref_key:"loadMoreSentinel",ref:T,class:"h-px"},null,512),d(l).loadingMore?(o(),a("div",bt,[...e[17]||(e[17]=[t("svg",{class:"h-6 w-6 animate-spin text-neutral-400",viewBox:"0 0 24 24",fill:"none"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):u("",!0),!d(l).hasMore&&d(l).loaded&&A.value&&Object.keys(A.value).length>0?(o(),a("div",gt," No more articles ")):u("",!0)],64)):(o(),a("div",yt,[L.value==="read_later"?(o(),a(f,{key:0},[e[18]||(e[18]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[19]||(e[19]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[20]||(e[20]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):J.value===0?(o(),a(f,{key:1},[e[21]||(e[21]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[22]||(e[22]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[23]||(e[23]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[2]||(e[2]=i=>d(R)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(o(),a(f,{key:2},[e[24]||(e[24]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[25]||(e[25]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[26]||(e[26]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=i=>d(R)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))]))],512)])):(o(),a(f,{key:2},[t("div",{class:M(["flex items-center justify-center overflow-hidden transition-all duration-200",{"transition-none":j.value}]),style:H({height:g.value+"px"})},[t("div",wt,[(o(),a("svg",{class:M(["h-5 w-5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200",{"animate-spin":y.value}]),style:H(y.value?{}:{transform:`rotate(${Math.min(g.value/O,1)*360}deg)`}),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[27]||(e[27]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],6)),!y.value&&g.value>=O?(o(),a("span",_t,"Release to refresh")):y.value?(o(),a("span",Mt,"Refreshing...")):u("",!0)])],6),t("div",{onTouchstartPassive:he,onTouchmovePassive:be,onTouchend:ge},[d(l).articles.length===0&&!d(l).loading?(o(),a("div",Ct,[L.value==="read_later"?(o(),a(f,{key:0},[e[28]||(e[28]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[29]||(e[29]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[30]||(e[30]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):J.value===0?(o(),a(f,{key:1},[e[31]||(e[31]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[32]||(e[32]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[33]||(e[33]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=i=>d(R)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(o(),a(f,{key:2},[e[34]||(e[34]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[35]||(e[35]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[36]||(e[36]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[5]||(e[5]=i=>d(R)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):d(l).articles.length>0?(o(),a("div",At,[(o(!0),a(f,null,N(A.value,(i,k)=>(o(),a(f,{key:k},[t("div",St,[t("h2",jt,v(k),1)]),t("div",null,[(o(!0),a(f,null,N(i,n=>(o(),a("div",{key:n.id,class:"relative overflow-hidden border-b border-neutral-200/50 dark:border-neutral-800/50 bg-neutral-200 dark:bg-neutral-800"},[X(n.id)&&le(n.id)==="right"?(o(),a("div",Lt,[e[37]||(e[37]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t("span",Tt,v(n.is_read_later?"Saved":"Read Later"),1)])):u("",!0),X(n.id)&&le(n.id)==="left"?(o(),a("div",Dt,[e[38]||(e[38]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),t("span",Rt,v(n.is_read?"Mark as Unread":"Mark as Read"),1)])):u("",!0),t("button",{onClick:c=>!X(n.id)&&V(n),onTouchstart:c=>ye(n.id,c),onTouchmove:c=>we(n.id,c),onTouchend:c=>_e(n.id,n),class:"relative flex w-full gap-3 bg-white dark:bg-neutral-950 px-4 py-3 text-left transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 active:bg-neutral-100 dark:active:bg-neutral-800/50",style:H(Me(n.id))},[t("div",Et,[t("div",zt,[n.feed_favicon_url?(o(),a("img",{key:0,src:n.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,Vt)):u("",!0),t("span",{class:"truncate hover:underline",onClick:C(c=>I(n.feed_id),["stop"])},v(n.feed_title),9,Nt),e[39]||(e[39]=t("span",null,"·",-1)),t("span",$t,v(Q(n.published_at)),1)]),t("h3",{class:M(["mt-1 text-sm leading-snug",n.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-semibold"])},v(n.title),3),n.summary?(o(),a("p",Ft,v(n.summary),1)):u("",!0)]),n.image_url?(o(),a("img",{key:0,src:n.image_url,class:"h-16 w-16 shrink-0 rounded-lg object-cover",alt:n.title,loading:"lazy"},null,8,It)):u("",!0)],44,Bt)]))),128))])],64))),128)),t("div",{ref_key:"loadMoreSentinel",ref:T,class:"h-px"},null,512),d(l).loadingMore?(o(),a("div",Ut,[...e[40]||(e[40]=[t("svg",{class:"h-6 w-6 animate-spin text-neutral-400",viewBox:"0 0 24 24",fill:"none"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):u("",!0),!d(l).hasMore&&d(l).loaded&&A.value&&Object.keys(A.value).length>0?(o(),a("div",qt," No more articles ")):u("",!0)])):u("",!0)],32)],64))],64))}}),Gt=Ne(Xt,[["__scopeId","data-v-97a033bd"]]);export{Gt as default};
