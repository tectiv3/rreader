import{i as z,C as w,f as B,w as x,a as b,u as r,q as $,d as e,T as D,o as g,c as f,t as d,b as N,v as h,F as _,r as y,n as i,z as m,G as O,A as c,e as S,g as A,h as E}from"./app-BG7stg-u.js";import{A as G}from"./AppLayout-B3jKJDg1.js";import{b as p}from"./TextInput-D_2ddI9X.js";import{u as H}from"./useDarkMode-OWFb0XuD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"mx-auto max-w-lg px-4 py-6 space-y-5"},R={key:0,class:"rounded-lg bg-green-50 dark:bg-green-900/50 border border-green-300 dark:border-green-800 px-4 py-3 text-sm text-green-700 dark:text-green-300"},q={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5 mb-5"},J={class:"space-y-4"},K={class:"grid grid-cols-3 gap-2"},Q=["onClick"],W={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5 mb-5"},X={class:"space-y-4"},Y={class:"grid grid-cols-2 gap-2"},Z=["onClick"],ee={class:"grid grid-cols-3 gap-2"},te=["onClick"],re={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5 mb-5"},ae={class:"space-y-4"},le={class:"flex items-center justify-between"},se=["aria-checked"],ne={class:"flex items-center justify-between"},oe=["aria-checked"],ue=["disabled"],de={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5"},ie=["disabled"],be={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5"},me=["disabled"],ge={class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5"},ce={class:"space-y-3"},xe=["href"],he={__name:"Index",props:{settings:Object,user:Object,status:String},setup(k){const{setTheme:C}=H(),n=k,v=E(!1);let M=null;z(()=>n.status,u=>{u&&(v.value=!0,clearTimeout(M),M=setTimeout(()=>{v.value=!1},3e3))},{immediate:!0});const l=w({theme:n.settings.theme,article_view:n.settings.article_view,font_size:n.settings.font_size,refresh_interval:n.settings.refresh_interval,mark_read_on_scroll:n.settings.mark_read_on_scroll,hide_read_articles:n.settings.hide_read_articles}),L=()=>{l.patch(route("settings.update"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{C(l.theme)}})},o=w({name:n.user.name,email:n.user.email}),F=()=>{o.patch(route("settings.updateAccount"),{preserveScroll:!0,preserveState:!0})},s=w({current_password:"",password:"",password_confirmation:""}),T=()=>{s.patch(route("settings.updatePassword"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{s.reset()},onError:()=>{s.reset("password","password_confirmation")}})},U=()=>{window.location.href=route("opml.export")},j=()=>{A.post(route("logout"))},P=u=>{l.theme=u,C(u)};return(u,t)=>(g(),B(G,null,{"header-left":x(()=>[e("button",{onClick:t[0]||(t[0]=a=>r(A).visit(u.route("articles.index"))),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2",title:"Go back","aria-label":"Go back"},[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])])]),title:x(()=>[...t[10]||(t[10]=[S("Settings",-1)])]),default:x(()=>[b(r($),{title:"Settings"}),e("div",I,[b(D,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:x(()=>[v.value&&k.status?(g(),f("div",R,d(k.status),1)):N("",!0)]),_:1}),e("form",{onSubmit:h(L,["prevent"])},[e("div",q,[t[12]||(t[12]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Appearance ",-1)),e("div",J,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2"},"Theme",-1)),e("div",K,[(g(),f(_,null,y([{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"system",label:"System"}],a=>e("button",{key:a.value,onClick:V=>P(a.value),class:i(["rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r(l).theme===a.value?"bg-blue-600 text-white":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700"])},d(a.label),11,Q)),64))])])])]),e("div",W,[t[15]||(t[15]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Reading ",-1)),e("div",X,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2"},"Default article view",-1)),e("div",Y,[(g(),f(_,null,y([{value:"full",label:"Full content"},{value:"summary",label:"Summary"}],a=>e("button",{key:a.value,onClick:V=>r(l).article_view=a.value,class:i(["rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r(l).article_view===a.value?"bg-blue-600 text-white":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700"])},d(a.label),11,Z)),64))])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2"},"Font size",-1)),e("div",ee,[(g(),f(_,null,y([{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}],a=>e("button",{key:a.value,onClick:V=>r(l).font_size=a.value,class:i(["rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r(l).font_size===a.value?"bg-blue-600 text-white":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700"])},d(a.label),11,te)),64))])])])]),e("div",re,[t[20]||(t[20]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Feeds ",-1)),e("div",ae,[e("div",null,[t[17]||(t[17]=e("label",{for:"refresh_interval",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2"},"Refresh interval (minutes)",-1)),m(e("select",{id:"refresh_interval","onUpdate:modelValue":t[1]||(t[1]=a=>r(l).refresh_interval=a),class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-sm text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},[...t[16]||(t[16]=[e("option",{value:5},"5 minutes",-1),e("option",{value:15},"15 minutes",-1),e("option",{value:30},"30 minutes",-1),e("option",{value:60},"1 hour",-1),e("option",{value:120},"2 hours",-1),e("option",{value:360},"6 hours",-1),e("option",{value:720},"12 hours",-1),e("option",{value:1440},"24 hours",-1)])],512),[[O,r(l).refresh_interval,void 0,{number:!0}]])]),e("div",le,[t[18]||(t[18]=e("label",{for:"mark_read_on_scroll",class:"text-sm text-neutral-700 dark:text-neutral-300"},"Mark as read on scroll",-1)),e("button",{id:"mark_read_on_scroll",onClick:t[2]||(t[2]=a=>r(l).mark_read_on_scroll=!r(l).mark_read_on_scroll),class:i(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",r(l).mark_read_on_scroll?"bg-blue-600":"bg-neutral-300 dark:bg-neutral-700"]),role:"switch","aria-checked":r(l).mark_read_on_scroll},[e("span",{class:i(["inline-block h-4 w-4 rounded-full bg-white transition-transform",r(l).mark_read_on_scroll?"translate-x-6":"translate-x-1"])},null,2)],10,se)]),e("div",ne,[t[19]||(t[19]=e("label",{for:"hide_read_articles",class:"text-sm text-neutral-700 dark:text-neutral-300"},"Hide read articles",-1)),e("button",{id:"hide_read_articles",onClick:t[3]||(t[3]=a=>r(l).hide_read_articles=!r(l).hide_read_articles),class:i(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",r(l).hide_read_articles?"bg-blue-600":"bg-neutral-300 dark:bg-neutral-700"]),role:"switch","aria-checked":r(l).hide_read_articles},[e("span",{class:i(["inline-block h-4 w-4 rounded-full bg-white transition-transform",r(l).hide_read_articles?"translate-x-6":"translate-x-1"])},null,2)],10,oe)])])]),e("button",{type:"submit",class:"w-full rounded-lg bg-blue-600 px-4 py-3 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-25",disabled:r(l).processing},d(r(l).processing?"Saving...":"Save Preferences"),9,ue)],32),e("div",de,[t[23]||(t[23]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Account ",-1)),e("form",{onSubmit:h(F,["prevent"]),class:"space-y-4"},[e("div",null,[t[21]||(t[21]=e("label",{for:"name",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-1"},"Name",-1)),m(e("input",{id:"name","onUpdate:modelValue":t[4]||(t[4]=a=>r(o).name=a),type:"text",class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-base text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},null,512),[[c,r(o).name]]),b(p,{class:"mt-1",message:r(o).errors.name},null,8,["message"])]),e("div",null,[t[22]||(t[22]=e("label",{for:"email",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-1"},"Email",-1)),m(e("input",{id:"email","onUpdate:modelValue":t[5]||(t[5]=a=>r(o).email=a),type:"email",class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-base text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},null,512),[[c,r(o).email]]),b(p,{class:"mt-1",message:r(o).errors.email},null,8,["message"])]),e("button",{type:"submit",class:"w-full rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-3 text-sm font-medium text-neutral-800 dark:text-neutral-200 transition hover:bg-neutral-300 dark:hover:bg-neutral-700 disabled:opacity-25",disabled:r(o).processing},d(r(o).processing?"Updating...":"Update Account"),9,ie)],32)]),e("div",be,[t[27]||(t[27]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Change Password ",-1)),e("form",{onSubmit:h(T,["prevent"]),class:"space-y-4"},[e("div",null,[t[24]||(t[24]=e("label",{for:"current_password",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-1"},"Current password",-1)),m(e("input",{id:"current_password","onUpdate:modelValue":t[6]||(t[6]=a=>r(s).current_password=a),type:"password",class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-base text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},null,512),[[c,r(s).current_password]]),b(p,{class:"mt-1",message:r(s).errors.current_password},null,8,["message"])]),e("div",null,[t[25]||(t[25]=e("label",{for:"password",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-1"},"New password",-1)),m(e("input",{id:"password","onUpdate:modelValue":t[7]||(t[7]=a=>r(s).password=a),type:"password",class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-base text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},null,512),[[c,r(s).password]]),b(p,{class:"mt-1",message:r(s).errors.password},null,8,["message"])]),e("div",null,[t[26]||(t[26]=e("label",{for:"password_confirmation",class:"block text-sm text-neutral-700 dark:text-neutral-300 mb-1"},"Confirm new password",-1)),m(e("input",{id:"password_confirmation","onUpdate:modelValue":t[8]||(t[8]=a=>r(s).password_confirmation=a),type:"password",class:"w-full rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-base text-neutral-800 dark:text-neutral-200 focus:border-blue-500 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-neutral-900"},null,512),[[c,r(s).password_confirmation]])]),e("button",{type:"submit",class:"w-full rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-3 text-sm font-medium text-neutral-800 dark:text-neutral-200 transition hover:bg-neutral-300 dark:hover:bg-neutral-700 disabled:opacity-25",disabled:r(s).processing},d(r(s).processing?"Updating...":"Update Password"),9,me)],32)]),e("div",ge,[t[30]||(t[30]=e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-4"}," Data ",-1)),e("div",ce,[e("a",{href:u.route("opml.index"),class:"flex w-full items-center gap-3 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-3 text-sm text-neutral-800 dark:text-neutral-200 transition hover:bg-neutral-300 dark:hover:bg-neutral-700"},[...t[28]||(t[28]=[e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1),S(" Import OPML ",-1)])],8,xe),e("button",{onClick:U,class:"flex w-full items-center gap-3 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-3 text-sm text-neutral-800 dark:text-neutral-200 transition hover:bg-neutral-300 dark:hover:bg-neutral-700"},[...t[29]||(t[29]=[e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12M12 16.5V3"})],-1),S(" Export OPML ",-1)])])])]),t[31]||(t[31]=e("div",{class:"rounded-xl bg-neutral-50 dark:bg-neutral-900 p-5"},[e("h2",{class:"text-base font-medium text-neutral-800 dark:text-neutral-200 mb-3"}," About "),e("div",{class:"space-y-2 text-sm text-neutral-500 dark:text-neutral-400"},[e("div",{class:"flex justify-between"},[e("span",null,"Version"),e("span",{class:"text-neutral-700 dark:text-neutral-300"},"1.0.0")]),e("div",{class:"flex justify-between"},[e("span",null,"Source code"),e("a",{href:"https://github.com/rreader/rreader",target:"_blank",rel:"noopener noreferrer",class:"text-blue-400 hover:text-blue-300"}," GitHub ")])])],-1)),e("button",{onClick:j,class:"w-full rounded-lg bg-red-50 dark:bg-red-900/50 border border-red-300 dark:border-red-800 px-4 py-3 text-sm font-medium text-red-700 dark:text-red-300 transition hover:bg-red-100 dark:hover:bg-red-900/70"}," Log Out ")])]),_:1}))}};export{he as default};
