import{i as ot,c as a,a as I,w as R,o as l,b as u,T as he,d as t,u as M,l as se,e as C,n as m,t as x,F as f,r as B,f as y,g as pe,h,j as fe,p as Ee,k as Ue,m as oe,q as De,s as it,v as dt,x as V,y as be,z as _}from"./app-DvS_tauS.js";import{u as ut,a as ct,_ as vt,A as xt,b as kt}from"./AppLayout-B3dyMpP7.js";import{_ as ft}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as bt}from"./useReadingState-2boZfEyC.js";import"./TextInput-CK7eqD8g.js";const gt={key:0,class:"fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-neutral-50 dark:bg-neutral-900 shadow-xl",role:"dialog","aria-label":"Navigation sidebar"},mt={class:"flex min-h-14 items-center justify-between border-b border-neutral-200 dark:border-neutral-800 px-4 pt-safe"},ht={class:"flex items-center gap-1"},pt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},wt={class:"px-3 pb-2"},yt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Ct={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Mt={class:"px-3 pt-3"},At={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},$t=["onClick","aria-expanded","title","aria-label"],Ft=["onClick"],Lt={class:"flex-1 truncate"},St={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},jt={key:0,class:"ml-4"},Rt=["onClick"],Tt=["src"],Bt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},It={class:"flex-1 truncate text-left"},zt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Et={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Ut={key:0,class:"mt-0.5"},Dt=["onClick"],Nt=["src"],Ht={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Vt={class:"flex-1 truncate text-left"},_t={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Xt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Ot={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},Pt={key:0,class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},Yt={class:"flex items-center gap-1"},qt=["title","aria-label"],Wt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},Kt={class:"px-3 pb-2"},Jt=["title"],Qt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Zt=["title"],Gt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},er={class:"px-3 pt-3"},tr={key:0,class:"flex items-center justify-between px-3 pb-2"},rr=["title"],lr={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},ar=["onClick","aria-expanded","title","aria-label"],nr=["onClick"],sr={class:"flex-1 truncate"},or={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},ir={key:0,class:"ml-4"},dr=["onClick"],ur=["src"],cr={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},vr={class:"flex-1 truncate text-left"},xr={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},kr={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},fr={key:0,class:"mt-0.5"},br=["onClick"],gr=["src"],mr={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},hr={class:"flex-1 truncate text-left"},pr={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},wr={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},yr={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},Cr=["title"],Mr={key:0},Ar={key:0},$r={__name:"SidebarDrawer",props:{open:Boolean,persistent:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},sidebar:Object,activeFeedId:Number,activeCategoryId:Number,activeFilter:String},emits:["close","collapse-toggle"],setup(s,{emit:k}){const X=ot("openAddFeedModal",null),A=s,L=k,j=h({});function O(p){j.value[p]=!j.value[p]}function T(p){return j.value[p]??!1}function $(p){A.persistent||L("close"),y.get(route("articles.index",p),{},{preserveState:!1,cacheFor:3e5})}function P(){return!A.activeFeedId&&!A.activeCategoryId&&!A.activeFilter}return(p,n)=>s.persistent?(l(),a("aside",{key:1,class:m(["flex flex-col border-r border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 transition-all duration-200",s.collapsed?"w-16":"w-72"]),"aria-label":"Navigation sidebar"},[t("div",{class:m(["flex h-14 items-center border-b border-neutral-200 dark:border-neutral-800 px-3",s.collapsed?"justify-center":"justify-between"])},[s.collapsed?u("",!0):(l(),a("h2",Pt,"RReader")),t("div",Yt,[s.collapsed?u("",!0):(l(),pe(M(se),{key:0,href:p.route("feeds.manage"),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors"},{default:R(()=>[...n[27]||(n[27]=[C(" Edit ",-1)])]),_:1},8,["href"])),t("button",{onClick:n[6]||(n[6]=i=>L("collapse-toggle")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:s.collapsed?"Expand sidebar":"Collapse sidebar","aria-label":s.collapsed?"Expand sidebar":"Collapse sidebar"},[(l(),a("svg",{class:m(["h-5 w-5 transition-transform duration-200",s.collapsed?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...n[28]||(n[28]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"},null,-1)])],2))],8,qt)])],2),t("nav",Wt,[t("div",Kt,[t("button",{onClick:n[7]||(n[7]=i=>$({filter:"today"})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",s.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"Today":void 0},[n[30]||(n[30]=t("svg",{class:"h-5 w-5 shrink-0 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),s.collapsed?u("",!0):(l(),a(f,{key:0},[n[29]||(n[29]=t("span",{class:"flex-1 text-left"},"Today",-1)),s.sidebar.todayCount>0?(l(),a("span",Qt,x(s.sidebar.todayCount),1)):u("",!0)],64))],10,Jt),t("button",{onClick:n[8]||(n[8]=i=>$({filter:"read_later"})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",s.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"Read Later":void 0},[n[32]||(n[32]=t("svg",{class:"h-5 w-5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),s.collapsed?u("",!0):(l(),a(f,{key:0},[n[31]||(n[31]=t("span",{class:"flex-1 text-left"},"Read Later",-1)),s.sidebar.readLaterCount>0?(l(),a("span",Gt,x(s.sidebar.readLaterCount),1)):u("",!0)],64))],10,Zt)]),n[39]||(n[39]=t("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),t("div",er,[s.collapsed?u("",!0):(l(),a("div",tr,[...n[33]||(n[33]=[t("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},"Feeds",-1)])])),t("button",{onClick:n[9]||(n[9]=i=>$({})),class:m(["flex w-full items-center gap-3 rounded-lg text-sm transition-colors cursor-pointer",[s.collapsed?"justify-center px-0 py-2.5":"px-3 py-2.5",P()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]]),title:s.collapsed?"All Feeds":void 0},[n[35]||(n[35]=t("svg",{class:"h-5 w-5 shrink-0 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),s.collapsed?u("",!0):(l(),a(f,{key:0},[n[34]||(n[34]=t("span",{class:"flex-1 text-left"},"All",-1)),s.sidebar.totalUnread>0?(l(),a("span",lr,x(s.sidebar.totalUnread),1)):u("",!0)],64))],10,rr),s.collapsed?u("",!0):(l(),a(f,{key:1},[(l(!0),a(f,null,B(s.sidebar.categories,i=>(l(),a("div",{key:i.id,class:"mt-0.5"},[t("div",{class:m(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",s.activeCategoryId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t("button",{onClick:b=>O(i.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":T(i.id),title:`Toggle ${i.name} feeds`,"aria-label":`Toggle ${i.name} feeds`},[(l(),a("svg",{class:m(["h-4 w-4 transition-transform duration-200",{"rotate-90":T(i.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...n[36]||(n[36]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,ar),t("button",{onClick:b=>$({category_id:i.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[t("span",sr,x(i.name),1),i.unread_count>0?(l(),a("span",or,x(i.unread_count),1)):u("",!0)],8,nr)],2),T(i.id)?(l(),a("div",ir,[(l(!0),a(f,null,B(i.feeds,b=>(l(),a("button",{key:b.id,onClick:Y=>$({feed_id:b.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",s.activeFeedId===b.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[b.favicon_url?(l(),a("img",{key:0,src:b.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,ur)):(l(),a("div",cr)),t("span",vr,x(b.title),1),b.disabled_at?(l(),a("svg",xr,[...n[37]||(n[37]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):b.unread_count>0?(l(),a("span",kr,x(b.unread_count),1)):u("",!0)],10,dr))),128))])):u("",!0)]))),128)),s.sidebar.uncategorizedFeeds.length>0?(l(),a("div",fr,[(l(!0),a(f,null,B(s.sidebar.uncategorizedFeeds,i=>(l(),a("button",{key:i.id,onClick:b=>$({feed_id:i.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFeedId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[i.favicon_url?(l(),a("img",{key:0,src:i.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,gr)):(l(),a("div",mr)),t("span",hr,x(i.title),1),i.disabled_at?(l(),a("svg",pr,[...n[38]||(n[38]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):i.unread_count>0?(l(),a("span",wr,x(i.unread_count),1)):u("",!0)],10,br))),128))])):u("",!0)],64))])]),t("div",yr,[t("button",{onClick:n[10]||(n[10]=i=>M(X)?M(X)():M(y).visit(p.route("articles.index"))),class:m(["flex w-full items-center rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer",s.collapsed?"justify-center p-2.5":"justify-center gap-2 px-4 py-2.5"]),title:s.collapsed?"Add Feed":void 0},[n[40]||(n[40]=t("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),s.collapsed?u("",!0):(l(),a("span",Mr,"Add Feed"))],10,Cr),I(M(se),{href:p.route("settings.index"),class:m(["flex w-full items-center rounded-lg bg-neutral-200 dark:bg-neutral-800 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",s.collapsed?"justify-center p-2.5":"justify-center gap-2 px-4 py-2.5"]),title:s.collapsed?"Settings":void 0},{default:R(()=>[n[41]||(n[41]=t("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),s.collapsed?u("",!0):(l(),a("span",Ar,"Settings"))]),_:1},8,["href","class","title"])])],2)):(l(),a(f,{key:0},[I(he,{name:"overlay"},{default:R(()=>[s.open?(l(),a("div",{key:0,class:"fixed inset-0 z-40 bg-black/60",onClick:n[0]||(n[0]=i=>L("close"))})):u("",!0)]),_:1}),I(he,{name:"drawer"},{default:R(()=>[s.open?(l(),a("div",gt,[t("div",mt,[n[13]||(n[13]=t("h2",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"RReader",-1)),t("div",ht,[I(M(se),{href:p.route("feeds.manage"),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors"},{default:R(()=>[...n[11]||(n[11]=[C(" Edit ",-1)])]),_:1},8,["href"]),t("button",{onClick:n[1]||(n[1]=i=>L("close")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Close sidebar","aria-label":"Close sidebar"},[...n[12]||(n[12]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("nav",pt,[t("div",wt,[t("button",{onClick:n[2]||(n[2]=i=>$({filter:"today"})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[14]||(n[14]=t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),n[15]||(n[15]=t("span",{class:"flex-1 text-left"},"Today",-1)),s.sidebar.todayCount>0?(l(),a("span",yt,x(s.sidebar.todayCount),1)):u("",!0)],2),t("button",{onClick:n[3]||(n[3]=i=>$({filter:"read_later"})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[16]||(n[16]=t("svg",{class:"h-5 w-5 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),n[17]||(n[17]=t("span",{class:"flex-1 text-left"},"Read Later",-1)),s.sidebar.readLaterCount>0?(l(),a("span",Ct,x(s.sidebar.readLaterCount),1)):u("",!0)],2)]),n[24]||(n[24]=t("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),t("div",Mt,[n[23]||(n[23]=t("div",{class:"flex items-center justify-between px-3 pb-2"},[t("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},"Feeds")],-1)),t("button",{onClick:n[4]||(n[4]=i=>$({})),class:m(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",P()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[n[18]||(n[18]=t("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),n[19]||(n[19]=t("span",{class:"flex-1 text-left"},"All",-1)),s.sidebar.totalUnread>0?(l(),a("span",At,x(s.sidebar.totalUnread),1)):u("",!0)],2),(l(!0),a(f,null,B(s.sidebar.categories,i=>(l(),a("div",{key:i.id,class:"mt-0.5"},[t("div",{class:m(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",s.activeCategoryId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t("button",{onClick:b=>O(i.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":T(i.id),title:`Toggle ${i.name} feeds`,"aria-label":`Toggle ${i.name} feeds`},[(l(),a("svg",{class:m(["h-4 w-4 transition-transform duration-200",{"rotate-90":T(i.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...n[20]||(n[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,$t),t("button",{onClick:b=>$({category_id:i.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[t("span",Lt,x(i.name),1),i.unread_count>0?(l(),a("span",St,x(i.unread_count),1)):u("",!0)],8,Ft)],2),T(i.id)?(l(),a("div",jt,[(l(!0),a(f,null,B(i.feeds,b=>(l(),a("button",{key:b.id,onClick:Y=>$({feed_id:b.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",s.activeFeedId===b.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[b.favicon_url?(l(),a("img",{key:0,src:b.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Tt)):(l(),a("div",Bt)),t("span",It,x(b.title),1),b.disabled_at?(l(),a("svg",zt,[...n[21]||(n[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):b.unread_count>0?(l(),a("span",Et,x(b.unread_count),1)):u("",!0)],10,Rt))),128))])):u("",!0)]))),128)),s.sidebar.uncategorizedFeeds.length>0?(l(),a("div",Ut,[(l(!0),a(f,null,B(s.sidebar.uncategorizedFeeds,i=>(l(),a("button",{key:i.id,onClick:b=>$({feed_id:i.id}),class:m(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",s.activeFeedId===i.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[i.favicon_url?(l(),a("img",{key:0,src:i.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Nt)):(l(),a("div",Ht)),t("span",Vt,x(i.title),1),i.disabled_at?(l(),a("svg",_t,[...n[22]||(n[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):i.unread_count>0?(l(),a("span",Xt,x(i.unread_count),1)):u("",!0)],10,Dt))),128))])):u("",!0)])]),t("div",Ot,[t("button",{onClick:n[5]||(n[5]=i=>M(X)?(L("close"),M(X)()):M(y).visit(p.route("articles.index"))),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"},[...n[25]||(n[25]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),C(" Add Feed ",-1)])]),I(M(se),{href:p.route("settings.index"),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-2.5 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors"},{default:R(()=>[...n[26]||(n[26]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),C(" Settings ",-1)])]),_:1},8,["href"])])])):u("",!0)]),_:1})],64))}},Ne=ft($r,[["__scopeId","data-v-fde3cd30"]]),Fr={key:0,class:"ml-2 inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Lr=["disabled","title","aria-label"],Sr={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},jr={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Rr=["disabled"],Tr=["disabled"],Br=["disabled"],Ir={class:"w-full max-w-sm rounded-xl bg-white dark:bg-neutral-900 p-6 shadow-xl"},zr={class:"mt-2 text-sm text-neutral-600 dark:text-neutral-400"},Er={class:"text-neutral-800 dark:text-neutral-200"},Ur={class:"mt-6 flex justify-end gap-3"},Dr=["disabled"],Nr={key:1,class:"flex",style:{height:"calc(100vh - 2.75rem)"}},Hr={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Vr={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},_r=["id","onClick"],Xr=["src"],Or=["onClick"],Pr={key:1,class:"hidden xl:block w-64 shrink-0 truncate text-xs text-neutral-500 dark:text-neutral-600"},Yr={class:"w-12 shrink-0 text-right text-xs text-neutral-500 dark:text-neutral-600"},qr=["id"],Wr={key:0,class:"flex items-center justify-center py-12"},Kr={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/95 dark:bg-neutral-900/80 backdrop-blur px-4 py-2"},Jr={class:"flex items-center justify-between gap-3"},Qr={class:"min-w-0 flex-1 truncate text-sm font-semibold text-neutral-900 dark:text-neutral-100"},Zr=["href"],Gr={class:"flex shrink-0 items-center gap-0.5"},el=["disabled","title","aria-label"],tl=["fill"],rl=["disabled"],ll={class:"mt-1 flex flex-wrap items-center gap-x-2 text-xs text-neutral-500 dark:text-neutral-500"},al=["href"],nl=["src"],sl={key:1},ol={class:"mx-auto max-w-3xl px-6 pt-6 pb-6"},il=["src","alt"],dl=["innerHTML"],ul={key:1,class:"py-12 text-center"},cl=["href"],vl={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},xl={key:1,class:"flex justify-center py-6"},kl=["disabled"],fl={key:2,class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"},bl={key:3,class:"pb-4 text-center text-xs text-neutral-500 dark:text-neutral-600"},gl={class:"flex flex-col items-center gap-1"},ml={key:0,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},hl={key:1,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},pl={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},wl={key:1},yl={class:"sticky top-14 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},Cl={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},Ml={key:0,class:"absolute inset-0 flex items-center bg-neutral-800 px-6"},Al={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},$l={key:1,class:"absolute inset-0 flex items-center justify-end bg-neutral-800 px-6"},Fl={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Ll=["onClick","onTouchstart","onTouchmove","onTouchend"],Sl={class:"min-w-0 flex-1"},jl={class:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-500"},Rl=["src"],Tl=["onClick"],Bl={class:"shrink-0"},Il={key:0,class:"mt-0.5 line-clamp-2 text-xs text-neutral-600 dark:text-neutral-500"},zl=["src","alt"],El={key:0,class:"flex justify-center py-6"},Ul=["disabled"],Dl={key:1,class:"py-8 text-center text-sm text-neutral-500 dark:text-neutral-600"},Nl={key:2,class:"pb-4 text-center text-xs text-neutral-500 dark:text-neutral-600"},Hl=50,ge=80,He=80,me=10,Yl={__name:"Index",props:{articles:Object,unreadCount:Number,filterTitle:String,activeFeedId:Number,activeCategoryId:Number,activeFilter:String,sidebar:Object,feedCount:Number,hasPendingFeeds:Boolean,hideReadArticles:Boolean,allArticlesRead:Boolean,showAll:Boolean},setup(s){const k=s,X=_(()=>k.activeFilter==="read_later"),{isOnline:A}=ut(),{enqueue:L}=ct(),{success:j}=kt(),{saveReadingState:O,clearReadingState:T,loadReadingState:$}=bt(),P=h(new Date);fe(()=>k.articles,()=>{P.value=new Date,T()}),Ee("toggleSidebar",()=>{Y.value=!0});const p=h(!1);Ee("openAddFeedModal",()=>{p.value=!0});const n=h(!1),i=h(!1),b=h(!1),Y=h(!1),D=h(k.hideReadArticles),ie=h(!1),q=h(typeof window<"u"&&window.innerWidth>=1024),Z=h(!1),v=h(null),F=h(null),G=h(!1),N=new Map,S=h(!1),ee=h(!1),te=h(!1),W=h(!1),ae=h(!1),K=h(null);Ue(async()=>{const r=localStorage.getItem("rreader-sidebar-collapsed");r!==null&&(Z.value=r==="true"),de(),window.addEventListener("resize",de),K.value?.addEventListener("scroll",Ae,{passive:!0});const e=await $(),o=window.location.pathname+window.location.search;if(e&&e.selectedArticleId&&!F.value&&e.url===o)try{const c=await ce(e.selectedArticleId);g.value.some(d=>d.id===e.selectedArticleId)||g.value.unshift({id:c.id,title:c.title,summary:c.summary,url:c.url,author:c.author,published_at:c.published_at,is_read:!0,is_read_later:c.is_read_later??!1,feed:c.feed}),F.value=e.selectedArticleId,v.value=c,S.value=c.is_read_later??!1,G.value=!1,await oe(),K.value&&e.listScrollTop&&(K.value.scrollTop=e.listScrollTop)}catch{T()}}),De(()=>{window.removeEventListener("resize",de),K.value?.removeEventListener("scroll",Ae),clearTimeout(xe)});function de(){q.value=window.innerWidth>=1024}function Ve(){Z.value=!Z.value,localStorage.setItem("rreader-sidebar-collapsed",String(Z.value))}const z=h(0),J=h(!1),E=h(!1);let we=0;function _e(r){window.scrollY>0||E.value||(we=r.touches[0].clientY,J.value=!0)}function Xe(r){if(!J.value||E.value)return;if(window.scrollY>0){J.value=!1,z.value=0;return}const e=r.touches[0].clientY-we;e>0&&(z.value=Math.min(e*.5,120))}function Oe(){J.value&&(J.value=!1,z.value>=ge&&!E.value?(E.value=!0,z.value=60,je()):z.value=0)}const g=h([...k.articles.data]),Q=h(k.articles.next_page_url);fe(()=>k.articles,r=>{g.value=[...r.data],Q.value=r.next_page_url,v.value=null,F.value=null,N.clear()}),fe(()=>k.hideReadArticles,r=>{D.value=r});const H=_(()=>g.value),ue=_(()=>F.value?H.value.findIndex(r=>r.id===F.value):-1),ye=_(()=>{const r={},e=new Date;e.setHours(0,0,0,0);const o=new Date(e);o.setDate(o.getDate()-1);for(const c of g.value){const d=new Date(c.published_at);d.setHours(0,0,0,0);let w;d.getTime()===e.getTime()?w="Today":d.getTime()===o.getTime()?w="Yesterday":w=d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r[w]||(r[w]=[]),r[w].push(c)}return r});function Ce(r){const e=new Date,o=new Date(r),c=Math.floor((e-o)/1e3);if(c<60)return"just now";const d=Math.floor(c/60);if(d<60)return`${d}m`;const w=Math.floor(d/60);if(w<24)return`${w}h`;const ze=Math.floor(w/24);return ze<7?`${ze}d`:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function ne(r){if(!r.is_read){const e=g.value.findIndex(o=>o.id===r.id);e!==-1&&(g.value[e]={...g.value[e],is_read:!0}),le(r.feed?.id,-1)}if(q.value){if(F.value===r.id){re();return}F.value=r.id,Pe(r.id)}else{const e={};k.activeFeedId&&(e.feed_id=k.activeFeedId),k.activeCategoryId&&(e.category_id=k.activeCategoryId),k.activeFilter&&(e.filter=k.activeFilter);const o=new URLSearchParams(e).toString();y.visit(route("articles.show",r.id)+(o?"?"+o:""))}}async function ce(r){const e=await fetch(route("articles.show",r),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw new Error("Failed to load article");const o=await e.json();if(N.size>=Hl){const c=N.keys().next().value;N.delete(c)}return N.set(r,o.article),o.article}function Me(r){const e=H.value.findIndex(o=>o.id===r);if(e!==-1)for(let o=1;o<=2;o++){const c=H.value[e+o];c&&!N.has(c.id)&&ce(c.id).catch(()=>{})}}async function Pe(r,{restoring:e=!1}={}){const o=N.get(r);if(o){if(v.value=o,S.value=o.is_read_later??!1,G.value=!1,await oe(),!e){const c=document.getElementById(`article-expanded-${r}`);c&&c.scrollIntoView({block:"start",behavior:"smooth"})}O(ve()),Me(r);return}G.value=!0;try{const c=await ce(r);if(v.value=c,S.value=c.is_read_later??!1,await oe(),!e){const d=document.getElementById(`article-expanded-${r}`);d&&d.scrollIntoView({block:"start",behavior:"smooth"})}O(ve()),Me(r)}catch(c){console.error("Failed to load article:",c),y.visit(route("articles.show",r))}finally{G.value=!1}}function re(){v.value=null,F.value=null,T()}function Ye(r){re(),y.get(route("articles.index",{feed_id:r}))}function ve(){return{url:window.location.pathname+window.location.search,selectedArticleId:F.value,listScrollTop:K.value?.scrollTop??0}}let xe=null;function Ae(){F.value&&(clearTimeout(xe),xe=setTimeout(()=>{O(ve())},500))}function $e(){if(!(!v.value||ee.value)){if(ee.value=!0,!A.value){S.value=!S.value,L("post",route("articles.toggleReadLater",v.value.id),{}),ee.value=!1,j(S.value?"Article saved":"Removed from Read Later");return}y.post(route("articles.toggleReadLater",v.value.id),{},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{S.value=!S.value,j(S.value?"Article saved":"Removed from Read Later")},onFinish:()=>{ee.value=!1}})}}function Fe(){if(!v.value||te.value)return;te.value=!0;const r=g.value.findIndex(e=>e.id===v.value.id);if(r!==-1&&(g.value[r]={...g.value[r],is_read:!1}),le(v.value.feed?.id,1),!A.value){L("post",route("articles.markAsUnread",v.value.id),{}),te.value=!1,j("Marked as unread");return}axios.post(route("articles.markAsUnread",v.value.id)).finally(()=>{te.value=!1,j("Marked as unread")})}const qe=_(()=>v.value?.image_url?!(v.value.content||v.value.summary||"").includes(v.value.image_url):!1),We=_(()=>v.value?new Date(v.value.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),Ke=_(()=>v.value?new Date(v.value.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"");function Le(r){if(q.value&&!(r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||r.target.isContentEditable))switch(r.key){case"ArrowRight":case"j":{r.preventDefault();const e=ue.value+1;e<H.value.length&&ne(H.value[e]);break}case"ArrowLeft":case"k":{r.preventDefault();const e=ue.value-1;e>=0&&ne(H.value[e]);break}case"s":{r.preventDefault(),v.value&&$e();break}case"m":{if(r.preventDefault(),v.value){const e=ue.value;Fe(),re();const o=H.value[e+1];o&&(F.value=o.id,Je(o.id))}break}case"Escape":{r.preventDefault(),re();break}}}function Je(r){oe(()=>{const e=document.getElementById(`article-row-${r}`);e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})})}Ue(()=>{window.addEventListener("keydown",Le)}),De(()=>{window.removeEventListener("keydown",Le)});function Qe(){b.value=!0;const r={};k.activeFeedId&&(r.feed_id=k.activeFeedId),k.activeCategoryId&&(r.category_id=k.activeCategoryId),k.activeFilter&&(r.filter=k.activeFilter);const e={};for(const o of g.value)!o.is_read&&o.feed?.id&&(e[o.feed.id]=(e[o.feed.id]||0)+1);for(const[o,c]of Object.entries(e))le(Number(o),-c);if(!A.value){g.value=g.value.map(o=>({...o,is_read:!0})),L("post",route("articles.markAllAsRead"),r),b.value=!1,j("All marked as read");return}y.post(route("articles.markAllAsRead"),r,{preserveScroll:!0,onFinish:()=>{b.value=!1,j("All marked as read")}})}function Se(){!Q.value||i.value||(i.value=!0,y.get(Q.value,{},{preserveState:!0,preserveScroll:!0,only:["articles"],onSuccess:r=>{const e=r.props.articles;g.value.push(...e.data),Q.value=e.next_page_url},onFinish:()=>{i.value=!1}}))}function je(){n.value=!0,y.reload({preserveScroll:!0,onFinish:()=>{n.value=!1,E.value=!1,z.value=0}})}async function Ze(){ie.value=!0;const r=!D.value;try{await fetch(route("settings.update"),{method:"PATCH",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1]||"")},body:JSON.stringify({hide_read_articles:r})}),D.value=r,j(r?"Hiding read articles on next refresh":"Showing all articles on next refresh")}finally{ie.value=!1}}function Ge(){ae.value=!0}function Re(){ae.value=!1}function et(){!k.activeFeedId||W.value||(W.value=!0,ae.value=!1,y.delete(route("feeds.destroy",k.activeFeedId),{onFinish:()=>{W.value=!1}}))}function le(r,e){if(!(!r||!k.sidebar||e===0)){k.sidebar.totalUnread=Math.max(0,(k.sidebar.totalUnread||0)+e);for(const o of k.sidebar.categories||[])for(const c of o.feeds||[])if(c.id===r){c.unread_count=Math.max(0,(c.unread_count||0)+e),o.unread_count=Math.max(0,(o.unread_count||0)+e);return}for(const o of k.sidebar.uncategorizedFeeds||[])if(o.id===r){o.unread_count=Math.max(0,(o.unread_count||0)+e);return}}}function Te(){const r={};k.activeFeedId&&(r.feed_id=k.activeFeedId),k.activeCategoryId&&(r.category_id=k.activeCategoryId),k.activeFilter&&(r.filter=k.activeFilter),r.show_all=1,y.get(route("articles.index"),r)}const U=h({});function tt(r,e){U.value[r]={startX:e.touches[0].clientX,startY:e.touches[0].clientY,currentX:0,swiping:!1,directionLocked:!1}}function rt(r,e){const o=U.value[r];if(!o)return;const c=e.touches[0].clientX-o.startX,d=e.touches[0].clientY-o.startY;if(!o.directionLocked&&(Math.abs(c)>me||Math.abs(d)>me)&&(o.directionLocked=!0,Math.abs(d)>Math.abs(c))){delete U.value[r];return}o.directionLocked&&Math.abs(c)>me&&(o.swiping=!0,o.currentX=Math.max(Math.min(c,200),-200))}function lt(r,e){const o=U.value[r];o&&(o.currentX<-He?at(e):o.currentX>He&&nt(e),delete U.value[r])}function at(r){const e=g.value.findIndex(o=>o.id===r.id);if(e!==-1)if(r.is_read){if(g.value[e]={...g.value[e],is_read:!1},le(r.feed?.id,1),!A.value){L("post",route("articles.markAsUnread",r.id),{});return}axios.post(route("articles.markAsUnread",r.id))}else{if(g.value[e]={...g.value[e],is_read:!0},le(r.feed?.id,-1),!A.value){L("post",route("articles.markAsRead"),{article_ids:[r.id]});return}axios.post(route("articles.markAsRead"),{article_ids:[r.id]})}}function nt(r){if(X.value){if(g.value=g.value.filter(e=>e.id!==r.id),!A.value){L("post",route("articles.toggleReadLater",r.id),{});return}y.post(route("articles.toggleReadLater",r.id),{},{preserveScroll:!0,preserveState:!0})}else{const e=g.value.findIndex(o=>o.id===r.id);if(e!==-1){const o=g.value[e].is_read_later;g.value[e]={...g.value[e],is_read_later:!o}}if(!A.value){L("post",route("articles.toggleReadLater",r.id),{});return}y.post(route("articles.toggleReadLater",r.id),{},{preserveScroll:!0,preserveState:!0})}}function st(r){const e=U.value[r];return!e||!e.swiping?{}:{transform:`translateX(${e.currentX}px)`,transition:"none"}}function ke(r){return U.value[r]?.swiping??!1}function Be(r){const e=U.value[r];return!e||!e.swiping?null:e.currentX>0?"right":"left"}function Ie(r){return r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}return(r,e)=>(l(),a(f,null,[I(M(it),{title:"Articles"}),I(xt,null,{"header-left":R(()=>[t("button",{onClick:e[0]||(e[0]=o=>Y.value=!0),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2 lg:hidden",title:"Open sidebar","aria-label":"Open sidebar"},[...e[8]||(e[8]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])]),title:R(()=>[C(x(s.filterTitle)+" ",1),s.unreadCount>0?(l(),a("span",Fr,x(s.unreadCount),1)):u("",!0)]),"header-right":R(()=>[t("button",{onClick:Ze,disabled:ie.value,class:m(["rounded-lg p-2 transition-colors cursor-pointer",D.value?"text-blue-500 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:D.value?"Showing unread only":"Showing all articles","aria-label":D.value?"Show all articles":"Hide read articles"},[D.value?(l(),a("svg",Sr,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1)])])):(l(),a("svg",jr,[...e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],10,Lr),t("button",{onClick:je,disabled:n.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Refresh feeds","aria-label":"Refresh feeds"},[(l(),a("svg",{class:m(["h-5 w-5 transition-transform",{"animate-spin":n.value}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],2))],8,Rr),s.unreadCount>0?(l(),a("button",{key:0,onClick:Qe,disabled:b.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Mark all as read","aria-label":"Mark all as read"},[...e[12]||(e[12]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Tr)):u("",!0),s.activeFeedId?(l(),a("button",{key:1,onClick:Ge,disabled:W.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-400 transition-colors cursor-pointer",title:"Unsubscribe from feed","aria-label":"Unsubscribe from feed"},[...e[13]||(e[13]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Br)):u("",!0)]),default:R(()=>[(l(),pe(dt,{to:"body"},[I(he,{name:"overlay"},{default:R(()=>[ae.value?(l(),a("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 px-4",onClick:V(Re,["self"])},[t("div",Ir,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"Unsubscribe from feed?",-1)),t("p",zr,[e[14]||(e[14]=C(" This will remove ",-1)),t("strong",Er,x(s.filterTitle),1),e[15]||(e[15]=C(" and all its articles. This cannot be undone. ",-1))]),t("div",Ur,[t("button",{onClick:Re,class:"rounded-lg px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors cursor-pointer"}," Cancel "),t("button",{onClick:et,disabled:W.value,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors disabled:opacity-50 cursor-pointer"},x(W.value?"Removing...":"Unsubscribe"),9,Dr)])])])):u("",!0)]),_:1})])),q.value?u("",!0):(l(),pe(Ne,{key:0,open:Y.value,persistent:!1,sidebar:s.sidebar,"active-feed-id":s.activeFeedId,"active-category-id":s.activeCategoryId,"active-filter":s.activeFilter,onClose:e[1]||(e[1]=o=>Y.value=!1)},null,8,["open","sidebar","active-feed-id","active-category-id","active-filter"])),q.value?(l(),a("div",Nr,[I(Ne,{open:!0,persistent:!0,collapsed:Z.value,sidebar:s.sidebar,"active-feed-id":s.activeFeedId,"active-category-id":s.activeCategoryId,"active-filter":s.activeFilter,onCollapseToggle:Ve},null,8,["collapsed","sidebar","active-feed-id","active-category-id","active-filter"]),t("div",{ref_key:"articleListEl",ref:K,class:"flex-1 flex flex-col overflow-y-auto"},[(l(!0),a(f,null,B(ye.value,(o,c)=>(l(),a(f,{key:c},[t("div",Hr,[t("h2",Vr,x(c),1)]),t("div",null,[(l(!0),a(f,null,B(o,d=>(l(),a(f,{key:d.id},[t("button",{id:`article-row-${d.id}`,onClick:w=>ne(d),class:m(["flex w-full items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5 text-left transition-colors cursor-pointer",[F.value===d.id?"bg-blue-50 dark:bg-neutral-900 border-l-2 border-l-blue-500":"hover:bg-neutral-50 dark:hover:bg-neutral-900/50"]])},[d.feed?.favicon_url?(l(),a("img",{key:0,src:d.feed.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Xr)):u("",!0),t("span",{class:"w-32 shrink-0 truncate text-xs text-neutral-600 dark:text-neutral-500 hover:underline cursor-pointer",onClick:V(w=>M(y).get(r.route("articles.index",{feed_id:d.feed?.id})),["stop"])},x(d.feed?.title),9,Or),t("h3",{class:m(["min-w-0 flex-1 truncate text-sm",d.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-medium"])},x(d.title),3),d.summary&&F.value!==d.id?(l(),a("span",Pr,x(d.summary),1)):u("",!0),t("span",Yr,x(Ce(d.published_at)),1)],10,_r),F.value===d.id?(l(),a("div",{key:0,id:`article-expanded-${d.id}`,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50"},[G.value&&!v.value?(l(),a("div",Wr,[...e[17]||(e[17]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):u("",!0),v.value?(l(),a(f,{key:1},[t("div",Kr,[t("div",Jr,[t("h2",Qr,[v.value.url?(l(),a("a",{key:0,href:v.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},x(v.value.title),9,Zr)):(l(),a(f,{key:1},[C(x(v.value.title),1)],64))]),t("div",Gr,[t("button",{onClick:V($e,["stop"]),disabled:ee.value,class:m(["rounded-lg p-1.5 transition-colors cursor-pointer",S.value?"text-blue-500 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300"]),title:S.value?"Remove from Read Later":"Save to Read Later","aria-label":S.value?"Remove from Read Later":"Save to Read Later"},[(l(),a("svg",{class:"h-4 w-4",fill:S.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,tl))],10,el),t("button",{onClick:V(Fe,["stop"]),disabled:te.value,class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Mark as unread","aria-label":"Mark as unread"},[...e[19]||(e[19]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])],8,rl),t("button",{onClick:V(re,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Close article","aria-label":"Close article"},[...e[20]||(e[20]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",ll,[v.value.feed?.id?(l(),a("a",{key:0,href:r.route("articles.index",{feed_id:v.value.feed.id}),class:"flex items-center gap-1.5 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",onClick:e[2]||(e[2]=V(w=>Ye(v.value.feed.id),["prevent"]))},[v.value.feed?.favicon_url?(l(),a("img",{key:0,src:v.value.feed.favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,nl)):u("",!0),t("span",null,x(v.value.feed?.title),1)],8,al)):u("",!0),v.value.author?(l(),a("span",sl,"· "+x(v.value.author),1)):u("",!0),t("span",null,"· "+x(We.value)+" at "+x(Ke.value),1)])]),t("article",ol,[qe.value?(l(),a("img",{key:0,src:v.value.image_url,alt:v.value.title,class:"mb-6 w-full max-h-80 object-cover rounded-lg",loading:"lazy"},null,8,il)):u("",!0),t("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-600 dark:prose-code:text-blue-300 prose-pre:bg-white dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:v.value.content||v.value.summary},null,8,dl),!v.value.content&&!v.value.summary?(l(),a("div",ul,[e[21]||(e[21]=t("p",{class:"text-neutral-500 dark:text-neutral-400"},"No article content available.",-1)),v.value.url?(l(),a("a",{key:0,href:v.value.url,target:"_blank",rel:"noopener noreferrer",class:"mt-4 inline-block rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ",8,cl)):u("",!0)])):u("",!0),e[22]||(e[22]=t("div",{class:"mt-8 border-t border-neutral-200 dark:border-neutral-800 pt-4 text-xs text-neutral-400 dark:text-neutral-600"},[t("span",{class:"font-medium text-neutral-500"},"Shortcuts:"),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"j"),C("/"),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"k"),C(" or "),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"←"),C("/"),t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"→"),C(" navigate")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"s"),C(" save")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"m"),C(" mark unread")]),t("span",{class:"ml-2"},[t("kbd",{class:"rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5"},"Esc"),C(" close")])],-1))])],64)):u("",!0)],8,qr)):u("",!0)],64))),128))])],64))),128)),g.value.length===0?(l(),a("div",vl,[s.activeFilter==="read_later"?(l(),a(f,{key:0},[e[23]||(e[23]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[24]||(e[24]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No saved articles",-1)),e[25]||(e[25]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Save articles from your feeds to read later.",-1))],64)):s.feedCount===0?(l(),a(f,{key:1},[e[26]||(e[26]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[27]||(e[27]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles yet",-1)),e[28]||(e[28]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Subscribe to feeds to start seeing articles here.",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=o=>p.value=!0),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):s.hideReadArticles&&s.allArticlesRead&&!s.showAll?(l(),a(f,{key:2},[e[29]||(e[29]=t("svg",{class:"h-16 w-16 text-green-400 dark:text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[30]||(e[30]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"All caught up!",-1)),e[31]||(e[31]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"You've read everything in this view.",-1)),t("button",{onClick:Te,class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Show all articles ")],64)):s.hasPendingFeeds?(l(),a(f,{key:3},[e[32]||(e[32]=t("svg",{class:"h-10 w-10 animate-spin text-neutral-400 dark:text-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[33]||(e[33]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"Fetching your feeds...",-1)),e[34]||(e[34]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Articles will appear here shortly as your feeds are being updated.",-1))],64)):s.activeFeedId?(l(),a(f,{key:4},[e[35]||(e[35]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[36]||(e[36]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles in this feed",-1)),e[37]||(e[37]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"This feed doesn't have any articles yet.",-1))],64)):(l(),a(f,{key:5},[e[38]||(e[38]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[39]||(e[39]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles yet",-1)),e[40]||(e[40]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Subscribe to feeds to start seeing articles here.",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=o=>p.value=!0),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):u("",!0),Q.value?(l(),a("div",xl,[t("button",{onClick:Se,disabled:i.value,class:"rounded-lg bg-neutral-100 dark:bg-neutral-800 px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50"},x(i.value?"Loading...":"Load more articles"),9,kl)])):g.value.length>0?(l(),a("div",fl," You're all caught up ")):u("",!0),M(A)?u("",!0):(l(),a("div",bl," Last updated at "+x(Ie(P.value)),1))],512)])):u("",!0),q.value?u("",!0):(l(),a(f,{key:2},[t("div",{class:m(["flex items-center justify-center overflow-hidden transition-all duration-200",{"transition-none":J.value}]),style:be({height:z.value+"px"})},[t("div",gl,[(l(),a("svg",{class:m(["h-5 w-5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200",{"animate-spin":E.value}]),style:be(E.value?{}:{transform:`rotate(${Math.min(z.value/ge,1)*360}deg)`}),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[41]||(e[41]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],6)),!E.value&&z.value>=ge?(l(),a("span",ml,"Release to refresh")):E.value?(l(),a("span",hl,"Refreshing...")):u("",!0)])],6),t("div",{onTouchstartPassive:_e,onTouchmovePassive:Xe,onTouchend:Oe},[g.value.length===0?(l(),a("div",pl,[s.activeFilter==="read_later"?(l(),a(f,{key:0},[e[42]||(e[42]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[43]||(e[43]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No saved articles",-1)),e[44]||(e[44]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Save articles from your feeds to read later.",-1))],64)):s.feedCount===0?(l(),a(f,{key:1},[e[45]||(e[45]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[46]||(e[46]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles yet",-1)),e[47]||(e[47]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Subscribe to feeds to start seeing articles here.",-1)),t("button",{type:"button",onClick:e[5]||(e[5]=o=>p.value=!0),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):s.hideReadArticles&&s.allArticlesRead&&!s.showAll?(l(),a(f,{key:2},[e[48]||(e[48]=t("svg",{class:"h-16 w-16 text-green-400 dark:text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[49]||(e[49]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"All caught up!",-1)),e[50]||(e[50]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"You've read everything in this view.",-1)),t("button",{onClick:Te,class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Show all articles ")],64)):s.hasPendingFeeds?(l(),a(f,{key:3},[e[51]||(e[51]=t("svg",{class:"h-10 w-10 animate-spin text-neutral-400 dark:text-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[52]||(e[52]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"Fetching your feeds...",-1)),e[53]||(e[53]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Articles will appear here shortly as your feeds are being updated.",-1))],64)):s.activeFeedId?(l(),a(f,{key:4},[e[54]||(e[54]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[55]||(e[55]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles in this feed",-1)),e[56]||(e[56]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"This feed doesn't have any articles yet.",-1))],64)):(l(),a(f,{key:5},[e[57]||(e[57]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[58]||(e[58]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"},"No articles yet",-1)),e[59]||(e[59]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"},"Subscribe to feeds to start seeing articles here.",-1)),t("button",{type:"button",onClick:e[6]||(e[6]=o=>p.value=!0),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):(l(),a("div",wl,[t("div",null,[(l(!0),a(f,null,B(ye.value,(o,c)=>(l(),a(f,{key:c},[t("div",yl,[t("h2",Cl,x(c),1)]),t("div",null,[(l(!0),a(f,null,B(o,d=>(l(),a("div",{key:d.id,class:"relative overflow-hidden border-b border-neutral-200/50 dark:border-neutral-800/50"},[ke(d.id)&&Be(d.id)==="right"?(l(),a("div",Ml,[e[60]||(e[60]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t("span",Al,x(d.is_read_later?"Saved":"Read Later"),1)])):u("",!0),ke(d.id)&&Be(d.id)==="left"?(l(),a("div",$l,[e[61]||(e[61]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),t("span",Fl,x(d.is_read?"Mark as Unread":"Mark as Read"),1)])):u("",!0),t("button",{onClick:w=>!ke(d.id)&&ne(d),onTouchstart:w=>tt(d.id,w),onTouchmove:w=>rt(d.id,w),onTouchend:w=>lt(d.id,d),class:"relative flex w-full gap-3 bg-white dark:bg-neutral-950 px-4 py-3 text-left transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 active:bg-neutral-100 dark:active:bg-neutral-800/50",style:be(st(d.id))},[t("div",Sl,[t("div",jl,[d.feed?.favicon_url?(l(),a("img",{key:0,src:d.feed.favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,Rl)):u("",!0),t("span",{class:"truncate hover:underline",onClick:V(w=>M(y).get(r.route("articles.index",{feed_id:d.feed?.id})),["stop"])},x(d.feed?.title),9,Tl),e[62]||(e[62]=t("span",null,"·",-1)),t("span",Bl,x(Ce(d.published_at)),1)]),t("h3",{class:m(["mt-1 text-sm leading-snug",d.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-semibold"])},x(d.title),3),d.summary?(l(),a("p",Il,x(d.summary),1)):u("",!0)]),d.image_url?(l(),a("img",{key:0,src:d.image_url,class:"h-16 w-16 shrink-0 rounded-lg object-cover",alt:d.title,loading:"lazy"},null,8,zl)):u("",!0)],44,Ll)]))),128))])],64))),128))]),Q.value?(l(),a("div",El,[t("button",{onClick:Se,disabled:i.value,class:"rounded-lg bg-neutral-100 dark:bg-neutral-800 px-4 py-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50"},x(i.value?"Loading...":"Load more articles"),9,Ul)])):(l(),a("div",Dl," You're all caught up ")),M(A)?u("",!0):(l(),a("div",Nl," Last updated at "+x(Ie(P.value)),1))]))],32)],64)),I(vt,{show:p.value,onClose:e[7]||(e[7]=o=>p.value=!1)},null,8,["show"])]),_:1})],64))}};export{Yl as default};
