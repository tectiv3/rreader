import{x as je,z as Le,S as Te,w as O,U as De,a as p,o as Re,b as Be,n as W,g as n,h as t,u as c,l as K,t as d,k as u,j as A,F as k,p as N,D as Z,E as x,c as a,i as S,V as ze}from"./app-24h4heyw.js";import{u as Ve}from"./useArticleStore-B-0Fvbiv.js";import{u as Ee}from"./useSidebarStore-BuOJe4zB.js";import{u as Fe,a as $e}from"./useAddFeedModal-Bh55aQ3a.js";import{u as Ne}from"./useToast-C_tm5kR_.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ue={class:"sticky top-0 z-30 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pt-safe"},qe={class:"flex h-11 items-center justify-between px-4"},He={class:"flex items-center gap-2 min-w-0"},Xe={class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 truncate"},Pe={key:0,class:"ml-1 inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Ye={class:"flex items-center gap-1 shrink-0"},Oe=["disabled"],We=["disabled"],Ke={key:0,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50 px-4 py-3"},Ze={class:"flex items-start gap-3"},Ge=["src"],Je={class:"min-w-0 flex-1"},Qe={class:"text-sm font-semibold text-neutral-900 dark:text-neutral-100"},et={key:0,class:"mt-1 text-xs text-neutral-600 dark:text-neutral-400 line-clamp-3"},tt=["href"],rt={key:1,class:"flex items-center justify-center py-20"},nt={key:2,class:"flex",style:{height:"calc(100vh - 2.75rem - env(safe-area-inset-top, 0px))"}},at={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},lt={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},ot=["id","onClick"],st=["src"],it=["onClick"],ut={key:1,class:"hidden xl:block w-64 shrink-0 truncate text-xs text-neutral-500 dark:text-neutral-600"},dt={class:"w-12 shrink-0 text-right text-xs text-neutral-500 dark:text-neutral-600"},ct=["onClick"],vt=["id"],kt={key:0,class:"flex items-center justify-center py-12"},ft={class:"sticky top-0 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/95 dark:bg-neutral-900/80 backdrop-blur px-4 py-2"},pt={class:"flex items-center justify-between gap-3"},xt={class:"min-w-0 flex-1 truncate text-sm font-semibold text-neutral-900 dark:text-neutral-100"},mt=["href"],ht={class:"flex shrink-0 items-center gap-0.5"},bt=["title"],gt=["fill"],yt={class:"mt-1 flex flex-wrap items-center gap-x-2 text-xs text-neutral-500 dark:text-neutral-500"},wt=["src"],_t={key:1},Mt={class:"mx-auto max-w-3xl px-6 pt-6 pb-6"},Ct=["src","alt"],At=["innerHTML"],St={key:1,class:"py-12 text-center"},jt=["href"],Lt={key:0,class:"flex justify-center py-6"},Tt={key:1,class:"py-6 text-center text-sm text-neutral-500 dark:text-neutral-600"},Dt={key:1,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},Rt={class:"flex flex-col items-center gap-1"},Bt={key:0,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},zt={key:1,class:"text-[10px] text-neutral-600 dark:text-neutral-500"},Vt={key:0,class:"flex flex-col items-center justify-center px-4 py-20 text-center"},Et={key:1},Ft={class:"sticky top-11 z-10 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 px-4 py-2 backdrop-blur"},$t={class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},Nt={key:0,class:"absolute inset-0 flex items-center bg-neutral-800 px-6"},It={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Ut={key:1,class:"absolute inset-0 flex items-center justify-end bg-neutral-800 px-6"},qt={class:"ml-2 text-sm font-medium text-white uppercase tracking-wide"},Ht=["onClick","onTouchstart","onTouchmove","onTouchend"],Xt={class:"min-w-0 flex-1"},Pt={class:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-500"},Yt=["src"],Ot=["onClick"],Wt={class:"shrink-0"},Kt={key:0,class:"mt-0.5 line-clamp-2 text-xs text-neutral-600 dark:text-neutral-500"},Zt=["src","alt"],Gt={key:0,class:"flex justify-center py-6"},Jt={key:1,class:"py-6 text-center text-sm text-neutral-500 dark:text-neutral-600"},G=80,ke=80,J=10,Qt=Object.assign({name:"ArticleListView"},{__name:"ArticleListView",setup(er){const s=Ve(),m=Ee(),I=je(),h=Le();Fe();const{success:U}=Ne(),{openAddFeedModal:V}=$e(),fe=Te("toggleSidebar");function Q(){const r=h.query;return r.filter?{type:r.filter}:r.feed_id?{type:"feed",feedId:Number(r.feed_id)}:r.category_id?{type:"category",categoryId:Number(r.category_id)}:{type:"all"}}s.fetchArticles(Q()),O(()=>s.filterTitle,r=>De(r),{immediate:!0}),O(()=>h.query,()=>{h.name==="articles.index"&&(L(),R.value=!1,s.fetchArticles(Q()))},{deep:!0});const _=x(()=>h.query.feed_id?Number(h.query.feed_id):null),ee=x(()=>h.query.category_id?Number(h.query.category_id):null),D=x(()=>h.query.filter||null),te=x(()=>{if(D.value==="read_later")return m.readLaterCount;if(D.value==="today")return m.todayCount;if(D.value==="recently_read")return 0;if(_.value){for(const e of m.categories){const i=e.feeds.find(f=>f.id===_.value);if(i)return i.unread_count||0}return m.uncategorizedFeeds.find(e=>e.id===_.value)?.unread_count||0}return ee.value?m.categories.find(e=>e.id===ee.value)?.unread_count||0:m.totalUnread}),q=x(()=>!!_.value),b=x(()=>{if(!_.value)return null;for(const r of m.categories){const e=r.feeds.find(i=>i.id===_.value);if(e)return e}return m.uncategorizedFeeds.find(r=>r.id===_.value)||null}),R=p(!1),re=x(()=>{let r=m.uncategorizedFeeds.length;for(const e of m.categories)r+=e.feeds?.length||0;return r}),j=x(()=>{const r={},e=new Date;e.setHours(0,0,0,0);const i=new Date(e);i.setDate(i.getDate()-1);for(const f of s.articles){const l=new Date(f.published_at);l.setHours(0,0,0,0);let v;l.getTime()===e.getTime()?v="Today":l.getTime()===i.getTime()?v="Yesterday":v=l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),r[v]||(r[v]=[]),r[v].push(f)}return r});function ne(r){const e=new Date,i=new Date(r),f=Math.floor((e-i)/1e3);if(f<60)return"just now";const l=Math.floor(f/60);if(l<60)return`${l}m`;const v=Math.floor(l/60);if(v<24)return`${v}h`;const ve=Math.floor(v/24);return ve<7?`${ve}d`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const E=p(typeof window<"u"&&window.innerWidth>=1024),g=p(null),o=p(null),F=p(!1),M=p(!1),pe=p(null),B=p(null);function ae(){E.value=window.innerWidth>=1024}let z=null;Re(()=>{window.addEventListener("resize",ae),window.addEventListener("keydown",ie),z=new IntersectionObserver(r=>{r[0].isIntersecting&&s.hasMore&&!s.loadingMore&&s.loadMore()},{rootMargin:"200px"}),B.value&&z.observe(B.value)}),Be(()=>{window.removeEventListener("resize",ae),window.removeEventListener("keydown",ie),z?.disconnect()}),O(B,r=>{z?.disconnect(),r&&z?.observe(r)});function $(r){if(r.is_read||s.markRead(r.id),E.value){if(g.value===r.id){L();return}g.value=r.id,xe(r.id)}else I.push({name:"articles.show",params:{id:r.id}})}async function xe(r){const e=s.getContent(r);if(e){o.value=e,M.value=e.is_read_later??!1,F.value=!1,await W(),le(r),s.prefetchAdjacent(r);return}F.value=!0;try{const i=await s.fetchContent(r);o.value=i,M.value=i.is_read_later??!1,await W(),le(r),s.prefetchAdjacent(r)}catch{I.push({name:"articles.show",params:{id:r}})}finally{F.value=!1}}function le(r){const e=document.getElementById(`article-expanded-${r}`);e&&e.scrollIntoView({block:"start",behavior:"smooth"})}function L(){o.value=null,g.value=null}function H(r){L(),I.push({name:"articles.index",query:{feed_id:r}})}function oe(){o.value&&(s.toggleReadLater(o.value.id),M.value=!M.value,U(M.value?"Article saved":"Removed from Read Later"))}function se(){o.value&&(s.markUnread(o.value.id),U("Marked as unread"))}const me=x(()=>o.value?.image_url?!(o.value.content||o.value.summary||"").includes(o.value.image_url):!1),he=x(()=>o.value?new Date(o.value.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):""),be=x(()=>o.value?new Date(o.value.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""),X=x(()=>g.value?s.articles.findIndex(r=>r.id===g.value):-1);function ie(r){if(E.value&&!(r.target.tagName==="INPUT"||r.target.tagName==="TEXTAREA"||r.target.isContentEditable)&&h.name==="articles.index")switch(r.key){case"ArrowRight":case"j":{r.preventDefault();const e=X.value+1;e<s.articles.length&&$(s.articles[e]);break}case"ArrowLeft":case"k":{r.preventDefault();const e=X.value-1;e>=0&&$(s.articles[e]);break}case"s":{r.preventDefault(),o.value&&oe();break}case"m":{if(r.preventDefault(),o.value){const e=X.value;se(),L();const i=s.articles[e+1];i&&(g.value=i.id,W(()=>{document.getElementById(`article-row-${i.id}`)?.scrollIntoView({block:"nearest",behavior:"smooth"})}))}break}case"Escape":{r.preventDefault(),L();break}}}const P=p(!1);function ge(){P.value=!0,s.markAllRead(_.value),P.value=!1,U("All marked as read")}async function ue(){await Promise.all([s.forceRefresh(),m.fetchSidebar()])}const y=p(0),T=p(!1),w=p(!1);let de=0;function ye(r){window.scrollY>0||w.value||(de=r.touches[0].clientY,T.value=!0)}function we(r){if(!T.value||w.value)return;if(window.scrollY>0){T.value=!1,y.value=0;return}const e=r.touches[0].clientY-de;e>0&&(y.value=Math.min(e*.5,120))}async function _e(){T.value&&(T.value=!1,y.value>=G&&!w.value&&(w.value=!0,y.value=60,await ue(),w.value=!1),y.value=0)}const C=p({});function Me(r,e){C.value[r]={startX:e.touches[0].clientX,startY:e.touches[0].clientY,currentX:0,swiping:!1,directionLocked:!1}}function Ce(r,e){const i=C.value[r];if(!i)return;const f=e.touches[0].clientX-i.startX,l=e.touches[0].clientY-i.startY;if(!i.directionLocked&&(Math.abs(f)>J||Math.abs(l)>J)&&(i.directionLocked=!0,Math.abs(l)>Math.abs(f))){delete C.value[r];return}i.directionLocked&&Math.abs(f)>J&&(i.swiping=!0,i.currentX=Math.max(Math.min(f,200),-200))}function Ae(r,e){const i=C.value[r];i&&(i.currentX<-ke?e.is_read?s.markUnread(e.id):s.markRead(e.id):i.currentX>ke&&s.toggleReadLater(e.id),delete C.value[r])}function Se(r){const e=C.value[r];return!e||!e.swiping?{}:{transform:`translateX(${e.currentX}px)`,transition:"none"}}function Y(r){return C.value[r]?.swiping??!1}function ce(r){const e=C.value[r];return!e||!e.swiping?null:e.currentX>0?"right":"left"}return(r,e)=>(a(),n(k,null,[t("header",Ue,[t("div",qe,[t("div",He,[t("button",{onClick:e[0]||(e[0]=i=>c(fe)()),class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2",title:"Open sidebar","aria-label":"Open sidebar"},[...e[7]||(e[7]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])]),t("h1",Xe,[K(d(c(s).filterTitle)+" ",1),te.value>0?(a(),n("span",Pe,d(te.value),1)):u("",!0)])]),t("div",Ye,[q.value?(a(),n("button",{key:0,onClick:e[1]||(e[1]=i=>R.value=!R.value),class:A(["rounded-lg p-2 transition-colors cursor-pointer",R.value?"text-blue-500 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"Feed info","aria-label":"Feed info"},[...e[8]||(e[8]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)])],2)):u("",!0),t("button",{onClick:ue,disabled:c(s).loading,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Refresh feeds","aria-label":"Refresh feeds"},[(a(),n("svg",{class:A(["h-5 w-5 transition-transform",{"animate-spin":c(s).loading}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],2))],8,Oe),c(s).unreadCount>0?(a(),n("button",{key:1,onClick:ge,disabled:P.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors cursor-pointer",title:"Mark all as read","aria-label":"Mark all as read"},[...e[10]||(e[10]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,We)):u("",!0)])])]),R.value&&b.value?(a(),n("div",Ke,[t("div",Ze,[b.value.favicon_url?(a(),n("img",{key:0,src:b.value.favicon_url,class:"h-8 w-8 shrink-0 rounded-md mt-0.5",alt:""},null,8,Ge)):u("",!0),t("div",Je,[t("h2",Qe,d(b.value.title),1),b.value.description?(a(),n("p",et,d(b.value.description),1)):u("",!0),b.value.site_url?(a(),n("a",{key:1,href:b.value.site_url,target:"_blank",rel:"noopener noreferrer",class:"mt-1.5 inline-flex items-center gap-1 text-xs text-blue-500 dark:text-blue-400 hover:underline"},[e[11]||(e[11]=t("svg",{class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1)),K(" "+d(b.value.site_url.replace(/^https?:\/\//,"").replace(/\/$/,"")),1)],8,tt)):u("",!0)])])])):u("",!0),c(s).loading&&c(s).articles.length===0?(a(),n("div",rt,[...e[12]||(e[12]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):E.value?(a(),n("div",nt,[t("div",{ref_key:"articleListEl",ref:pe,class:"flex-1 flex flex-col overflow-y-auto pr-2"},[c(s).articles.length>0?(a(),n(k,{key:0},[(a(!0),n(k,null,N(j.value,(i,f)=>(a(),n(k,{key:f},[t("div",at,[t("h2",lt,d(f),1)]),t("div",null,[(a(!0),n(k,null,N(i,l=>(a(),n(k,{key:l.id},[t("button",{id:`article-row-${l.id}`,onClick:v=>$(l),class:A(["group/row flex w-full items-center gap-3 border-b border-neutral-200/50 dark:border-neutral-800/50 px-4 py-2.5 text-left transition-colors cursor-pointer",[g.value===l.id?"bg-blue-50 dark:bg-neutral-900 border-l-2 border-l-blue-500":"hover:bg-neutral-50 dark:hover:bg-neutral-900/50"]])},[q.value?u("",!0):(a(),n(k,{key:0},[l.feed_favicon_url?(a(),n("img",{key:0,src:l.feed_favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,st)):u("",!0),t("span",{class:"w-32 shrink-0 truncate text-xs text-neutral-600 dark:text-neutral-500 hover:underline cursor-pointer",onClick:S(v=>H(l.feed_id),["stop"])},d(l.feed_title),9,it)],64)),t("h3",{class:A(["min-w-0 flex-1 truncate text-sm",l.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-medium"])},d(l.title),3),l.summary&&g.value!==l.id?(a(),n("span",ut,d(l.summary),1)):u("",!0),t("span",dt,d(ne(l.published_at)),1),t("span",{onClick:S(v=>c(s).dismissArticle(l.id),["stop"]),class:"w-6 shrink-0 flex items-center justify-center opacity-0 group-hover/row:opacity-100 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-opacity cursor-pointer",title:"Dismiss — mark read & hide"},[...e[13]||(e[13]=[t("svg",{class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ct)],10,ot),g.value===l.id?(a(),n("div",{key:0,id:`article-expanded-${l.id}`,class:"border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50"},[F.value&&!o.value?(a(),n("div",kt,[...e[14]||(e[14]=[t("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):u("",!0),o.value?(a(),n(k,{key:1},[t("div",ft,[t("div",pt,[t("h2",xt,[o.value.url?(a(),n("a",{key:0,href:o.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},d(o.value.title),9,mt)):(a(),n(k,{key:1},[K(d(o.value.title),1)],64))]),t("div",ht,[t("button",{onClick:S(oe,["stop"]),class:A(["rounded-lg p-1.5 transition-colors cursor-pointer",M.value?"text-blue-500 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300"]),title:M.value?"Remove from Read Later":"Save to Read Later"},[(a(),n("svg",{class:"h-4 w-4",fill:M.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,gt))],10,bt),t("button",{onClick:S(se,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Mark as unread"},[...e[16]||(e[16]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])]),t("button",{onClick:S(L,["stop"]),class:"rounded-lg p-1.5 text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors cursor-pointer",title:"Close article"},[...e[17]||(e[17]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",yt,[o.value.feed?.id||o.value.feed_id?(a(),n("a",{key:0,href:"#",class:"flex items-center gap-1.5 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",onClick:e[2]||(e[2]=S(v=>H(o.value.feed?.id||o.value.feed_id),["prevent"]))},[o.value.feed?.favicon_url||o.value.feed_favicon_url?(a(),n("img",{key:0,src:o.value.feed?.favicon_url||o.value.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,wt)):u("",!0),t("span",null,d(o.value.feed?.title||o.value.feed_title),1)])):u("",!0),o.value.author?(a(),n("span",_t,"· "+d(o.value.author),1)):u("",!0),t("span",null,"· "+d(he.value)+" at "+d(be.value),1)])]),t("article",Mt,[me.value?(a(),n("img",{key:0,src:o.value.image_url,alt:o.value.title,class:"mb-6 w-full max-h-80 object-cover rounded-lg",loading:"lazy"},null,8,Ct)):u("",!0),t("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-600 dark:prose-code:text-blue-300 prose-pre:bg-white dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:o.value.content||o.value.summary},null,8,At),!o.value.content&&!o.value.summary?(a(),n("div",St,[e[18]||(e[18]=t("p",{class:"text-neutral-500 dark:text-neutral-400"}," No article content available. ",-1)),o.value.url?(a(),n("a",{key:0,href:o.value.url,target:"_blank",rel:"noopener noreferrer",class:"mt-4 inline-block rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ",8,jt)):u("",!0)])):u("",!0),e[19]||(e[19]=ze('<div class="mt-8 border-t border-neutral-200 dark:border-neutral-800 pt-4 text-xs text-neutral-400 dark:text-neutral-600" data-v-9cdc3277><span class="font-medium text-neutral-500" data-v-9cdc3277>Shortcuts:</span><span class="ml-2" data-v-9cdc3277><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>j</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>k</kbd> or <kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>←</kbd>/<kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>→</kbd> navigate</span><span class="ml-2" data-v-9cdc3277><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>s</kbd> save</span><span class="ml-2" data-v-9cdc3277><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>m</kbd> mark unread</span><span class="ml-2" data-v-9cdc3277><kbd class="rounded bg-neutral-200 dark:bg-neutral-800 px-1.5 py-0.5" data-v-9cdc3277>Esc</kbd> close</span></div>',1))])],64)):u("",!0)],8,vt)):u("",!0)],64))),128))])],64))),128)),t("div",{ref_key:"loadMoreSentinel",ref:B,class:"h-px"},null,512),c(s).loadingMore?(a(),n("div",Lt,[...e[20]||(e[20]=[t("svg",{class:"h-6 w-6 animate-spin text-neutral-400",viewBox:"0 0 24 24",fill:"none"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):u("",!0),!c(s).hasMore&&c(s).loaded&&j.value&&Object.keys(j.value).length>0?(a(),n("div",Tt," No more articles ")):u("",!0)],64)):(a(),n("div",Dt,[D.value==="read_later"?(a(),n(k,{key:0},[e[21]||(e[21]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[22]||(e[22]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[23]||(e[23]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):re.value===0?(a(),n(k,{key:1},[e[24]||(e[24]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[25]||(e[25]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[26]||(e[26]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=i=>c(V)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(a(),n(k,{key:2},[e[27]||(e[27]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[28]||(e[28]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[29]||(e[29]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=i=>c(V)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))]))],512)])):(a(),n(k,{key:3},[t("div",{class:A(["flex items-center justify-center overflow-hidden transition-all duration-200",{"transition-none":T.value}]),style:Z({height:y.value+"px"})},[t("div",Rt,[(a(),n("svg",{class:A(["h-5 w-5 text-neutral-500 dark:text-neutral-400 transition-transform duration-200",{"animate-spin":w.value}]),style:Z(w.value?{}:{transform:`rotate(${Math.min(y.value/G,1)*360}deg)`}),fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.182"},null,-1)])],6)),!w.value&&y.value>=G?(a(),n("span",Bt,"Release to refresh")):w.value?(a(),n("span",zt,"Refreshing...")):u("",!0)])],6),t("div",{onTouchstartPassive:ye,onTouchmovePassive:we,onTouchend:_e},[c(s).articles.length===0&&!c(s).loading?(a(),n("div",Vt,[D.value==="read_later"?(a(),n(k,{key:0},[e[31]||(e[31]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[32]||(e[32]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No saved articles ",-1)),e[33]||(e[33]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Save articles from your feeds to read later. ",-1))],64)):re.value===0?(a(),n(k,{key:1},[e[34]||(e[34]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[35]||(e[35]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[36]||(e[36]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[5]||(e[5]=i=>c(V)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64)):(a(),n(k,{key:2},[e[37]||(e[37]=t("svg",{class:"h-16 w-16 text-neutral-300 dark:text-neutral-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})],-1)),e[38]||(e[38]=t("h3",{class:"mt-4 text-lg font-medium text-neutral-700 dark:text-neutral-300"}," No articles yet ",-1)),e[39]||(e[39]=t("p",{class:"mt-2 text-sm text-neutral-600 dark:text-neutral-500"}," Subscribe to feeds to start seeing articles here. ",-1)),t("button",{type:"button",onClick:e[6]||(e[6]=i=>c(V)()),class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"}," Add a Feed ")],64))])):c(s).articles.length>0?(a(),n("div",Et,[(a(!0),n(k,null,N(j.value,(i,f)=>(a(),n(k,{key:f},[t("div",Ft,[t("h2",$t,d(f),1)]),t("div",null,[(a(!0),n(k,null,N(i,l=>(a(),n("div",{key:l.id,class:"relative overflow-hidden border-b border-neutral-200/50 dark:border-neutral-800/50 bg-neutral-200 dark:bg-neutral-800"},[Y(l.id)&&ce(l.id)==="right"?(a(),n("div",Nt,[e[40]||(e[40]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t("span",It,d(l.is_read_later?"Saved":"Read Later"),1)])):u("",!0),Y(l.id)&&ce(l.id)==="left"?(a(),n("div",Ut,[e[41]||(e[41]=t("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),t("span",qt,d(l.is_read?"Mark as Unread":"Mark as Read"),1)])):u("",!0),t("button",{onClick:v=>!Y(l.id)&&$(l),onTouchstart:v=>Me(l.id,v),onTouchmove:v=>Ce(l.id,v),onTouchend:v=>Ae(l.id,l),class:"relative flex w-full gap-3 bg-white dark:bg-neutral-950 px-4 py-3 text-left transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/50 active:bg-neutral-100 dark:active:bg-neutral-800/50",style:Z(Se(l.id))},[t("div",Xt,[t("div",Pt,[q.value?u("",!0):(a(),n(k,{key:0},[l.feed_favicon_url?(a(),n("img",{key:0,src:l.feed_favicon_url,class:"h-3.5 w-3.5 rounded-sm",alt:""},null,8,Yt)):u("",!0),t("span",{class:"truncate hover:underline",onClick:S(v=>H(l.feed_id),["stop"])},d(l.feed_title),9,Ot),e[42]||(e[42]=t("span",null,"·",-1))],64)),t("span",Wt,d(ne(l.published_at)),1)]),t("h3",{class:A(["mt-1 text-sm leading-snug",l.is_read?"text-neutral-600 dark:text-neutral-500 font-normal":"text-neutral-900 dark:text-neutral-100 font-semibold"])},d(l.title),3),l.summary?(a(),n("p",Kt,d(l.summary),1)):u("",!0)]),l.image_url?(a(),n("img",{key:0,src:l.image_url,class:"h-16 w-16 shrink-0 rounded-lg object-cover",alt:l.title,loading:"lazy"},null,8,Zt)):u("",!0)],44,Ht)]))),128))])],64))),128)),t("div",{ref_key:"loadMoreSentinel",ref:B,class:"h-px"},null,512),c(s).loadingMore?(a(),n("div",Gt,[...e[43]||(e[43]=[t("svg",{class:"h-6 w-6 animate-spin text-neutral-400",viewBox:"0 0 24 24",fill:"none"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)])])):u("",!0),!c(s).hasMore&&c(s).loaded&&j.value&&Object.keys(j.value).length>0?(a(),n("div",Jt," No more articles ")):u("",!0)])):u("",!0)],32)],64))],64))}}),sr=Ie(Qt,[["__scopeId","data-v-9cdc3277"]]);export{sr as default};
