import{x as se,o as ie,g as l,h as e,i as R,m as x,R as _,F as p,p as C,k as u,a as c,s as k,c as n,O as V,t as d,l as ue,v as H,E as de}from"./app-CxnMb0Ns.js";import{u as ce}from"./useToast-W1XsAnoM.js";import{_ as be}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ve={key:0,class:"flex items-center justify-center py-20"},xe={key:1,class:"mx-auto max-w-2xl px-4 py-6 space-y-8"},pe=["disabled"],ke={class:"flex items-center gap-2 mb-3"},ge={class:"flex flex-col"},me=["onClick","disabled"],he=["onClick","disabled"],fe={class:"flex-1 min-w-0"},ye=["onSubmit"],we={key:1,class:"text-sm font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"},_e={key:0,class:"flex gap-1"},Ce=["onClick"],Me=["onClick"],Fe={key:0,class:"mb-3 rounded-lg border border-red-800/50 bg-red-950/50 p-4"},Le={class:"text-sm text-red-300 mb-3"},Ue={key:0},$e={key:0,class:"mb-3"},Be=["value"],Ve={class:"flex gap-2"},ze=["onClick"],je={class:"space-y-1"},Re={class:"flex items-center gap-3"},He=["src"],Ae={key:1,class:"h-5 w-5 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},De={key:2,class:"flex-1 min-w-0"},Se=["onSubmit"],Ne={key:3,class:"flex-1 min-w-0"},Ee={class:"flex gap-2 items-center"},Ke=["value"],Te=["onClick"],Ie={class:"flex-1 min-w-0"},Oe={class:"flex items-center gap-1.5"},qe={class:"text-sm text-neutral-800 dark:text-neutral-200 truncate"},Ge={key:0,class:"h-4 w-4 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Je={class:"text-xs text-neutral-600 dark:text-neutral-500 truncate"},Pe={key:0,class:"text-xs text-amber-600 dark:text-amber-500 mt-0.5 truncate"},Qe={class:"flex shrink-0 gap-1"},We=["onClick"],Xe=["onClick"],Ye=["onClick"],Ze=["onClick"],et={key:0,class:"mt-3 rounded-lg border border-red-800/50 bg-red-950/50 p-3"},tt={class:"text-sm text-red-300 mb-2"},rt={class:"flex gap-2"},ot=["onClick"],lt={key:0,class:"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-500 italic"},nt={key:0},at={class:"space-y-1"},st={class:"flex items-center gap-3"},it=["src"],ut={key:1,class:"h-5 w-5 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},dt={key:2,class:"flex-1 min-w-0"},ct=["onSubmit"],bt={key:3,class:"flex-1 min-w-0"},vt={class:"flex gap-2 items-center"},xt=["value"],pt=["onClick"],kt={class:"flex-1 min-w-0"},gt={class:"flex items-center gap-1.5"},mt={class:"text-sm text-neutral-800 dark:text-neutral-200 truncate"},ht={key:0,class:"h-4 w-4 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},ft={class:"text-xs text-neutral-600 dark:text-neutral-500 truncate"},yt={key:0,class:"text-xs text-amber-600 dark:text-amber-500 mt-0.5 truncate"},wt={class:"flex shrink-0 gap-1"},_t=["onClick"],Ct=["onClick"],Mt=["onClick"],Ft=["onClick"],Lt={key:0,class:"mt-3 rounded-lg border border-red-800/50 bg-red-950/50 p-3"},Ut={class:"text-sm text-red-300 mb-2"},$t={class:"flex gap-2"},Bt=["onClick"],Vt={key:1,class:"text-center py-12"},zt={__name:"FeedManageView",setup(jt){const W=se(),{error:v}=ce(),A=c(!0),b=c([]),z=c([]),D=de(()=>b.value);async function S(){const{data:o}=await k.get("/api/feeds/manage");b.value=o.categories,z.value=o.uncategorizedFeeds}async function X(){try{await S()}catch{v("Failed to load feed data")}finally{A.value=!1}}async function g(){try{await S()}catch{v("Failed to refresh feed data")}}ie(X);const f=c("");async function Y(){if(f.value.trim())try{await k.post("/api/categories",{name:f.value.trim()}),f.value="",await g()}catch(o){v(o.response?.data?.message||"Failed to create category")}}const M=c(null),F=c("");function Z(o){M.value=o.id,F.value=o.name}async function ee(o){if(F.value.trim())try{await k.put(`/api/categories/${o.id}`,{name:F.value.trim()}),M.value=null,await g()}catch(t){v(t.response?.data?.message||"Failed to rename category")}}function N(){M.value=null}const L=c(null),j=c(null);function te(o){L.value=o.id,j.value=null}async function re(o){try{await k.delete(`/api/categories/${o.id}`,{data:{move_to_category_id:j.value}}),L.value=null,await g()}catch(t){v(t.response?.data?.message||"Failed to delete category")}}function oe(){L.value=null}function le(o){if(o===0)return;const t=[...b.value];[t[o-1],t[o]]=[t[o],t[o-1]],b.value=t,E(t)}function ne(o){if(o===b.value.length-1)return;const t=[...b.value];[t[o],t[o+1]]=[t[o+1],t[o]],b.value=t,E(t)}async function E(o){try{await k.post("/api/categories/reorder",{order:o.map(t=>t.id)})}catch(t){v(t.response?.data?.message||"Failed to reorder categories"),await g()}}const U=c(null),m=c(""),h=c("");function K(o){U.value=o.id,m.value=o.title,h.value=o.feed_url}async function T(o,t){if(m.value.trim()&&h.value.trim())try{await k.put(`/api/feeds/${o.id}`,{title:m.value.trim(),feed_url:h.value.trim(),category_id:t}),U.value=null,await g()}catch(r){v(r.response?.data?.message||"Failed to update feed")}}function y(){U.value=null}const $=c(null),w=c(null);function I(o,t){$.value=o.id,w.value=t}async function O(o){try{await k.put(`/api/feeds/${o.id}`,{title:o.title,category_id:w.value||null}),$.value=null,await g()}catch(t){v(t.response?.data?.message||"Failed to move feed")}}function q(){$.value=null}const B=c(null);function G(o){B.value=o.id}async function J(o){try{await k.delete(`/api/feeds/${o.id}`),B.value=null,await g()}catch(t){v(t.response?.data?.message||"Failed to unsubscribe")}}function P(){B.value=null}function ae(){W.push({name:"articles.index"})}async function Q(o){try{await k.post(`/api/feeds/${o.id}/reenable`),await g()}catch(t){v(t.response?.data?.message||"Failed to reenable feed")}}return(o,t)=>(n(),l(p,null,[e("header",{class:"sticky top-0 z-30 border-b border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pt-safe"},[e("div",{class:"flex h-11 items-center justify-between px-4"},[e("div",{class:"flex items-center gap-2 min-w-0"},[e("button",{onClick:ae,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2","aria-label":"Back to articles"},[...t[9]||(t[9]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])]),t[10]||(t[10]=e("h1",{class:"text-base font-semibold text-neutral-800 dark:text-neutral-200 truncate"}," Manage Feeds ",-1))])])]),A.value?(n(),l("div",ve,[...t[11]||(t[11]=[e("svg",{class:"h-8 w-8 animate-spin text-neutral-400",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):(n(),l("div",xe,[e("section",null,[t[12]||(t[12]=e("h2",{class:"text-sm font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500 mb-3"}," New Category ",-1)),e("form",{onSubmit:R(Y,["prevent"]),class:"flex gap-2"},[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>f.value=r),type:"text",placeholder:"Category name",class:"flex-1 rounded-lg border border-neutral-300 bg-white px-3 py-2.5 text-base text-neutral-800 placeholder-neutral-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},null,512),[[_,f.value]]),e("button",{type:"submit",disabled:!f.value.trim(),class:"rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," Add ",8,pe)],32)]),(n(!0),l(p,null,C(b.value,(r,s)=>(n(),l("section",{key:r.id},[e("div",ke,[e("div",ge,[e("button",{onClick:a=>le(s),disabled:s===0,class:"p-0.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move category up","aria-label":"Move category up"},[...t[13]||(t[13]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})],-1)])],8,me),e("button",{onClick:a=>ne(s),disabled:s===b.value.length-1,class:"p-0.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move category down","aria-label":"Move category down"},[...t[14]||(t[14]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1)])],8,he)]),e("div",fe,[M.value===r.id?(n(),l("form",{key:0,onSubmit:R(a=>ee(r),["prevent"]),class:"flex gap-2"},[x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>F.value=a),type:"text",class:"flex-1 rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-base text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",onKeydown:V(N,["escape"])},null,544),[[_,F.value]]),t[15]||(t[15]=e("button",{type:"submit",class:"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 transition-colors"}," Save ",-1)),e("button",{type:"button",onClick:N,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")],40,ye)):(n(),l("h2",we,d(r.name),1))]),M.value!==r.id&&L.value!==r.id?(n(),l("div",_e,[e("button",{onClick:a=>Z(r),class:"rounded-lg p-1.5 text-neutral-600 dark:text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",title:"Rename category","aria-label":"Rename category"},[...t[16]||(t[16]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,Ce),e("button",{onClick:a=>te(r),class:"rounded-lg p-1.5 text-neutral-500 hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Delete category","aria-label":"Delete category"},[...t[17]||(t[17]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Me)])):u("",!0)]),L.value===r.id?(n(),l("div",Fe,[e("p",Le,[ue(' Delete "'+d(r.name)+'"? ',1),r.feeds.length>0?(n(),l("span",Ue,d(r.feeds.length)+" feed"+d(r.feeds.length>1?"s":"")+" will be moved. ",1)):u("",!0)]),r.feeds.length>0?(n(),l("div",$e,[t[19]||(t[19]=e("label",{class:"text-xs text-neutral-500 dark:text-neutral-400 mb-1 block"},"Move feeds to:",-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>j.value=a),class:"w-full rounded-lg border border-neutral-300 bg-white px-3 py-2 text-sm text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},[t[18]||(t[18]=e("option",{value:null},"No category (uncategorized)",-1)),(n(!0),l(p,null,C(b.value.filter(a=>a.id!==r.id),a=>(n(),l("option",{key:a.id,value:a.id},d(a.name),9,Be))),128))],512),[[H,j.value]])])):u("",!0),e("div",Ve,[e("button",{onClick:a=>re(r),class:"rounded-lg bg-red-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-red-700 transition-colors"}," Delete ",8,ze),e("button",{onClick:oe,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])])):u("",!0),e("div",je,[(n(!0),l(p,null,C(r.feeds,a=>(n(),l("div",{key:a.id,class:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 px-4 py-3"},[e("div",Re,[a.favicon_url?(n(),l("img",{key:0,src:a.favicon_url,class:"h-5 w-5 shrink-0 rounded-sm",alt:""},null,8,He)):(n(),l("div",Ae)),U.value===a.id?(n(),l("div",De,[e("form",{onSubmit:R(i=>T(a,r.id),["prevent"]),class:"flex flex-col gap-2"},[x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>m.value=i),type:"text",placeholder:"Feed title",class:"w-full rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-base text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",onKeydown:V(y,["escape"])},null,544),[[_,m.value]]),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>h.value=i),type:"url",placeholder:"Feed URL",class:"w-full rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-xs text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",onKeydown:V(y,["escape"])},null,544),[[_,h.value]]),e("div",{class:"flex gap-2"},[t[20]||(t[20]=e("button",{type:"submit",class:"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 transition-colors"}," Save ",-1)),e("button",{type:"button",onClick:y,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])],40,Se)])):$.value===a.id?(n(),l("div",Ne,[e("div",Ee,[x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=i=>w.value=i),class:"flex-1 rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-sm text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},[t[21]||(t[21]=e("option",{value:null},"Uncategorized",-1)),(n(!0),l(p,null,C(D.value,i=>(n(),l("option",{key:i.id,value:i.id},d(i.name),9,Ke))),128))],512),[[H,w.value]]),e("button",{onClick:i=>O(a),class:"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 transition-colors"}," Move ",8,Te),e("button",{onClick:q,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])])):(n(),l(p,{key:4},[e("div",Ie,[e("div",Oe,[e("p",qe,d(a.title),1),a.disabled_at?(n(),l("svg",Ge,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):u("",!0)]),e("p",Je,d(a.feed_url),1),a.disabled_at&&a.last_error?(n(),l("p",Pe,d(a.last_error),1)):u("",!0)]),e("div",Qe,[a.disabled_at?(n(),l("button",{key:0,onClick:i=>Q(a),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-amber-600 dark:text-amber-500 border border-amber-500/50 hover:bg-amber-500/10 transition-colors",title:"Retry feed","aria-label":"Retry feed"}," Retry ",8,We)):u("",!0),e("button",{onClick:i=>K(a),class:"rounded-lg p-1.5 text-neutral-600 dark:text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",title:"Rename feed","aria-label":"Rename feed"},[...t[23]||(t[23]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,Xe),e("button",{onClick:i=>I(a,r.id),class:"rounded-lg p-1.5 text-neutral-600 dark:text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",title:"Move feed","aria-label":"Move feed"},[...t[24]||(t[24]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})],-1)])],8,Ye),e("button",{onClick:i=>G(a),class:"rounded-lg p-1.5 text-neutral-500 hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Unsubscribe","aria-label":"Unsubscribe"},[...t[25]||(t[25]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Ze)])],64))]),B.value===a.id?(n(),l("div",et,[e("p",tt,' Unsubscribe from "'+d(a.title)+'"? All articles will be removed. ',1),e("div",rt,[e("button",{onClick:i=>J(a),class:"rounded-lg bg-red-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-red-700 transition-colors"}," Unsubscribe ",8,ot),e("button",{onClick:P,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])])):u("",!0)]))),128)),r.feeds.length===0?(n(),l("p",lt," No feeds in this category ")):u("",!0)])]))),128)),z.value.length>0?(n(),l("section",nt,[t[32]||(t[32]=e("h2",{class:"text-sm font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500 mb-3"}," Uncategorized ",-1)),e("div",at,[(n(!0),l(p,null,C(z.value,r=>(n(),l("div",{key:r.id,class:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 px-4 py-3"},[e("div",st,[r.favicon_url?(n(),l("img",{key:0,src:r.favicon_url,class:"h-5 w-5 shrink-0 rounded-sm",alt:""},null,8,it)):(n(),l("div",ut)),U.value===r.id?(n(),l("div",dt,[e("form",{onSubmit:R(s=>T(r,null),["prevent"]),class:"flex flex-col gap-2"},[x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>m.value=s),type:"text",placeholder:"Feed title",class:"w-full rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-base text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",onKeydown:V(y,["escape"])},null,544),[[_,m.value]]),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>h.value=s),type:"url",placeholder:"Feed URL",class:"w-full rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-xs text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",onKeydown:V(y,["escape"])},null,544),[[_,h.value]]),e("div",{class:"flex gap-2"},[t[26]||(t[26]=e("button",{type:"submit",class:"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 transition-colors"}," Save ",-1)),e("button",{type:"button",onClick:y,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])],40,ct)])):$.value===r.id?(n(),l("div",bt,[e("div",vt,[x(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>w.value=s),class:"flex-1 rounded-lg border border-neutral-300 bg-white px-3 py-1.5 text-sm text-neutral-800 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:ring-offset-0 focus:outline-none dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},[t[27]||(t[27]=e("option",{value:null},"Uncategorized",-1)),(n(!0),l(p,null,C(D.value,s=>(n(),l("option",{key:s.id,value:s.id},d(s.name),9,xt))),128))],512),[[H,w.value]]),e("button",{onClick:s=>O(r),class:"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700 transition-colors"}," Move ",8,pt),e("button",{onClick:q,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])])):(n(),l(p,{key:4},[e("div",kt,[e("div",gt,[e("p",mt,d(r.title),1),r.disabled_at?(n(),l("svg",ht,[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):u("",!0)]),e("p",ft,d(r.feed_url),1),r.disabled_at&&r.last_error?(n(),l("p",yt,d(r.last_error),1)):u("",!0)]),e("div",wt,[r.disabled_at?(n(),l("button",{key:0,onClick:s=>Q(r),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-amber-600 dark:text-amber-500 border border-amber-500/50 hover:bg-amber-500/10 transition-colors",title:"Retry feed","aria-label":"Retry feed"}," Retry ",8,_t)):u("",!0),e("button",{onClick:s=>K(r),class:"rounded-lg p-1.5 text-neutral-600 dark:text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",title:"Rename feed","aria-label":"Rename feed"},[...t[29]||(t[29]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])],8,Ct),e("button",{onClick:s=>I(r,null),class:"rounded-lg p-1.5 text-neutral-600 dark:text-neutral-500 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",title:"Move feed","aria-label":"Move feed"},[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})],-1)])],8,Mt),e("button",{onClick:s=>G(r),class:"rounded-lg p-1.5 text-neutral-500 hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Unsubscribe","aria-label":"Unsubscribe"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Ft)])],64))]),B.value===r.id?(n(),l("div",Lt,[e("p",Ut,' Unsubscribe from "'+d(r.title)+'"? All articles will be removed. ',1),e("div",$t,[e("button",{onClick:s=>J(r),class:"rounded-lg bg-red-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-red-700 transition-colors"}," Unsubscribe ",8,Bt),e("button",{onClick:P,class:"rounded-lg px-3 py-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"}," Cancel ")])])):u("",!0)]))),128))])])):u("",!0),b.value.length===0&&z.value.length===0?(n(),l("div",Vt,[...t[33]||(t[33]=[e("svg",{class:"mx-auto h-12 w-12 text-neutral-400 dark:text-neutral-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1),e("p",{class:"mt-3 text-neutral-600 dark:text-neutral-500"}," No feeds yet. Add your first feed to get started. ",-1)])])):u("",!0)]))],64))}},Dt=be(zt,[["__scopeId","data-v-e930afbc"]]);export{Dt as default};
