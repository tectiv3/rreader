import{u as te,a as re}from"./useAddFeedModal-DRBT1ZOo.js";import{w as le,r as de,a as h,n as J,o as ne,b as ae,c as r,d as I,e as $,f as O,g as n,h as e,T as Q,i as W,j as u,k as i,l as E,t as k,m as ce,F as A,p as R,v as ve,q as xe,s as X,u as V,x as oe,y as ke,z as fe,A as be,B as pe,K as ge,C as me,D as he,E as N,G as ye}from"./app-BC67mUnF.js";import{_ as Y,a as q,b as Z}from"./TextInput-D62KPywz.js";import{u as G}from"./useSidebarStore-BPI83-rn.js";import{u as we}from"./useToast-C8cuPEr2.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Ce}from"./useArticleStore-DWZhAaEj.js";const ie="rreader-offline-queue",T=h(Me());let K=!1;function Me(){try{const l=localStorage.getItem(ie);return l?JSON.parse(l):[]}catch{return[]}}function ue(){try{localStorage.setItem(ie,JSON.stringify(T.value))}catch{}}function $e(l,y,b={}){T.value.push({method:l,url:y,data:b,queuedAt:new Date().toISOString()}),ue()}function D(){if(K||T.value.length===0)return;K=!0;const l=[...T.value];T.value=[],ue();let y=Promise.resolve();for(const b of l)y=y.then(()=>new Promise(M=>{de[b.method](b.url,b.data,{preserveScroll:!0,preserveState:!0,onFinish:()=>M(),onError:()=>M()})}));y.finally(()=>{K=!1,T.value.length>0&&D()})}function je(){const{isOnline:l}=te();return le(l,y=>{y&&D()}),l.value&&T.value.length>0&&setTimeout(D,100),{queue:T,enqueue:$e,flushQueue:D}}const Se={key:0,class:"fixed inset-0 z-50 flex items-start justify-center pt-[12vh] lg:items-center lg:pt-0"},Fe={key:0,class:"relative z-10 w-full max-h-[80vh] overflow-y-auto rounded-2xl bg-neutral-50 dark:bg-neutral-900 shadow-2xl max-w-md mx-4"},ze={class:"p-5"},Le={key:0},Be=["disabled"],Ae={key:0,class:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},_e={key:1},Ve={class:"flex items-start gap-3 mb-5 rounded-lg bg-neutral-100 dark:bg-neutral-800 p-3"},Re=["src"],Te={key:1,class:"mt-0.5 h-6 w-6 rounded bg-neutral-300 dark:bg-neutral-700 shrink-0"},Ie={class:"min-w-0 flex-1"},Ee={class:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate"},He={key:0,class:"mt-0.5 text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2"},Oe={class:"mt-0.5 text-xs text-neutral-600 dark:text-neutral-500"},Ue={class:"mb-4"},Ne={class:"mb-4"},qe={key:0},De=["value"],Qe={key:1},Ye=["disabled"],Ke={key:0,class:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},Pe={__name:"AddFeedModal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:y}){const b=l,M=y,v=h(""),d=h(""),S=h(!1),w=h(null),z=h([]),x=h(""),C=h(""),B=h(""),F=h(""),L=h(!1),m=h(!1),j=h({}),g=h(null);le(()=>b.show,s=>{s?(document.body.style.overflow="hidden",J(()=>{g.value?.focus()})):(document.body.style.overflow="",a())});function t(s){s.key==="Escape"&&b.show&&(s.preventDefault(),o())}ne(()=>document.addEventListener("keydown",t)),ae(()=>{document.removeEventListener("keydown",t),document.body.style.overflow=""});function a(){v.value="",d.value="",S.value=!1,w.value=null,z.value=[],x.value="",C.value="",B.value="",F.value="",L.value=!1,m.value=!1,j.value={}}function o(){M("close")}async function _(){if(v.value.trim()){d.value="",S.value=!0;try{const s=await X.post("/api/feeds/preview",{url:v.value});w.value=s.data.preview,z.value=s.data.categories,x.value=s.data.preview.feed_url,C.value=""}catch(s){s.response?.status===422&&s.response.data?.errors?.url?d.value=s.response.data.errors.url[0]:d.value="Something went wrong. Please try again."}finally{S.value=!1}}}function H(){L.value=!L.value,L.value?B.value="":F.value=""}async function U(){m.value=!0,j.value={};try{await X.post("/api/feeds",{feed_url:x.value,title:C.value||w.value?.title||"",category_id:B.value||"",new_category:F.value||""}),G().fetchSidebar(),o()}catch(s){s.response?.status===422&&s.response.data?.errors&&(j.value=Object.fromEntries(Object.entries(s.response.data.errors).map(([c,f])=>[c,Array.isArray(f)?f[0]:f])))}finally{m.value=!1}}function p(){w.value=null,j.value={},J(()=>{g.value?.focus()})}return(s,c)=>(r(),I(xe,{to:"body"},[$(Q,{"enter-active-class":"duration-200 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:O(()=>[l.show?(r(),n("div",Se,[e("div",{class:"absolute inset-0 bg-black/60",onClick:o}),$(Q,{"enter-active-class":"duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95",appear:""},{default:O(()=>[l.show?(r(),n("div",Fe,[e("div",{class:"sticky top-0 z-10 flex items-center justify-between border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 px-5 py-4 rounded-t-2xl"},[c[6]||(c[6]=e("h2",{class:"text-base font-semibold text-neutral-900 dark:text-neutral-100"}," Add Feed ",-1)),e("button",{onClick:o,class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Close"},[...c[5]||(c[5]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ze,[w.value?(r(),n("div",_e,[e("button",{onClick:p,class:"mb-4 flex items-center gap-1 text-sm text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors"},[...c[9]||(c[9]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),E(" Search again ",-1)])]),e("div",Ve,[w.value.favicon_url?(r(),n("img",{key:0,src:w.value.favicon_url,class:"mt-0.5 h-6 w-6 rounded",onError:c[1]||(c[1]=f=>f.target.style.display="none")},null,40,Re)):(r(),n("div",Te)),e("div",Ie,[e("h3",Ee,k(w.value.title||"Untitled Feed"),1),w.value.description?(r(),n("p",He,k(w.value.description),1)):i("",!0),e("p",Oe,k(w.value.article_count)+" articles found ",1)])]),e("form",{onSubmit:W(U,["prevent"])},[e("div",Ue,[$(Z,{for:"add-feed-title",value:"Title (optional)"}),$(Y,{id:"add-feed-title",type:"text",class:"mt-1 block w-full text-base",modelValue:C.value,"onUpdate:modelValue":c[2]||(c[2]=f=>C.value=f),placeholder:w.value.title||"Feed title"},null,8,["modelValue","placeholder"])]),e("div",Ne,[$(Z,{for:"add-feed-category",value:"Category (optional)"}),L.value?(r(),n("div",Qe,[$(Y,{id:"add-feed-new-category",type:"text",class:"mt-1 block w-full text-base",modelValue:F.value,"onUpdate:modelValue":c[4]||(c[4]=f=>F.value=f),placeholder:"New category name"},null,8,["modelValue"])])):(r(),n("div",qe,[ce(e("select",{id:"add-feed-category","onUpdate:modelValue":c[3]||(c[3]=f=>B.value=f),class:"mt-1 block w-full rounded-lg border-neutral-300 bg-white text-base text-neutral-800 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100"},[c[10]||(c[10]=e("option",{value:""},"No category",-1)),(r(!0),n(A,null,R(z.value,f=>(r(),n("option",{key:f.id,value:f.id},k(f.name),9,De))),128))],512),[[ve,B.value]])])),e("button",{type:"button",onClick:H,class:"mt-2 text-sm text-blue-400 hover:text-blue-300"},k(L.value?"Choose existing category":"+ Create new category"),1),$(q,{class:"mt-2",message:j.value.category_id},null,8,["message"]),$(q,{class:"mt-2",message:j.value.new_category},null,8,["message"])]),$(q,{class:"mb-3",message:j.value.feed_url},null,8,["message"]),e("button",{type:"submit",class:u(["w-full inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-blue-500 focus:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-neutral-900 active:bg-blue-700",{"opacity-25":m.value}]),disabled:m.value},[m.value?(r(),n("svg",Ke,[...c[11]||(c[11]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):i("",!0),E(" "+k(m.value?"Subscribing...":"Subscribe"),1)],10,Ye)],32)])):(r(),n("div",Le,[e("form",{onSubmit:W(_,["prevent"])},[e("div",null,[$(Y,{ref_key:"urlInput",ref:g,id:"add-feed-url",type:"url",class:"block w-full text-base",modelValue:v.value,"onUpdate:modelValue":c[0]||(c[0]=f=>v.value=f),placeholder:"https://example.com or feed URL",required:""},null,8,["modelValue"]),c[7]||(c[7]=e("p",{class:"mt-1.5 text-xs text-neutral-600 dark:text-neutral-500"}," Enter a website URL or direct RSS/Atom feed URL ",-1)),$(q,{class:"mt-2",message:d.value},null,8,["message"])]),e("button",{type:"submit",class:u(["mt-4 w-full inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-blue-500 focus:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-neutral-900 active:bg-blue-700",{"opacity-25":S.value}]),disabled:S.value},[S.value?(r(),n("svg",Ae,[...c[8]||(c[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):i("",!0),E(" "+k(S.value?"Searching...":"Find Feed"),1)],10,Be)],32)]))])])):i("",!0)]),_:1})])):i("",!0)]),_:1})]))}},Ge={class:"fixed bottom-20 lg:bottom-6 inset-x-0 z-50 flex flex-col items-center gap-2 pointer-events-none px-4"},Je={key:0,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},We={key:1,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},Xe={key:2,class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},Ze=["onClick"],et={__name:"ToastContainer",setup(l){const{toasts:y,dismiss:b}=we();return(M,v)=>(r(),n("div",Ge,[(r(!0),n(A,null,R(V(y),d=>(r(),n("div",{key:d.id,class:u(["pointer-events-auto flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium shadow-lg transition-all duration-300",[d.type==="success"?"bg-green-600 text-white":d.type==="error"?"bg-red-600 text-white":"bg-neutral-300 dark:bg-neutral-700 text-neutral-900 dark:text-neutral-100",d.leaving?"opacity-0 translate-y-2":"opacity-100 translate-y-0"]]),role:"status","aria-live":"polite"},[d.type==="success"?(r(),n("svg",Je,[...v[0]||(v[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)])])):d.type==="error"?(r(),n("svg",We,[...v[1]||(v[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"},null,-1)])])):(r(),n("svg",Xe,[...v[2]||(v[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"},null,-1)])])),e("span",null,k(d.message),1),e("button",{onClick:S=>V(b)(d.id),class:"ml-1 shrink-0 rounded p-0.5 opacity-70 hover:opacity-100 transition-opacity","aria-label":"Dismiss"},[...v[3]||(v[3]=[e("svg",{class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ze)],2))),128))]))}},tt={key:0,class:"fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-neutral-50 dark:bg-neutral-900 shadow-xl",role:"dialog","aria-label":"Navigation sidebar"},rt={class:"flex min-h-14 items-center justify-between border-b border-neutral-200 dark:border-neutral-800 px-4 pt-safe"},lt={class:"flex items-center gap-1"},nt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},at={class:"px-3 pb-2"},ot={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},st={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},it={class:"px-3 pt-3"},ut={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},dt=["onClick","aria-expanded","title","aria-label"],ct=["onClick"],vt={class:"flex-1 truncate"},xt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},kt={key:0,class:"ml-4"},ft=["onClick"],bt=["src"],pt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},gt={class:"flex-1 truncate text-left"},mt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},ht={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},yt={key:0,class:"mt-0.5"},wt=["onClick"],Ct=["src"],Mt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},$t={class:"flex-1 truncate text-left"},jt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},St={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Ft={class:"border-t border-neutral-200 dark:border-neutral-800 p-3 space-y-2"},zt={key:0,class:"text-base font-semibold text-neutral-900 dark:text-neutral-100 truncate"},Lt={class:"flex-1 overflow-y-auto py-2","aria-label":"Feed navigation"},Bt={class:"px-2 pb-2"},At=["title"],_t={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Vt=["title"],Rt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Tt=["title"],It={key:0,class:"flex-1 text-left"},Et={key:0,class:"px-3 pt-3"},Ht={key:0,class:"inline-flex items-center rounded-full bg-blue-600 px-2 py-0.5 text-xs font-medium text-white"},Ot=["onClick","aria-expanded","title","aria-label"],Ut=["onClick"],Nt={class:"flex-1 truncate"},qt={key:0,class:"text-xs text-neutral-600 dark:text-neutral-500"},Dt={key:0,class:"ml-4"},Qt=["onClick"],Yt=["src"],Kt={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},Pt={class:"flex-1 truncate text-left"},Gt={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},Jt={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},Wt={key:0,class:"mt-0.5"},Xt=["onClick"],Zt=["src"],er={key:1,class:"h-4 w-4 shrink-0 rounded-sm bg-neutral-300 dark:bg-neutral-700"},tr={class:"flex-1 truncate text-left"},rr={key:2,class:"h-3.5 w-3.5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-label":"Feed disabled"},lr={key:3,class:"text-xs text-neutral-600 dark:text-neutral-500"},nr={key:1,class:"px-2 pt-3"},ar=["title"],or={key:0},sr=["title"],ir={key:0},ur={__name:"SidebarDrawer",props:{open:Boolean,persistent:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},sidebar:Object,activeFeedId:Number,activeCategoryId:Number,activeFilter:String},emits:["close","collapse-toggle","navigate"],setup(l,{emit:y}){const{openAddFeedModal:b}=re(),M=oe(),v=l,d=y,S=h({});function w(g){S.value[g]=!S.value[g]}function z(g){return S.value[g]??!1}function x(g){v.persistent||d("close"),d("navigate",g)}function C(){return!v.activeFeedId&&!v.activeCategoryId&&!v.activeFilter}function B(){d("close"),b()}function F(){d("close"),M.push({name:"feeds.manage"})}function L(){d("close"),M.push({name:"settings"})}function m(g){for(const a of v.sidebar?.categories||[]){const o=a.feeds.find(_=>_.id===g);if(o)return o.unread_count||0}return(v.sidebar?.uncategorizedFeeds||[]).find(a=>a.id===g)?.unread_count||0}function j(g){return g.unread_count||0}return(g,t)=>l.persistent?(r(),n("aside",{key:1,class:u(["flex flex-col border-r border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 transition-all duration-200 shrink-0",l.collapsed?"w-16":"w-72"]),"aria-label":"Navigation sidebar"},[e("div",{class:u(["flex h-11 items-center border-b border-neutral-200 dark:border-neutral-800 px-3",l.collapsed?"justify-center":"justify-between"])},[l.collapsed?i("",!0):(r(),n("h2",zt," RReader ")),l.collapsed?i("",!0):(r(),n("button",{key:1,onClick:t[9]||(t[9]=a=>F()),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors cursor-pointer"}," Edit "))],2),e("nav",Lt,[e("div",Bt,[e("button",{onClick:t[10]||(t[10]=a=>x({filter:"today"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Today":void 0},[t[34]||(t[34]=e("svg",{class:"h-5 w-5 shrink-0 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),l.collapsed?i("",!0):(r(),n(A,{key:0},[t[33]||(t[33]=e("span",{class:"flex-1 text-left"},"Today",-1)),l.sidebar.todayCount>0?(r(),n("span",_t,k(l.sidebar.todayCount),1)):i("",!0)],64))],10,At),e("button",{onClick:t[11]||(t[11]=a=>x({filter:"read_later"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Read Later":void 0},[t[36]||(t[36]=e("svg",{class:"h-5 w-5 shrink-0 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),l.collapsed?i("",!0):(r(),n(A,{key:0},[t[35]||(t[35]=e("span",{class:"flex-1 text-left"},"Read Later",-1)),l.sidebar.readLaterCount>0?(r(),n("span",Rt,k(l.sidebar.readLaterCount),1)):i("",!0)],64))],10,Vt),e("button",{onClick:t[12]||(t[12]=a=>x({filter:"recently_read"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="recently_read"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:l.collapsed?"Recently Read":void 0},[t[37]||(t[37]=e("svg",{class:"h-5 w-5 shrink-0 text-green-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l.collapsed?i("",!0):(r(),n("span",It,"Recently Read"))],10,Tt)]),e("div",{class:u(["border-t border-neutral-200 dark:border-neutral-800",l.collapsed?"mx-2":"mx-3"])},null,2),l.collapsed?i("",!0):(r(),n("div",Et,[t[43]||(t[43]=e("div",{class:"flex items-center justify-between px-3 pb-2"},[e("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ")],-1)),e("button",{onClick:t[13]||(t[13]=a=>x({})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",C()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[38]||(t[38]=e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),t[39]||(t[39]=e("span",{class:"flex-1 text-left"},"All",-1)),l.sidebar.totalUnread>0?(r(),n("span",Ht,k(l.sidebar.totalUnread),1)):i("",!0)],2),(r(!0),n(A,null,R(l.sidebar.categories,a=>(r(),n("div",{key:a.id,class:"mt-0.5"},[e("div",{class:u(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",l.activeCategoryId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[e("button",{onClick:o=>w(a.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":z(a.id),title:`Toggle ${a.name} feeds`,"aria-label":`Toggle ${a.name} feeds`},[(r(),n("svg",{class:u(["h-4 w-4 transition-transform duration-200",{"rotate-90":z(a.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,Ot),e("button",{onClick:o=>x({category_id:a.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[e("span",Nt,k(a.name),1),j(a)>0?(r(),n("span",qt,k(j(a)),1)):i("",!0)],8,Ut)],2),z(a.id)?(r(),n("div",Dt,[(r(!0),n(A,null,R(a.feeds,o=>(r(),n("button",{key:o.id,onClick:_=>x({feed_id:o.id}),class:u(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",l.activeFeedId===o.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[o.favicon_url?(r(),n("img",{key:0,src:o.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Yt)):(r(),n("div",Kt)),e("span",Pt,k(o.title),1),o.disabled_at?(r(),n("svg",Gt,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):m(o.id)>0?(r(),n("span",Jt,k(m(o.id)),1)):i("",!0)],10,Qt))),128))])):i("",!0)]))),128)),l.sidebar.uncategorizedFeeds.length>0?(r(),n("div",Wt,[(r(!0),n(A,null,R(l.sidebar.uncategorizedFeeds,a=>(r(),n("button",{key:a.id,onClick:o=>x({feed_id:a.id}),class:u(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFeedId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[a.favicon_url?(r(),n("img",{key:0,src:a.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Zt)):(r(),n("div",er)),e("span",tr,k(a.title),1),a.disabled_at?(r(),n("svg",rr,[...t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):m(a.id)>0?(r(),n("span",lr,k(m(a.id)),1)):i("",!0)],10,Xt))),128))])):i("",!0)])),l.collapsed?(r(),n("div",nr,[e("button",{onClick:t[14]||(t[14]=a=>x({})),class:u(["flex w-full items-center justify-center rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",C()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"]),title:"All Feeds"},[...t[44]||(t[44]=[e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)])],2)])):i("",!0)]),e("div",{class:u(["border-t border-neutral-200 dark:border-neutral-800 p-2",l.collapsed?"space-y-1":"space-y-2 p-3"])},[e("button",{onClick:t[15]||(t[15]=a=>B()),class:u(["flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer",l.collapsed?"p-2.5":"px-4 py-2.5"]),title:l.collapsed?"Add Feed":void 0},[t[45]||(t[45]=e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),l.collapsed?i("",!0):(r(),n("span",or,"Add Feed"))],10,ar),e("button",{onClick:t[16]||(t[16]=a=>L()),class:u(["flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors cursor-pointer",l.collapsed?"p-2.5":"px-4 py-2.5"]),title:l.collapsed?"Settings":void 0},[t[46]||(t[46]=e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),l.collapsed?i("",!0):(r(),n("span",ir,"Settings"))],10,sr)],2)],2)):(r(),n(A,{key:0},[$(Q,{name:"overlay"},{default:O(()=>[l.open?(r(),n("div",{key:0,class:"fixed inset-0 z-40 bg-black/60",onClick:t[0]||(t[0]=a=>d("close"))})):i("",!0)]),_:1}),$(Q,{name:"drawer"},{default:O(()=>[l.open?(r(),n("div",tt,[e("div",rt,[t[18]||(t[18]=e("h2",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"}," RReader ",-1)),e("div",lt,[e("button",{onClick:t[1]||(t[1]=a=>F()),class:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-blue-300 transition-colors cursor-pointer"}," Edit "),e("button",{onClick:t[2]||(t[2]=a=>d("close")),class:"rounded-lg p-1.5 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Close sidebar","aria-label":"Close sidebar"},[...t[17]||(t[17]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("nav",nt,[e("div",at,[e("button",{onClick:t[3]||(t[3]=a=>x({filter:"today"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="today"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[19]||(t[19]=e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})],-1)),t[20]||(t[20]=e("span",{class:"flex-1 text-left"},"Today",-1)),l.sidebar.todayCount>0?(r(),n("span",ot,k(l.sidebar.todayCount),1)):i("",!0)],2),e("button",{onClick:t[4]||(t[4]=a=>x({filter:"read_later"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="read_later"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[21]||(t[21]=e("svg",{class:"h-5 w-5 text-amber-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1)),t[22]||(t[22]=e("span",{class:"flex-1 text-left"},"Read Later",-1)),l.sidebar.readLaterCount>0?(r(),n("span",st,k(l.sidebar.readLaterCount),1)):i("",!0)],2),e("button",{onClick:t[5]||(t[5]=a=>x({filter:"recently_read"})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFilter==="recently_read"?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[...t[23]||(t[23]=[e("svg",{class:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",{class:"flex-1 text-left"},"Recently Read",-1)])],2)]),t[30]||(t[30]=e("div",{class:"mx-3 border-t border-neutral-200 dark:border-neutral-800"},null,-1)),e("div",it,[t[29]||(t[29]=e("div",{class:"flex items-center justify-between px-3 pb-2"},[e("h3",{class:"text-xs font-semibold uppercase tracking-wider text-neutral-600 dark:text-neutral-500"}," Feeds ")],-1)),e("button",{onClick:t[6]||(t[6]=a=>x({})),class:u(["flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",C()?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[t[24]||(t[24]=e("svg",{class:"h-5 w-5 text-neutral-500 dark:text-neutral-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})],-1)),t[25]||(t[25]=e("span",{class:"flex-1 text-left"},"All",-1)),l.sidebar.totalUnread>0?(r(),n("span",ut,k(l.sidebar.totalUnread),1)):i("",!0)],2),(r(!0),n(A,null,R(l.sidebar.categories,a=>(r(),n("div",{key:a.id,class:"mt-0.5"},[e("div",{class:u(["flex w-full items-center gap-0.5 rounded-lg text-sm transition-colors",l.activeCategoryId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[e("button",{onClick:o=>w(a.id),class:"shrink-0 rounded-lg p-2.5 text-neutral-600 dark:text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors cursor-pointer","aria-expanded":z(a.id),title:`Toggle ${a.name} feeds`,"aria-label":`Toggle ${a.name} feeds`},[(r(),n("svg",{class:u(["h-4 w-4 transition-transform duration-200",{"rotate-90":z(a.id)}]),fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)])],2))],8,dt),e("button",{onClick:o=>x({category_id:a.id}),class:"flex min-w-0 flex-1 items-center gap-2 py-2.5 pr-3 text-left cursor-pointer"},[e("span",vt,k(a.name),1),j(a)>0?(r(),n("span",xt,k(j(a)),1)):i("",!0)],8,ct)],2),z(a.id)?(r(),n("div",kt,[(r(!0),n(A,null,R(a.feeds,o=>(r(),n("button",{key:o.id,onClick:_=>x({feed_id:o.id}),class:u(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm transition-colors cursor-pointer",l.activeFeedId===o.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50 hover:text-neutral-700 dark:hover:text-neutral-300"])},[o.favicon_url?(r(),n("img",{key:0,src:o.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,bt)):(r(),n("div",pt)),e("span",gt,k(o.title),1),o.disabled_at?(r(),n("svg",mt,[...t[27]||(t[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):m(o.id)>0?(r(),n("span",ht,k(m(o.id)),1)):i("",!0)],10,ft))),128))])):i("",!0)]))),128)),l.sidebar.uncategorizedFeeds.length>0?(r(),n("div",yt,[(r(!0),n(A,null,R(l.sidebar.uncategorizedFeeds,a=>(r(),n("button",{key:a.id,onClick:o=>x({feed_id:a.id}),class:u(["flex w-full items-center gap-2.5 rounded-lg px-3 py-2.5 text-sm transition-colors cursor-pointer",l.activeFeedId===a.id?"bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200/50 dark:hover:bg-neutral-800/50"])},[a.favicon_url?(r(),n("img",{key:0,src:a.favicon_url,class:"h-4 w-4 shrink-0 rounded-sm",alt:""},null,8,Ct)):(r(),n("div",Mt)),e("span",$t,k(a.title),1),a.disabled_at?(r(),n("svg",jt,[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])])):m(a.id)>0?(r(),n("span",St,k(m(a.id)),1)):i("",!0)],10,wt))),128))])):i("",!0)])]),e("div",Ft,[e("button",{onClick:t[7]||(t[7]=a=>B()),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-700 transition-colors cursor-pointer"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),E(" Add Feed ",-1)])]),e("button",{onClick:t[8]||(t[8]=a=>L()),class:"flex w-full items-center justify-center gap-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 px-4 py-2.5 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors cursor-pointer"},[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),E(" Settings ",-1)])])])])):i("",!0)]),_:1})],64))}},ee=se(ur,[["__scopeId","data-v-5c21aa8e"]]),dr=ke("ui",()=>{const l=h(!1);function y(){l.value=!l.value}function b(){l.value=!1}return{sidebarOpen:l,toggleSidebar:y,closeSidebar:b}}),cr={class:"min-h-screen bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"},vr={key:0,class:"flex items-center justify-center gap-2 bg-amber-600 px-4 py-1.5 text-xs font-medium text-white"},xr={class:"flex h-14 items-center justify-around px-2"},P=10,kr={__name:"AppLayout",setup(l){const{isOnline:y}=te();je(),Ce();const b=G(),M=dr(),v=oe(),d=fe(),{isAddFeedModalOpen:S,openAddFeedModal:w,closeAddFeedModal:z}=re(),x=typeof window<"u"?window.matchMedia("(min-width: 1024px)"):null,C=h(x?x.matches:!1);function B(p){C.value=p.matches}const F=h(typeof window<"u"?localStorage.getItem("rreader-sidebar-collapsed")==="true":!1);function L(){F.value=!F.value,localStorage.setItem("rreader-sidebar-collapsed",String(F.value))}function m(){C.value?L():M.toggleSidebar()}be("toggleSidebar",m);const j=N(()=>({totalUnread:b.totalUnread,readLaterCount:b.readLaterCount,todayCount:b.todayCount,categories:b.categories,uncategorizedFeeds:b.uncategorizedFeeds})),g=N(()=>{const p=d.query.feed_id;return p?Number(p):null}),t=N(()=>{const p=d.query.category_id;return p?Number(p):null}),a=N(()=>d.query.filter||null);function o(p){M.closeSidebar(),p.filter?v.push({name:"articles.index",query:{filter:p.filter}}):p.feed_id?v.push({name:"articles.index",query:{feed_id:p.feed_id}}):p.category_id?v.push({name:"articles.index",query:{category_id:p.category_id}}):v.push({name:"articles.index"})}const _=h(!1);let H=0;function U(){const p=window.scrollY;p<P?_.value=!1:p>H+P?_.value=!0:p<H-P&&(_.value=!1),H=p}return ne(()=>{window.addEventListener("scroll",U,{passive:!0}),x&&x.addEventListener("change",B)}),ae(()=>{window.removeEventListener("scroll",U),x&&x.removeEventListener("change",B)}),(p,s)=>{const c=pe("router-view");return r(),n("div",cr,[V(y)?i("",!0):(r(),n("div",vr,[...s[5]||(s[5]=[e("svg",{class:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})],-1),E(" You're offline â€” viewing cached content ",-1)])])),e("div",{class:"flex",style:he(C.value?"height: 100vh":void 0)},[C.value?(r(),I(ee,{key:0,open:!0,persistent:!0,collapsed:F.value,sidebar:j.value,"active-feed-id":g.value,"active-category-id":t.value,"active-filter":a.value,onCollapseToggle:L,onNavigate:o},null,8,["collapsed","sidebar","active-feed-id","active-category-id","active-filter"])):i("",!0),e("main",{class:u(["flex-1 overflow-y-auto",C.value?"":"pb-16"])},[$(c,null,{default:O(({Component:f})=>[(r(),I(ge,{include:"ArticleListView"},[(r(),I(me(f)))],1024))]),_:1})],2)],4),$(et),$(Pe,{show:V(S),onClose:V(z)},null,8,["show","onClose"]),C.value?i("",!0):(r(),I(ee,{key:1,open:V(M).sidebarOpen,sidebar:j.value,"active-feed-id":g.value,"active-category-id":t.value,"active-filter":a.value,onClose:s[0]||(s[0]=f=>V(M).closeSidebar()),onNavigate:o},null,8,["open","sidebar","active-feed-id","active-category-id","active-filter"])),C.value?i("",!0):(r(),n("nav",{key:2,class:u(["fixed bottom-0 inset-x-0 z-40 border-t border-neutral-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-900/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-neutral-900/80 pb-safe transition-transform duration-300",_.value?"translate-y-full":"translate-y-0"]),"aria-label":"Bottom navigation"},[e("div",xr,[e("button",{onClick:s[1]||(s[1]=f=>m()),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors",title:"Open sidebar","aria-label":"Open sidebar"},[...s[6]||(s[6]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1),e("span",{class:"text-[10px]"},"Menu",-1)])]),e("button",{onClick:s[2]||(s[2]=f=>o({filter:"read_later"})),class:u(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",a.value==="read_later"?"text-amber-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"Read Later","aria-label":"Read Later"},[...s[7]||(s[7]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),e("span",{class:"text-[10px]"},"Read Later",-1)])],2),e("button",{onClick:s[3]||(s[3]=f=>o({})),class:u(["flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors",!a.value&&!g.value&&!t.value&&V(d).name==="articles.index"?"text-blue-500":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"]),title:"All feeds","aria-label":"All feeds"},[...s[8]||(s[8]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})],-1),e("span",{class:"text-[10px]"},"Feeds",-1)])],2),e("button",{onClick:s[4]||(s[4]=f=>V(w)()),class:"flex flex-col items-center justify-center gap-0.5 rounded-lg px-3 py-1.5 transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200",title:"Add feed","aria-label":"Add feed"},[...s[9]||(s[9]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3"})],-1),e("span",{class:"text-[10px]"},"Add",-1)])])])],2))])}}},fr=se(kr,[["__scopeId","data-v-540e5a03"]]),Cr={__name:"AppShell",props:{initialSidebar:{type:Object,default:()=>({})},user:{type:Object,required:!0}},setup(l){ye().appContext.config.globalProperties.$router||window.location.reload();const b=l,M=G();return M.loaded||M.initialize(b.initialSidebar),(v,d)=>(r(),I(fr))}};export{Cr as default};
