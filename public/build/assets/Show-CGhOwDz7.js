import{u as D,a as E,A as H,b as z}from"./AppLayout-72tBimoT.js";import{h as b,c as n,a as M,u as F,q as P,w as x,d as e,o as s,t as i,F as A,e as h,b as u,n as S,g as v,x as R}from"./app-CLDzTedc.js";import"./useDarkMode-C1cjGf5Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const X=["disabled","aria-label"],Y=["fill"],G=["disabled"],W={class:"mb-6"},Q={class:"text-2xl font-bold leading-tight text-neutral-900 dark:text-neutral-100"},J=["href"],K={class:"mt-3 flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-neutral-500 dark:text-neutral-400"},Z={class:"flex items-center gap-2"},$=["src"],_={key:0},ee=["innerHTML"],te={key:0,class:"py-12 text-center"},re={class:"mt-8 flex items-center justify-between border-t border-neutral-200 dark:border-neutral-800 pt-6"},ae={class:"flex items-center gap-3"},le=["disabled"],oe=["fill"],B=80,T=30,de={__name:"Show",props:{article:Object,prevArticleId:Number,nextArticleId:Number},setup(r){const a=r,{isOnline:g}=D(),{enqueue:f}=E(),{success:d}=z(),l=b(a.article.is_read_later??!1),c=b(!1),k=b(!1),I=R(()=>new Date(a.article.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),V=R(()=>new Date(a.article.published_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}));function p(){window.history.length>1?window.history.back():v.visit(route("articles.index"))}function w(){if(c.value=!0,!g.value){l.value=!l.value,f("post",route("articles.toggleReadLater",a.article.id),{}),c.value=!1,d(l.value?"Article saved":"Removed from Read Later");return}v.post(route("articles.toggleReadLater",a.article.id),{},{preserveScroll:!0,onSuccess:()=>{l.value=!l.value,d(l.value?"Article saved":"Removed from Read Later")},onFinish:()=>{c.value=!1}})}function j(){if(k.value=!0,!g.value){f("post",route("articles.markAsUnread",a.article.id),{}),k.value=!1,d("Marked as unread");return}v.post(route("articles.markAsUnread",a.article.id),{},{preserveScroll:!0,onFinish:()=>{k.value=!1,d("Marked as unread")}})}function m(){if(a.article.url)try{const o=new URL(a.article.url);(o.protocol==="http:"||o.protocol==="https:")&&window.open(o.href,"_blank","noopener,noreferrer")}catch{}}function N(){navigator.share?navigator.share({title:a.article.title,url:a.article.url}).catch(()=>{}):a.article.url&&navigator.clipboard.writeText(a.article.url).then(()=>{d("Link copied to clipboard")}).catch(()=>{})}let L=0,y=0;function O(o){L=o.touches[0].clientX,y=o.touches[0].clientY}function U(o){const t=o.changedTouches[0].clientX-L,q=o.changedTouches[0].clientY-y,C=Math.abs(Math.atan2(q,t)*180/Math.PI);C>T&&C<180-T||(t<-B&&a.nextArticleId?v.visit(route("articles.show",a.nextArticleId)):t>B&&a.prevArticleId&&v.visit(route("articles.show",a.prevArticleId)))}return(o,t)=>(s(),n(A,null,[M(F(P),{title:r.article.title},null,8,["title"]),M(H,null,{"header-left":x(()=>[e("button",{onClick:p,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors -ml-2","aria-label":"Go back"},[...t[0]||(t[0]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1)])])]),title:x(()=>[h(i(r.article.feed?.title),1)]),"header-right":x(()=>[e("button",{onClick:w,disabled:c.value,class:S(["rounded-lg p-2 transition-colors",l.value?"text-blue-400 hover:bg-neutral-200 dark:hover:bg-neutral-800":"text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200"]),"aria-label":l.value?"Remove from Read Later":"Save to Read Later"},[(s(),n("svg",{class:"h-5 w-5",fill:l.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,Y))],10,X),e("button",{onClick:j,disabled:k.value,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Mark as unread"},[...t[2]||(t[2]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 01-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 001.183 1.981l6.478 3.488m8.839 2.51l-4.66-2.51m0 0l-1.023-.55a2.25 2.25 0 00-2.134 0l-1.022.55m0 0l-4.661 2.51m16.5 1.615a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V8.844a2.25 2.25 0 011.183-1.98l7.5-4.04a2.25 2.25 0 012.134 0l7.5 4.04a2.25 2.25 0 011.183 1.98V18"})],-1)])],8,G),r.article.url?(s(),n("button",{key:0,onClick:m,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Open in browser"},[...t[3]||(t[3]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1)])])):u("",!0),e("button",{onClick:N,class:"rounded-lg p-2 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Share article"},[...t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})],-1)])])]),default:x(()=>[e("article",{class:"mx-auto max-w-3xl px-4 py-6",onTouchstartPassive:O,onTouchend:U},[e("header",W,[e("h1",Q,[r.article.url?(s(),n("a",{key:0,href:r.article.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-blue-500 dark:hover:text-blue-400 transition-colors"},i(r.article.title),9,J)):(s(),n(A,{key:1},[h(i(r.article.title),1)],64))]),e("div",K,[e("div",Z,[r.article.feed?.favicon_url?(s(),n("img",{key:0,src:r.article.feed.favicon_url,class:"h-4 w-4 rounded-sm",alt:""},null,8,$)):u("",!0),e("span",null,i(r.article.feed?.title),1)]),r.article.author?(s(),n("span",_,"· "+i(r.article.author),1)):u("",!0),e("span",null,"· "+i(I.value)+" at "+i(V.value),1)])]),e("div",{class:"article-content prose max-w-none dark:prose-invert prose-headings:text-neutral-800 dark:prose-headings:text-neutral-200 prose-p:text-neutral-700 dark:prose-p:text-neutral-300 prose-a:text-blue-400 prose-a:no-underline hover:prose-a:underline prose-strong:text-neutral-800 dark:prose-strong:text-neutral-200 prose-code:text-blue-300 prose-pre:bg-neutral-50 dark:prose-pre:bg-neutral-900 prose-pre:border prose-pre:border-neutral-200 dark:prose-pre:border-neutral-800 prose-img:rounded-lg prose-blockquote:border-neutral-300 dark:prose-blockquote:border-neutral-700 prose-blockquote:text-neutral-500 dark:prose-blockquote:text-neutral-400",innerHTML:r.article.content||r.article.summary},null,8,ee),!r.article.content&&!r.article.summary?(s(),n("div",te,[t[5]||(t[5]=e("p",{class:"text-neutral-500 dark:text-neutral-400"},"No article content available.",-1)),r.article.url?(s(),n("button",{key:0,onClick:m,class:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors"}," Read on original site ")):u("",!0)])):u("",!0),e("footer",re,[e("button",{onClick:p,class:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"},[...t[6]||(t[6]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),h(" Back to articles ",-1)])]),e("div",ae,[e("button",{onClick:w,disabled:c.value,class:S(["flex items-center gap-1.5 text-sm transition-colors",l.value?"text-blue-400":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200"])},[(s(),n("svg",{class:"h-4 w-4",fill:l.value?"currentColor":"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1)])],8,oe)),h(" "+i(l.value?"Saved":"Read Later"),1)],10,le),r.article.url?(s(),n("button",{key:0,onClick:m,class:"flex items-center gap-1.5 text-sm text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors"},[...t[8]||(t[8]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1),h(" Original ",-1)])])):u("",!0)])])],32)]),_:1})],64))}};export{de as default};
